/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/gga_exc/gga_x_pbea.mpl
  Type of functional: gga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t3, t4, t5, t7, t8, t9, t10, t12;
  double t13, t18, t19, t21, t25;

#ifndef XC_DONT_COMPILE_VXC
  double t30, t33, t34, t36, t40, t46, t49;

#ifndef XC_DONT_COMPILE_FXC
  double t57, t66, t67, t73, t81, t86, t94;
#endif

#endif

#endif



  t3 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t4 = M_CBRT3;
  t5 = M_CBRTPI;
  t7 = t4 / t5;
  t8 = POW_1_3(rho[0]);
  t9 = M_CBRT2;
  t10 = t9 * t9;
  t12 = rho[0] * rho[0];
  t13 = t8 * t8;
  t18 = 0.1e1 + 0.86399408095363255118e-2 * sigma[0] * t10 / t13 / t12;
  t19 = pow(t18, -0.52e0);
  t21 = 0.18040e1 - 0.8040e0 * t19;
  t25 = my_piecewise3(t3, 0, -0.3e1 / 0.8e1 * t7 * t8 * t21);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t25;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t30 = t12 * rho[0];
  t33 = t4 / t8 / t30;
  t34 = pow(t18, -0.152e1);
  t36 = t34 * sigma[0] * t10;
  t40 = my_piecewise3(t3, 0, -t7 / t13 * t21 / 0.8e1 + 0.24663433440595303582e-2 * t33 * t36);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t40 + 0.2e1 * t25;

  t46 = t34 * t10;
  t49 = my_piecewise3(t3, 0, -0.92487875402232388432e-3 * t4 / t8 / t12 * t46);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t49;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t57 = t12 * t12;
  t66 = pow(t18, -0.252e1);
  t67 = sigma[0] * sigma[0];
  t73 = my_piecewise3(t3, 0, t7 / t13 / rho[0] * t21 / 0.12e2 - 0.73990300321785910746e-2 * t4 / t8 / t57 * t36 + 0.17274545052360375959e-3 * t4 / t57 / t30 * t66 * t67 * t9);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t73 + 0.4e1 * t40;

  t81 = t66 * t9;
  t86 = my_piecewise3(t3, 0, 0.21580504260520890634e-2 * t33 * t46 - 0.64779543946351409847e-4 * t4 / t57 / t12 * t81 * sigma[0]);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t86 + 0.2e1 * t49;

  t94 = my_piecewise3(t3, 0, 0.24292328979881778693e-4 * t4 / t57 / rho[0] * t81);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t94;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t1, t2, t3, t4, t6, t7, t8, t9;
  double t10, t11, t12, t14, t15, t16, t17, t18;
  double t19, t21, t24, t25, t27, t28, t32, t33;
  double t35, t36, t37, t38, t39, t41, t44, t45;
  double t47, t48, t52;

#ifndef XC_DONT_COMPILE_VXC
  double t53, t58, t62, t64, t65, t66, t67, t68;
  double t69, t71, t72, t73, t76, t77, t78, t79;
  double t84, t88, t90, t92, t93, t94, t99, t103;
  double t108, t109, t114, t115, t117, t118, t119, t122;
  double t123, t124, t129, t134, t135, t138, t141, t142;
  double t145;

#ifndef XC_DONT_COMPILE_FXC
  double t148, t150, t153, t155, t162, t165, t168, t171;
  double t174, t176, t188, t189, t197, t202, t203, t209;
  double t213, t215, t218, t220, t221, t223, t226, t232;
  double t243, t251, t256, t257, t259, t261, t269, t277;
  double t285, t291, t303, t316, t334, t339, t340, t346;
  double t353, t367, t371, t378, t386, t403, t411, t418;
#endif

#endif

#endif



  t1 = 0.101e1 * p->threshold_dens;
  t2 = rho[0] <= t1;
  t3 = M_CBRT3;
  t4 = M_CBRTPI;
  t6 = t3 / t4;
  t7 = M_CBRT2;
  t8 = t6 * t7;
  t9 = rho[0] + rho[1];
  t10 = POW_1_3(t9);
  t11 = t10 * t10;
  t12 = 0.1e1 / t11;
  t14 = 0.1e1 / t9;
  t15 = rho[0] * t14;
  t16 = POW_1_3(t15);
  t17 = rho[0] * rho[0];
  t18 = POW_1_3(rho[0]);
  t19 = t18 * t18;
  t21 = 0.1e1 / t19 / t17;
  t24 = 0.1e1 + 0.86399408095363255118e-2 * sigma[0] * t21;
  t25 = pow(t24, -0.52e0);
  t27 = 0.18040e1 - 0.8040e0 * t25;
  t28 = t16 * t27;
  t32 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * rho[0] * t12 * t28);
  t33 = rho[1] <= t1;
  t35 = rho[1] * t14;
  t36 = POW_1_3(t35);
  t37 = rho[1] * rho[1];
  t38 = POW_1_3(rho[1]);
  t39 = t38 * t38;
  t41 = 0.1e1 / t39 / t37;
  t44 = 0.1e1 + 0.86399408095363255118e-2 * sigma[2] * t41;
  t45 = pow(t44, -0.52e0);
  t47 = 0.18040e1 - 0.8040e0 * t45;
  t48 = t36 * t47;
  t52 = my_piecewise3(t33, 0, -0.3e1 / 0.4e1 * t8 * rho[1] * t12 * t48);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t32 + t52;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t53 = t12 * t16;
  t58 = 0.1e1 / t11 / t9;
  t62 = t8 * rho[0] * t58 * t28 / 0.2e1;
  t64 = t6 * t7 * rho[0];
  t65 = t16 * t16;
  t66 = 0.1e1 / t65;
  t67 = t12 * t66;
  t68 = t9 * t9;
  t69 = 0.1e1 / t68;
  t71 = -rho[0] * t69 + t14;
  t72 = t27 * t71;
  t73 = t67 * t72;
  t76 = t3 * t7;
  t77 = t76 * t21;
  t78 = pow(t24, -0.152e1);
  t79 = t78 * sigma[0];
  t84 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t53 * t27 + t62 - t64 * t73 / 0.4e1 + 0.49326866881190607164e-2 * t77 * t53 * t79);
  t88 = t8 * rho[1] * t58 * t48 / 0.2e1;
  t90 = 0.1e1 / t11 / t68;
  t92 = t36 * t36;
  t93 = 0.1e1 / t92;
  t94 = t93 * t47;
  t99 = my_piecewise3(t33, 0, t88 + t8 * t37 * t90 * t94 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t32 + t52 + t9 * (t84 + t99);

  t103 = t66 * t27;
  t108 = my_piecewise3(t2, 0, t62 + t8 * t17 * t90 * t103 / 0.4e1);
  t109 = t12 * t36;
  t114 = t6 * t7 * rho[1];
  t115 = t12 * t93;
  t117 = -rho[1] * t69 + t14;
  t118 = t47 * t117;
  t119 = t115 * t118;
  t122 = t76 * t41;
  t123 = pow(t44, -0.152e1);
  t124 = t123 * sigma[2];
  t129 = my_piecewise3(t33, 0, -0.3e1 / 0.4e1 * t8 * t109 * t47 + t88 - t114 * t119 / 0.4e1 + 0.49326866881190607164e-2 * t122 * t109 * t124);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t32 + t52 + t9 * (t108 + t129);

  t134 = t76 / t19 / rho[0];
  t135 = t53 * t78;
  t138 = my_piecewise3(t2, 0, -0.18497575080446477686e-2 * t134 * t135);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t9 * t138;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t141 = t76 / t39 / rho[1];
  t142 = t109 * t123;
  t145 = my_piecewise3(t33, 0, -0.18497575080446477686e-2 * t141 * t142);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t9 * t145;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t148 = t58 * t16;
  t150 = t8 * t148 * t27;
  t153 = t76 * t12;
  t155 = t17 * rho[0];
  t162 = rho[0] * t90;
  t165 = 0.5e1 / 0.6e1 * t8 * t162 * t28;
  t168 = t64 * t58 * t66 * t72;
  t171 = t77 * t148 * t79;
  t174 = 0.1e1 / t65 / t15;
  t176 = t71 * t71;
  t188 = t68 * t9;
  t189 = 0.1e1 / t188;
  t197 = t17 * t17;
  t202 = pow(t24, -0.252e1);
  t203 = sigma[0] * sigma[0];
  t209 = my_piecewise3(t2, 0, t150 - t8 * t73 / 0.2e1 - 0.82211444801984345276e-2 * t153 * t16 * t78 * sigma[0] / t19 / t155 - t165 + t168 / 0.3e1 - 0.65769155841587476219e-2 * t171 + t64 * t12 * t174 * t27 * t176 / 0.6e1 + 0.32884577920793738110e-2 * t76 * t21 * t12 * t66 * t78 * sigma[0] * t71 - t64 * t67 * t27 * (0.2e1 * rho[0] * t189 - 0.2e1 * t69) / 0.4e1 + 0.17274545052360375959e-3 * t76 / t18 / t197 / t17 * t53 * t202 * t203);
  t213 = 0.5e1 / 0.6e1 * t8 * rho[1] * t90 * t48;
  t215 = 0.1e1 / t11 / t188;
  t218 = t8 * t37 * t215 * t94;
  t220 = t37 * rho[1];
  t221 = t68 * t68;
  t223 = 0.1e1 / t11 / t221;
  t226 = 0.1e1 / t92 / t35;
  t232 = my_piecewise3(t33, 0, -t213 - 0.5e1 / 0.6e1 * t218 + t8 * t220 * t223 * t226 * t47 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t84 + 0.2e1 * t99 + t9 * (t209 + t232);

  t243 = t8 * t17 * t215 * t103;
  t251 = t90 * t66;
  t256 = my_piecewise3(t2, 0, t150 / 0.2e1 - t165 + t168 / 0.6e1 - 0.32884577920793738110e-2 * t171 + t8 * t162 * t103 / 0.2e1 - 0.2e1 / 0.3e1 * t243 - t6 * t7 * t17 * t90 * t174 * t72 / 0.6e1 - 0.16442288960396869055e-2 * t134 * t251 * t79);
  t257 = t58 * t36;
  t259 = t8 * t257 * t47;
  t261 = t90 * t93;
  t269 = t114 * t58 * t93 * t118;
  t277 = rho[1] * t189;
  t285 = t122 * t257 * t124;
  t291 = my_piecewise3(t33, 0, t259 / 0.2e1 + t8 * t261 * t47 * rho[1] / 0.4e1 - t213 - t218 / 0.6e1 + t269 / 0.6e1 - t6 * t7 * t37 * t90 * t226 * t118 / 0.6e1 - t114 * t115 * t47 * (-t69 + 0.2e1 * t277) / 0.4e1 - 0.32884577920793738109e-2 * t285 - 0.16442288960396869055e-2 * t141 * t261 * t124);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t84 + t99 + t108 + t129 + t9 * (t256 + t291);

  t303 = my_piecewise3(t2, 0, -t165 - 0.5e1 / 0.6e1 * t243 + t8 * t155 * t223 * t174 * t27 / 0.6e1);
  t316 = t117 * t117;
  t334 = t37 * t37;
  t339 = pow(t44, -0.252e1);
  t340 = sigma[2] * sigma[2];
  t346 = my_piecewise3(t33, 0, t259 - t8 * t119 / 0.2e1 - 0.82211444801984345276e-2 * t153 * t36 * t123 * sigma[2] / t39 / t220 - t213 + t269 / 0.3e1 - 0.65769155841587476219e-2 * t285 + t114 * t12 * t226 * t47 * t316 / 0.6e1 + 0.32884577920793738110e-2 * t76 * t41 * t12 * t93 * t123 * sigma[2] * t117 - t114 * t115 * t47 * (-0.2e1 * t69 + 0.2e1 * t277) / 0.4e1 + 0.17274545052360375959e-3 * t76 / t38 / t334 / t37 * t109 * t339 * t340);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t108 + 0.2e1 * t129 + t9 * (t303 + t346);

  t353 = 0.12331716720297651791e-2 * t134 * t148 * t78;
  t367 = my_piecewise3(t2, 0, 0.30829291800744129477e-2 * t77 * t135 + t353 - 0.61658583601488258953e-3 * t134 * t67 * t78 * t71 - 0.64779543946351409845e-4 * t76 / t18 / t197 / rho[0] * t53 * t202 * sigma[0]);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t9 * t367 + t138;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t371 = 0.12331716720297651791e-2 * t141 * t257 * t123;
  t378 = my_piecewise3(t33, 0, t371 + 0.61658583601488258953e-3 * t76 / t39 * t261 * t123);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t9 * t378 + t145;

  t386 = my_piecewise3(t2, 0, t353 + 0.61658583601488258953e-3 * t76 / t19 * t251 * t78);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t9 * t386 + t138;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t403 = my_piecewise3(t33, 0, 0.30829291800744129477e-2 * t122 * t142 + t371 - 0.61658583601488258953e-3 * t141 * t115 * t123 * t117 - 0.64779543946351409845e-4 * t76 / t38 / t334 / rho[1] * t109 * t339 * sigma[2]);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t9 * t403 + t145;

  t411 = my_piecewise3(t2, 0, 0.24292328979881778692e-4 * t76 / t18 / t197 * t53 * t202);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t9 * t411;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t418 = my_piecewise3(t33, 0, 0.24292328979881778692e-4 * t76 / t38 / t334 * t109 * t339);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t9 * t418;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

