/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/gga_exc/gga_x_rge2.mpl
  Type of functional: gga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t3, t4, t5, t7, t8, t9, t10, t11;
  double t12, t14, t15, t16, t17, t18, t19, t21;
  double t25, t28, t29, t30, t31, t32, t34, t38;
  double t41, t45;

#ifndef XC_DONT_COMPILE_VXC
  double t46, t50, t51, t52, t53, t55, t61, t65;
  double t66, t70, t76, t80, t81, t84;

#ifndef XC_DONT_COMPILE_FXC
  double t92, t96, t97, t117, t137, t140, t151;
#endif

#endif

#endif



  t3 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t4 = M_CBRT3;
  t5 = M_CBRTPI;
  t7 = t4 / t5;
  t8 = POW_1_3(rho[0]);
  t9 = M_CBRT6;
  t10 = M_PI * M_PI;
  t11 = POW_1_3(t10);
  t12 = t11 * t11;
  t14 = t9 / t12;
  t15 = M_CBRT2;
  t16 = t15 * t15;
  t17 = sigma[0] * t16;
  t18 = rho[0] * rho[0];
  t19 = t8 * t8;
  t21 = 0.1e1 / t19 / t18;
  t25 = t9 * t9;
  t28 = t25 / t11 / t10;
  t29 = sigma[0] * sigma[0];
  t30 = t29 * t15;
  t31 = t18 * t18;
  t32 = t31 * rho[0];
  t34 = 0.1e1 / t8 / t32;
  t38 = 0.8040e0 + 0.5e1 / 0.972e3 * t14 * t17 * t21 + 0.65823568907145082055e-4 * t28 * t30 * t34;
  t41 = 0.18040e1 - 0.64641600e0 / t38;
  t45 = my_piecewise3(t3, 0, -0.3e1 / 0.8e1 * t7 * t8 * t41);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t45;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t46 = 0.1e1 / t19;
  t50 = t4 * t8;
  t51 = t38 * t38;
  t52 = 0.1e1 / t51;
  t53 = t18 * rho[0];
  t55 = 0.1e1 / t19 / t53;
  t61 = 0.1e1 / t8 / t31 / t18;
  t65 = -0.10e2 / 0.729e3 * t14 * t17 * t55 - 0.35105903417144043763e-3 * t28 * t30 * t61;
  t66 = t52 * t65;
  t70 = my_piecewise3(t3, 0, -t7 * t46 * t41 / 0.8e1 - 0.16551095363746320496e0 * t50 * t66);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t70 + 0.2e1 * t45;

  t76 = sigma[0] * t15;
  t80 = 0.5e1 / 0.972e3 * t14 * t16 * t21 + 0.13164713781429016411e-3 * t28 * t76 * t34;
  t81 = t52 * t80;
  t84 = my_piecewise3(t3, 0, -0.16551095363746320496e0 * t50 * t81);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t84;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t92 = t4 * t46;
  t96 = 0.1e1 / t51 / t38;
  t97 = t65 * t65;
  t117 = my_piecewise3(t3, 0, t7 / t19 / rho[0] * t41 / 0.12e2 - 0.11034063575830880331e0 * t92 * t66 + 0.33102190727492640992e0 * t50 * t96 * t97 - 0.16551095363746320496e0 * t50 * t52 * (0.110e3 / 0.2187e4 * t14 * t17 / t19 / t31 + 0.22233738830857894383e-2 * t28 * t30 / t8 / t31 / t53));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t117 + 0.4e1 * t70;

  t137 = my_piecewise3(t3, 0, -0.55170317879154401653e-1 * t92 * t81 + 0.33102190727492640992e0 * t50 * t96 * t80 * t65 - 0.16551095363746320496e0 * t50 * t52 * (-0.10e2 / 0.729e3 * t14 * t16 * t55 - 0.70211806834288087525e-3 * t28 * t76 * t61));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t137 + 0.2e1 * t84;

  t140 = t80 * t80;
  t151 = my_piecewise3(t3, 0, 0.33102190727492640992e0 * t50 * t96 * t140 - 0.21789043323285708475e-4 * t4 / t32 * t52 * t28 * t15);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t151;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t1, t2, t3, t4, t6, t7, t8, t9;
  double t10, t11, t12, t13, t14, t15, t16, t17;
  double t18, t19, t20, t22, t23, t24, t25, t27;
  double t31, t34, t35, t36, t39, t43, t46, t47;
  double t51, t52, t53, t54, t55, t56, t57, t58;
  double t60, t64, t65, t68, t72, t75, t76, t80;

#ifndef XC_DONT_COMPILE_VXC
  double t81, t86, t90, t92, t93, t94, t95, t96;
  double t97, t99, t100, t101, t104, t105, t106, t107;
  double t108, t110, t116, t120, t121, t126, t130, t132;
  double t134, t135, t136, t141, t145, t150, t151, t156;
  double t157, t159, t160, t161, t164, t165, t166, t167;
  double t169, t175, t179, t180, t185, t193, t194, t198;
  double t204, t205, t209;

#ifndef XC_DONT_COMPILE_FXC
  double t212, t214, t217, t218, t222, t225, t228, t231;
  double t234, t236, t241, t242, t247, t248, t257, t258;
  double t279, t280, t284, t286, t289, t291, t293, t296;
  double t302, t313, t321, t322, t327, t328, t330, t332;
  double t340, t348, t356, t358, t363, t375, t378, t385;
  double t390, t391, t403, t404, t425, t426, t434, t455;
  double t459, t464, t470, t495, t497, t510, t511, t524;
#endif

#endif

#endif



  t1 = 0.101e1 * p->threshold_dens;
  t2 = rho[0] <= t1;
  t3 = M_CBRT3;
  t4 = M_CBRTPI;
  t6 = t3 / t4;
  t7 = M_CBRT2;
  t8 = t6 * t7;
  t9 = rho[0] + rho[1];
  t10 = POW_1_3(t9);
  t11 = t10 * t10;
  t12 = 0.1e1 / t11;
  t13 = rho[0] * t12;
  t14 = 0.1e1 / t9;
  t15 = rho[0] * t14;
  t16 = POW_1_3(t15);
  t17 = M_CBRT6;
  t18 = M_PI * M_PI;
  t19 = POW_1_3(t18);
  t20 = t19 * t19;
  t22 = t17 / t20;
  t23 = rho[0] * rho[0];
  t24 = POW_1_3(rho[0]);
  t25 = t24 * t24;
  t27 = 0.1e1 / t25 / t23;
  t31 = t17 * t17;
  t34 = t31 / t19 / t18;
  t35 = sigma[0] * sigma[0];
  t36 = t23 * t23;
  t39 = 0.1e1 / t24 / t36 / rho[0];
  t43 = 0.8040e0 + 0.5e1 / 0.972e3 * t22 * sigma[0] * t27 + 0.32911784453572541027e-4 * t34 * t35 * t39;
  t46 = 0.18040e1 - 0.64641600e0 / t43;
  t47 = t16 * t46;
  t51 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t13 * t47);
  t52 = rho[1] <= t1;
  t53 = rho[1] * t12;
  t54 = rho[1] * t14;
  t55 = POW_1_3(t54);
  t56 = rho[1] * rho[1];
  t57 = POW_1_3(rho[1]);
  t58 = t57 * t57;
  t60 = 0.1e1 / t58 / t56;
  t64 = sigma[2] * sigma[2];
  t65 = t56 * t56;
  t68 = 0.1e1 / t57 / t65 / rho[1];
  t72 = 0.8040e0 + 0.5e1 / 0.972e3 * t22 * sigma[2] * t60 + 0.32911784453572541027e-4 * t34 * t64 * t68;
  t75 = 0.18040e1 - 0.64641600e0 / t72;
  t76 = t55 * t75;
  t80 = my_piecewise3(t52, 0, -0.3e1 / 0.4e1 * t8 * t53 * t76);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t51 + t80;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t81 = t12 * t16;
  t86 = 0.1e1 / t11 / t9;
  t90 = t8 * rho[0] * t86 * t47 / 0.2e1;
  t92 = t6 * t7 * rho[0];
  t93 = t16 * t16;
  t94 = 0.1e1 / t93;
  t95 = t12 * t94;
  t96 = t9 * t9;
  t97 = 0.1e1 / t96;
  t99 = -rho[0] * t97 + t14;
  t100 = t46 * t99;
  t101 = t95 * t100;
  t104 = t3 * t7;
  t105 = t104 * rho[0];
  t106 = t43 * t43;
  t107 = 0.1e1 / t106;
  t108 = t23 * rho[0];
  t110 = 0.1e1 / t25 / t108;
  t116 = 0.1e1 / t24 / t36 / t23;
  t120 = -0.10e2 / 0.729e3 * t22 * sigma[0] * t110 - 0.17552951708572021881e-3 * t34 * t35 * t116;
  t121 = t107 * t120;
  t126 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t81 * t46 + t90 - t92 * t101 / 0.4e1 - 0.33102190727492640992e0 * t105 * t81 * t121);
  t130 = t8 * rho[1] * t86 * t76 / 0.2e1;
  t132 = 0.1e1 / t11 / t96;
  t134 = t55 * t55;
  t135 = 0.1e1 / t134;
  t136 = t135 * t75;
  t141 = my_piecewise3(t52, 0, t130 + t8 * t56 * t132 * t136 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t51 + t80 + t9 * (t126 + t141);

  t145 = t94 * t46;
  t150 = my_piecewise3(t2, 0, t90 + t8 * t23 * t132 * t145 / 0.4e1);
  t151 = t12 * t55;
  t156 = t6 * t7 * rho[1];
  t157 = t12 * t135;
  t159 = -rho[1] * t97 + t14;
  t160 = t75 * t159;
  t161 = t157 * t160;
  t164 = t104 * rho[1];
  t165 = t72 * t72;
  t166 = 0.1e1 / t165;
  t167 = t56 * rho[1];
  t169 = 0.1e1 / t58 / t167;
  t175 = 0.1e1 / t57 / t65 / t56;
  t179 = -0.10e2 / 0.729e3 * t22 * sigma[2] * t169 - 0.17552951708572021881e-3 * t34 * t64 * t175;
  t180 = t166 * t179;
  t185 = my_piecewise3(t52, 0, -0.3e1 / 0.4e1 * t8 * t151 * t75 + t130 - t156 * t161 / 0.4e1 - 0.33102190727492640992e0 * t164 * t151 * t180);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t51 + t80 + t9 * (t150 + t185);

  t193 = 0.5e1 / 0.972e3 * t22 * t27 + 0.65823568907145082054e-4 * t34 * sigma[0] * t39;
  t194 = t107 * t193;
  t198 = my_piecewise3(t2, 0, -0.33102190727492640992e0 * t105 * t81 * t194);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t9 * t198;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t204 = 0.5e1 / 0.972e3 * t22 * t60 + 0.65823568907145082054e-4 * t34 * sigma[2] * t68;
  t205 = t166 * t204;
  t209 = my_piecewise3(t52, 0, -0.33102190727492640992e0 * t164 * t151 * t205);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t9 * t209;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t212 = t86 * t16;
  t214 = t8 * t212 * t46;
  t217 = t104 * t12;
  t218 = t16 * t107;
  t222 = rho[0] * t132;
  t225 = 0.5e1 / 0.6e1 * t8 * t222 * t47;
  t228 = t92 * t86 * t94 * t100;
  t231 = t105 * t212 * t121;
  t234 = 0.1e1 / t93 / t15;
  t236 = t99 * t99;
  t241 = t104 * t13;
  t242 = t94 * t107;
  t247 = t96 * t9;
  t248 = 0.1e1 / t247;
  t257 = 0.1e1 / t106 / t43;
  t258 = t120 * t120;
  t279 = t214 - t8 * t101 / 0.2e1 - 0.66204381454985281984e0 * t217 * t218 * t120 - t225 + t228 / 0.3e1 + 0.44136254303323521323e0 * t231 + t92 * t12 * t234 * t46 * t236 / 0.6e1 - 0.22068127151661760662e0 * t241 * t242 * t120 * t99 - t92 * t95 * t46 * (0.2e1 * rho[0] * t248 - 0.2e1 * t97) / 0.4e1 + 0.66204381454985281984e0 * t105 * t81 * t257 * t258 - 0.33102190727492640992e0 * t105 * t81 * t107 * (0.110e3 / 0.2187e4 * t22 * sigma[0] / t25 / t36 + 0.11116869415428947191e-2 * t34 * t35 / t24 / t36 / t108);
  t280 = my_piecewise3(t2, 0, t279);
  t284 = 0.5e1 / 0.6e1 * t8 * rho[1] * t132 * t76;
  t286 = 0.1e1 / t11 / t247;
  t289 = t8 * t56 * t286 * t136;
  t291 = t96 * t96;
  t293 = 0.1e1 / t11 / t291;
  t296 = 0.1e1 / t134 / t54;
  t302 = my_piecewise3(t52, 0, -t284 - 0.5e1 / 0.6e1 * t289 + t8 * t167 * t293 * t296 * t75 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t126 + 0.2e1 * t141 + t9 * (t280 + t302);

  t313 = t8 * t23 * t286 * t145;
  t321 = t104 * t23;
  t322 = t132 * t94;
  t327 = my_piecewise3(t2, 0, t214 / 0.2e1 - t225 + t228 / 0.6e1 + 0.22068127151661760662e0 * t231 + t8 * t222 * t145 / 0.2e1 - 0.2e1 / 0.3e1 * t313 - t6 * t7 * t23 * t132 * t234 * t100 / 0.6e1 + 0.11034063575830880331e0 * t321 * t322 * t121);
  t328 = t86 * t55;
  t330 = t8 * t328 * t75;
  t332 = t132 * t135;
  t340 = t156 * t86 * t135 * t160;
  t348 = rho[1] * t248;
  t356 = t164 * t328 * t180;
  t358 = t104 * t56;
  t363 = my_piecewise3(t52, 0, t330 / 0.2e1 + t8 * t332 * t75 * rho[1] / 0.4e1 - t284 - t289 / 0.6e1 + t340 / 0.6e1 - t6 * t7 * t56 * t132 * t296 * t160 / 0.6e1 - t156 * t157 * t75 * (-t97 + 0.2e1 * t348) / 0.4e1 + 0.22068127151661760661e0 * t356 + 0.11034063575830880331e0 * t358 * t332 * t180);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t126 + t141 + t150 + t185 + t9 * (t327 + t363);

  t375 = my_piecewise3(t2, 0, -t225 - 0.5e1 / 0.6e1 * t313 + t8 * t108 * t293 * t234 * t46 / 0.6e1);
  t378 = t55 * t166;
  t385 = t159 * t159;
  t390 = t104 * t53;
  t391 = t135 * t166;
  t403 = 0.1e1 / t165 / t72;
  t404 = t179 * t179;
  t425 = t330 - t8 * t161 / 0.2e1 - 0.66204381454985281984e0 * t217 * t378 * t179 - t284 + t340 / 0.3e1 + 0.44136254303323521323e0 * t356 + t156 * t12 * t296 * t75 * t385 / 0.6e1 - 0.22068127151661760662e0 * t390 * t391 * t179 * t159 - t156 * t157 * t75 * (-0.2e1 * t97 + 0.2e1 * t348) / 0.4e1 + 0.66204381454985281984e0 * t164 * t151 * t403 * t404 - 0.33102190727492640992e0 * t164 * t151 * t166 * (0.110e3 / 0.2187e4 * t22 * sigma[2] / t58 / t65 + 0.11116869415428947191e-2 * t34 * t64 / t57 / t65 / t167);
  t426 = my_piecewise3(t52, 0, t425);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t150 + 0.2e1 * t185 + t9 * (t375 + t426);

  t434 = 0.22068127151661760661e0 * t105 * t212 * t194;
  t455 = my_piecewise3(t2, 0, -0.33102190727492640992e0 * t217 * t218 * t193 + t434 - 0.11034063575830880331e0 * t241 * t242 * t193 * t99 + 0.66204381454985281984e0 * t241 * t16 * t257 * t193 * t120 - 0.33102190727492640992e0 * t105 * t81 * t107 * (-0.10e2 / 0.729e3 * t22 * t110 - 0.35105903417144043762e-3 * t34 * sigma[0] * t116));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t9 * t455 + t198;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t459 = 0.22068127151661760661e0 * t164 * t328 * t205;
  t464 = my_piecewise3(t52, 0, t459 + 0.11034063575830880331e0 * t358 * t332 * t205);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t9 * t464 + t209;

  t470 = my_piecewise3(t2, 0, t434 + 0.11034063575830880331e0 * t321 * t322 * t194);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t9 * t470 + t198;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t495 = my_piecewise3(t52, 0, -0.33102190727492640992e0 * t217 * t378 * t204 + t459 - 0.11034063575830880331e0 * t390 * t391 * t204 * t159 + 0.66204381454985281984e0 * t390 * t55 * t403 * t204 * t179 - 0.33102190727492640992e0 * t164 * t151 * t166 * (-0.10e2 / 0.729e3 * t22 * t169 - 0.35105903417144043762e-3 * t34 * sigma[2] * t175));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t9 * t495 + t209;

  t497 = t193 * t193;
  t510 = my_piecewise3(t2, 0, 0.66204381454985281984e0 * t105 * t81 * t257 * t497 - 0.21789043323285708475e-4 * t104 / t24 / t36 * t12 * t218 * t34);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t9 * t510;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t511 = t204 * t204;
  t524 = my_piecewise3(t52, 0, 0.66204381454985281984e0 * t164 * t151 * t403 * t511 - 0.21789043323285708475e-4 * t104 / t57 / t65 * t12 * t378 * t34);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t9 * t524;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

