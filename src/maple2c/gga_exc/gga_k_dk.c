/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/gga_exc/gga_k_dk.mpl
  Type of functional: gga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t3, t4, t5, t6, t8, t9, t10, t12;
  double t13, t14, t15, t16, t18, t19, t21, t22;
  double t23, t24, t27, t28, t31, t32, t33, t34;
  double t35, t38, t39, t40, t41, t44, t47, t50;
  double t51, t53, t54, t57, t58, t61, t62, t65;
  double t66, t70;

#ifndef XC_DONT_COMPILE_VXC
  double t71, t76, t78, t79, t85, t89, t95, t98;
  double t103, t104, t105, t106, t115, t116, t120, t123;
  double t125, t128, t131, t134, t138, t140, t143, t146;
  double t149, t150, t154;

#ifndef XC_DONT_COMPILE_FXC
  double t167, t172, t178, t181, t187, t195, t201, t202;
  double t219, t239, t265, t285, t303;
#endif

#endif

#endif


  gga_k_dk_params *params;

  assert(p->params != NULL);
  params = (gga_k_dk_params * )(p->params);

  t3 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t4 = M_CBRT3;
  t5 = t4 * t4;
  t6 = M_CBRTPI;
  t8 = t5 * t6 * M_PI;
  t9 = POW_1_3(rho[0]);
  t10 = t9 * t9;
  t12 = params->aa[1];
  t13 = t12 * sigma[0];
  t14 = M_CBRT2;
  t15 = t14 * t14;
  t16 = rho[0] * rho[0];
  t18 = 0.1e1 / t10 / t16;
  t19 = t15 * t18;
  t21 = params->aa[2];
  t22 = sigma[0] * sigma[0];
  t23 = t21 * t22;
  t24 = t16 * t16;
  t27 = 0.1e1 / t9 / t24 / rho[0];
  t28 = t14 * t27;
  t31 = params->aa[3];
  t32 = t22 * sigma[0];
  t33 = t31 * t32;
  t34 = t24 * t24;
  t35 = 0.1e1 / t34;
  t38 = params->aa[4];
  t39 = t22 * t22;
  t40 = t38 * t39;
  t41 = t34 * t16;
  t44 = t15 / t10 / t41;
  t47 = t13 * t19 + 0.2e1 * t23 * t28 + 0.4e1 * t33 * t35 + 0.4e1 * t40 * t44 + params->aa[0];
  t50 = params->bb[1];
  t51 = t50 * sigma[0];
  t53 = params->bb[2];
  t54 = t53 * t22;
  t57 = params->bb[3];
  t58 = t57 * t32;
  t61 = params->bb[4];
  t62 = t61 * t39;
  t65 = t51 * t19 + 0.2e1 * t54 * t28 + 0.4e1 * t58 * t35 + 0.4e1 * t62 * t44 + params->bb[0];
  t66 = 0.1e1 / t65;
  t70 = my_piecewise3(t3, 0, 0.3e1 / 0.20e2 * t8 * t10 * t47 * t66);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t70;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t71 = 0.1e1 / t9;
  t76 = t16 * rho[0];
  t78 = 0.1e1 / t10 / t76;
  t79 = t15 * t78;
  t85 = t14 / t9 / t24 / t16;
  t89 = 0.1e1 / t34 / rho[0];
  t95 = t15 / t10 / t34 / t76;
  t98 = -0.8e1 / 0.3e1 * t13 * t79 - 0.32e2 / 0.3e1 * t23 * t85 - 0.32e2 * t33 * t89 - 0.128e3 / 0.3e1 * t40 * t95;
  t103 = t8 * t10;
  t104 = t65 * t65;
  t105 = 0.1e1 / t104;
  t106 = t47 * t105;
  t115 = -0.8e1 / 0.3e1 * t51 * t79 - 0.32e2 / 0.3e1 * t54 * t85 - 0.32e2 * t58 * t89 - 0.128e3 / 0.3e1 * t62 * t95;
  t116 = t106 * t115;
  t120 = my_piecewise3(t3, 0, t8 * t71 * t47 * t66 / 0.10e2 + 0.3e1 / 0.20e2 * t8 * t10 * t98 * t66 - 0.3e1 / 0.20e2 * t103 * t116);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t120 + 0.2e1 * t70;

  t123 = t12 * t15;
  t125 = t21 * sigma[0];
  t128 = t31 * t22;
  t131 = t38 * t32;
  t134 = t123 * t18 + 0.4e1 * t125 * t28 + 0.12e2 * t128 * t35 + 0.16e2 * t131 * t44;
  t138 = t50 * t15;
  t140 = t53 * sigma[0];
  t143 = t57 * t22;
  t146 = t61 * t32;
  t149 = t138 * t18 + 0.4e1 * t140 * t28 + 0.12e2 * t143 * t35 + 0.16e2 * t146 * t44;
  t150 = t106 * t149;
  t154 = my_piecewise3(t3, 0, 0.3e1 / 0.20e2 * t8 * t10 * t134 * t66 - 0.3e1 / 0.20e2 * t103 * t150);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t154;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t167 = t8 * t71;
  t172 = t15 / t10 / t24;
  t178 = t14 / t9 / t24 / t76;
  t181 = 0.1e1 / t41;
  t187 = t15 / t10 / t34 / t24;
  t195 = t98 * t105;
  t201 = t47 / t104 / t65;
  t202 = t115 * t115;
  t219 = my_piecewise3(t3, 0, -t8 / t9 / rho[0] * t47 * t66 / 0.30e2 + t8 * t71 * t98 * t66 / 0.5e1 - t167 * t116 / 0.5e1 + 0.3e1 / 0.20e2 * t8 * t10 * (0.88e2 / 0.9e1 * t13 * t172 + 0.608e3 / 0.9e1 * t23 * t178 + 0.288e3 * t33 * t181 + 0.4480e4 / 0.9e1 * t40 * t187) * t66 - 0.3e1 / 0.10e2 * t103 * t195 * t115 + 0.3e1 / 0.10e2 * t103 * t201 * t202 - 0.3e1 / 0.20e2 * t103 * t106 * (0.88e2 / 0.9e1 * t51 * t172 + 0.608e3 / 0.9e1 * t54 * t178 + 0.288e3 * t58 * t181 + 0.4480e4 / 0.9e1 * t62 * t187));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t219 + 0.4e1 * t120;

  t239 = t134 * t105;
  t265 = my_piecewise3(t3, 0, t8 * t71 * t134 * t66 / 0.10e2 + 0.3e1 / 0.20e2 * t8 * t10 * (-0.8e1 / 0.3e1 * t123 * t78 - 0.64e2 / 0.3e1 * t125 * t85 - 0.96e2 * t128 * t89 - 0.512e3 / 0.3e1 * t131 * t95) * t66 - 0.3e1 / 0.20e2 * t103 * t239 * t115 - t167 * t150 / 0.10e2 - 0.3e1 / 0.20e2 * t103 * t195 * t149 + 0.3e1 / 0.10e2 * t103 * t201 * t149 * t115 - 0.3e1 / 0.20e2 * t103 * t106 * (-0.8e1 / 0.3e1 * t138 * t78 - 0.64e2 / 0.3e1 * t140 * t85 - 0.96e2 * t143 * t89 - 0.512e3 / 0.3e1 * t146 * t95));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t265 + 0.2e1 * t154;

  t285 = t149 * t149;
  t303 = my_piecewise3(t3, 0, 0.3e1 / 0.20e2 * t8 * t10 * (0.4e1 * t21 * t14 * t27 + 0.48e2 * t38 * t22 * t44 + 0.24e2 * t31 * sigma[0] * t35) * t66 - 0.3e1 / 0.10e2 * t103 * t239 * t149 + 0.3e1 / 0.10e2 * t103 * t201 * t285 - 0.3e1 / 0.20e2 * t103 * t106 * (0.4e1 * t53 * t14 * t27 + 0.48e2 * t61 * t22 * t44 + 0.24e2 * t57 * sigma[0] * t35));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t303;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t1, t2, t3, t4, t5, t7, t8, t9;
  double t10, t11, t12, t13, t14, t15, t16, t17;
  double t18, t19, t20, t21, t22, t24, t26, t27;
  double t28, t29, t32, t34, t35, t36, t37, t38;
  double t40, t41, t42, t43, t45, t47, t48, t49;
  double t50, t52, t53, t55, t56, t58, t59, t61;
  double t62, t63, t67, t68, t69, t70, t71, t72;
  double t73, t74, t75, t76, t77, t79, t81, t82;
  double t83, t86, t88, t89, t90, t91, t93, t94;
  double t95, t97, t99, t100, t102, t104, t106, t108;
  double t109, t110, t114;

#ifndef XC_DONT_COMPILE_VXC
  double t115, t116, t117, t121, t122, t125, t127, t128;
  double t129, t130, t131, t133, t134, t135, t138, t140;
  double t145, t149, t154, t157, t158, t162, t163, t172;
  double t173, t174, t178, t179, t182, t183, t185, t186;
  double t187, t192, t195, t196, t197, t201, t202, t203;
  double t207, t208, t210, t211, t212, t215, t217, t222;
  double t226, t231, t234, t235, t239, t240, t249, t250;
  double t251, t255, t259, t262, t265, t268, t269, t273;
  double t276, t279, t282, t283, t284, t288, t290, t293;
  double t296, t299, t300, t304, t307, t310, t313, t314;
  double t315, t319;

#ifndef XC_DONT_COMPILE_FXC
  double t325, t327, t328, t330, t336, t337, t345, t350;
  double t355, t358, t363, t374, t375, t382, t398, t399;
  double t400, t411, t412, t417, t418, t422, t424, t427;
  double t430, t432, t434, t440, t451, t454, t465, t466;
  double t475, t476, t479, t480, t484, t492, t497, t502;
  double t503, t515, t527, t532, t537, t540, t545, t576;
  double t587, t588, t593, t594, t597, t603, t627, t653;
  double t654, t658, t663, t668, t677, t679, t730, t731;
  double t749, t768, t785, t804;
#endif

#endif

#endif


  gga_k_dk_params *params;

  assert(p->params != NULL);
  params = (gga_k_dk_params * )(p->params);

  t1 = 0.101e1 * p->threshold_dens;
  t2 = rho[0] <= t1;
  t3 = M_CBRT6;
  t4 = t3 * t3;
  t5 = M_CBRTPI;
  t7 = t4 * t5 * M_PI;
  t8 = t7 * rho[0];
  t9 = rho[0] + rho[1];
  t10 = POW_1_3(t9);
  t11 = 0.1e1 / t10;
  t12 = 0.1e1 / t9;
  t13 = rho[0] * t12;
  t14 = POW_1_3(t13);
  t15 = t14 * t14;
  t16 = t11 * t15;
  t17 = params->aa[0];
  t18 = params->aa[1];
  t19 = t18 * sigma[0];
  t20 = rho[0] * rho[0];
  t21 = POW_1_3(rho[0]);
  t22 = t21 * t21;
  t24 = 0.1e1 / t22 / t20;
  t26 = params->aa[2];
  t27 = sigma[0] * sigma[0];
  t28 = t26 * t27;
  t29 = t20 * t20;
  t32 = 0.1e1 / t21 / t29 / rho[0];
  t34 = params->aa[3];
  t35 = t27 * sigma[0];
  t36 = t34 * t35;
  t37 = t29 * t29;
  t38 = 0.1e1 / t37;
  t40 = params->aa[4];
  t41 = t27 * t27;
  t42 = t40 * t41;
  t43 = t37 * t20;
  t45 = 0.1e1 / t22 / t43;
  t47 = t19 * t24 + t28 * t32 + t36 * t38 + t42 * t45 + t17;
  t48 = params->bb[0];
  t49 = params->bb[1];
  t50 = t49 * sigma[0];
  t52 = params->bb[2];
  t53 = t52 * t27;
  t55 = params->bb[3];
  t56 = t55 * t35;
  t58 = params->bb[4];
  t59 = t58 * t41;
  t61 = t50 * t24 + t53 * t32 + t56 * t38 + t59 * t45 + t48;
  t62 = 0.1e1 / t61;
  t63 = t47 * t62;
  t67 = my_piecewise3(t2, 0, 0.3e1 / 0.10e2 * t8 * t16 * t63);
  t68 = rho[1] <= t1;
  t69 = t7 * rho[1];
  t70 = rho[1] * t12;
  t71 = POW_1_3(t70);
  t72 = t71 * t71;
  t73 = t11 * t72;
  t74 = t18 * sigma[2];
  t75 = rho[1] * rho[1];
  t76 = POW_1_3(rho[1]);
  t77 = t76 * t76;
  t79 = 0.1e1 / t77 / t75;
  t81 = sigma[2] * sigma[2];
  t82 = t26 * t81;
  t83 = t75 * t75;
  t86 = 0.1e1 / t76 / t83 / rho[1];
  t88 = t81 * sigma[2];
  t89 = t34 * t88;
  t90 = t83 * t83;
  t91 = 0.1e1 / t90;
  t93 = t81 * t81;
  t94 = t40 * t93;
  t95 = t90 * t75;
  t97 = 0.1e1 / t77 / t95;
  t99 = t74 * t79 + t82 * t86 + t89 * t91 + t94 * t97 + t17;
  t100 = t49 * sigma[2];
  t102 = t52 * t81;
  t104 = t55 * t88;
  t106 = t58 * t93;
  t108 = t100 * t79 + t102 * t86 + t104 * t91 + t106 * t97 + t48;
  t109 = 0.1e1 / t108;
  t110 = t99 * t109;
  t114 = my_piecewise3(t68, 0, 0.3e1 / 0.10e2 * t69 * t73 * t110);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t67 + t114;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t115 = t7 * t11;
  t116 = t15 * t47;
  t117 = t116 * t62;
  t121 = 0.1e1 / t10 / t9;
  t122 = t121 * t15;
  t125 = t8 * t122 * t63 / 0.10e2;
  t127 = t7 * rho[0] * t11;
  t128 = 0.1e1 / t14;
  t129 = t128 * t47;
  t130 = t9 * t9;
  t131 = 0.1e1 / t130;
  t133 = -rho[0] * t131 + t12;
  t134 = t62 * t133;
  t135 = t129 * t134;
  t138 = t20 * rho[0];
  t140 = 0.1e1 / t22 / t138;
  t145 = 0.1e1 / t21 / t29 / t20;
  t149 = 0.1e1 / t37 / rho[0];
  t154 = 0.1e1 / t22 / t37 / t138;
  t157 = -0.8e1 / 0.3e1 * t19 * t140 - 0.16e2 / 0.3e1 * t28 * t145 - 0.8e1 * t36 * t149 - 0.32e2 / 0.3e1 * t42 * t154;
  t158 = t157 * t62;
  t162 = t61 * t61;
  t163 = 0.1e1 / t162;
  t172 = -0.8e1 / 0.3e1 * t50 * t140 - 0.16e2 / 0.3e1 * t53 * t145 - 0.8e1 * t56 * t149 - 0.32e2 / 0.3e1 * t59 * t154;
  t173 = t163 * t172;
  t174 = t116 * t173;
  t178 = my_piecewise3(t2, 0, 0.3e1 / 0.10e2 * t115 * t117 - t125 + t127 * t135 / 0.5e1 + 0.3e1 / 0.10e2 * t8 * t16 * t158 - 0.3e1 / 0.10e2 * t127 * t174);
  t179 = t121 * t72;
  t182 = t69 * t179 * t110 / 0.10e2;
  t183 = t7 * t75;
  t185 = 0.1e1 / t10 / t130;
  t186 = 0.1e1 / t71;
  t187 = t185 * t186;
  t192 = my_piecewise3(t68, 0, -t182 - t183 * t187 * t110 / 0.5e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t67 + t114 + t9 * (t178 + t192);

  t195 = t7 * t20;
  t196 = t185 * t128;
  t197 = t196 * t63;
  t201 = my_piecewise3(t2, 0, -t125 - t195 * t197 / 0.5e1);
  t202 = t72 * t99;
  t203 = t202 * t109;
  t207 = t7 * rho[1] * t11;
  t208 = t186 * t99;
  t210 = -rho[1] * t131 + t12;
  t211 = t109 * t210;
  t212 = t208 * t211;
  t215 = t75 * rho[1];
  t217 = 0.1e1 / t77 / t215;
  t222 = 0.1e1 / t76 / t83 / t75;
  t226 = 0.1e1 / t90 / rho[1];
  t231 = 0.1e1 / t77 / t90 / t215;
  t234 = -0.8e1 / 0.3e1 * t74 * t217 - 0.16e2 / 0.3e1 * t82 * t222 - 0.8e1 * t89 * t226 - 0.32e2 / 0.3e1 * t94 * t231;
  t235 = t234 * t109;
  t239 = t108 * t108;
  t240 = 0.1e1 / t239;
  t249 = -0.8e1 / 0.3e1 * t100 * t217 - 0.16e2 / 0.3e1 * t102 * t222 - 0.8e1 * t104 * t226 - 0.32e2 / 0.3e1 * t106 * t231;
  t250 = t240 * t249;
  t251 = t202 * t250;
  t255 = my_piecewise3(t68, 0, 0.3e1 / 0.10e2 * t115 * t203 - t182 + t207 * t212 / 0.5e1 + 0.3e1 / 0.10e2 * t69 * t73 * t235 - 0.3e1 / 0.10e2 * t207 * t251);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t67 + t114 + t9 * (t201 + t255);

  t259 = t26 * sigma[0];
  t262 = t34 * t27;
  t265 = t40 * t35;
  t268 = t18 * t24 + 0.2e1 * t259 * t32 + 0.3e1 * t262 * t38 + 0.4e1 * t265 * t45;
  t269 = t268 * t62;
  t273 = t52 * sigma[0];
  t276 = t55 * t27;
  t279 = t58 * t35;
  t282 = t49 * t24 + 0.2e1 * t273 * t32 + 0.3e1 * t276 * t38 + 0.4e1 * t279 * t45;
  t283 = t163 * t282;
  t284 = t116 * t283;
  t288 = my_piecewise3(t2, 0, 0.3e1 / 0.10e2 * t8 * t16 * t269 - 0.3e1 / 0.10e2 * t127 * t284);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t9 * t288;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t290 = t26 * sigma[2];
  t293 = t34 * t81;
  t296 = t40 * t88;
  t299 = t18 * t79 + 0.2e1 * t290 * t86 + 0.3e1 * t293 * t91 + 0.4e1 * t296 * t97;
  t300 = t299 * t109;
  t304 = t52 * sigma[2];
  t307 = t55 * t81;
  t310 = t58 * t88;
  t313 = 0.2e1 * t304 * t86 + 0.3e1 * t307 * t91 + 0.4e1 * t310 * t97 + t49 * t79;
  t314 = t240 * t313;
  t315 = t202 * t314;
  t319 = my_piecewise3(t68, 0, 0.3e1 / 0.10e2 * t69 * t73 * t300 - 0.3e1 / 0.10e2 * t207 * t315);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t9 * t319;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t325 = 0.2e1 / 0.15e2 * t8 * t185 * t15 * t63;
  t327 = t7 * rho[0] * t121;
  t328 = t327 * t135;
  t330 = t327 * t174;
  t336 = t130 * t9;
  t337 = 0.1e1 / t336;
  t345 = t15 * t157;
  t350 = 0.1e1 / t22 / t29;
  t355 = 0.1e1 / t21 / t29 / t138;
  t358 = 0.1e1 / t43;
  t363 = 0.1e1 / t22 / t37 / t29;
  t374 = t7 * t121;
  t375 = t374 * t117;
  t382 = t8 * t122 * t158;
  t398 = 0.1e1 / t14 / t13;
  t399 = t398 * t47;
  t400 = t133 * t133;
  t411 = 0.1e1 / t162 / t61;
  t412 = t172 * t172;
  t417 = t325 - 0.2e1 / 0.15e2 * t328 + t330 / 0.5e1 + 0.2e1 / 0.5e1 * t127 * t128 * t157 * t134 + t127 * t129 * t62 * (0.2e1 * rho[0] * t337 - 0.2e1 * t131) / 0.5e1 - 0.3e1 / 0.5e1 * t127 * t345 * t173 - 0.3e1 / 0.10e2 * t127 * t116 * t163 * (0.88e2 / 0.9e1 * t50 * t350 + 0.304e3 / 0.9e1 * t53 * t355 + 0.72e2 * t56 * t358 + 0.1120e4 / 0.9e1 * t59 * t363) + 0.3e1 / 0.5e1 * t115 * t345 * t62 - t375 / 0.5e1 + 0.2e1 / 0.5e1 * t115 * t135 - 0.3e1 / 0.5e1 * t115 * t174 - t382 / 0.5e1 + 0.3e1 / 0.10e2 * t8 * t16 * (0.88e2 / 0.9e1 * t19 * t350 + 0.304e3 / 0.9e1 * t28 * t355 + 0.72e2 * t36 * t358 + 0.1120e4 / 0.9e1 * t42 * t363) * t62 - t127 * t399 * t62 * t400 / 0.15e2 - 0.2e1 / 0.5e1 * t127 * t129 * t163 * t133 * t172 + 0.3e1 / 0.5e1 * t127 * t116 * t411 * t412;
  t418 = my_piecewise3(t2, 0, t417);
  t422 = 0.2e1 / 0.15e2 * t69 * t185 * t72 * t110;
  t424 = 0.1e1 / t10 / t336;
  t427 = t183 * t424 * t186 * t110;
  t430 = t130 * t130;
  t432 = 0.1e1 / t10 / t430;
  t434 = 0.1e1 / t71 / t70;
  t440 = my_piecewise3(t68, 0, t422 + 0.8e1 / 0.15e2 * t427 - t7 * t215 * t432 * t434 * t110 / 0.15e2);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t178 + 0.2e1 * t192 + t9 * (t418 + t440);

  t451 = t195 * t424 * t128 * t63;
  t454 = t7 * t20 * t185;
  t465 = my_piecewise3(t2, 0, -t375 / 0.10e2 + t325 - t328 / 0.15e2 - t382 / 0.10e2 + t330 / 0.10e2 - 0.2e1 / 0.5e1 * t8 * t197 + 0.7e1 / 0.15e2 * t451 + t454 * t399 * t134 / 0.15e2 - t195 * t196 * t158 / 0.5e1 + t454 * t129 * t173 / 0.5e1);
  t466 = t374 * t203;
  t475 = t7 * rho[1] * t121;
  t476 = t475 * t212;
  t479 = t7 * t75 * t185;
  t480 = t434 * t99;
  t484 = rho[1] * t337;
  t492 = t69 * t179 * t235;
  t497 = t475 * t251;
  t502 = -t466 / 0.10e2 - t7 * t185 * t208 * t109 * rho[1] / 0.5e1 + t422 + t427 / 0.15e2 - t476 / 0.15e2 + t479 * t480 * t211 / 0.15e2 + t207 * t208 * t109 * (-t131 + 0.2e1 * t484) / 0.5e1 - t492 / 0.10e2 - t183 * t187 * t235 / 0.5e1 + t497 / 0.10e2 + t479 * t208 * t250 / 0.5e1;
  t503 = my_piecewise3(t68, 0, t502);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t178 + t192 + t201 + t255 + t9 * (t465 + t503);

  t515 = my_piecewise3(t2, 0, t325 + 0.8e1 / 0.15e2 * t451 - t7 * t138 * t432 * t398 * t63 / 0.15e2);
  t527 = t72 * t234;
  t532 = 0.1e1 / t77 / t83;
  t537 = 0.1e1 / t76 / t83 / t215;
  t540 = 0.1e1 / t95;
  t545 = 0.1e1 / t77 / t90 / t83;
  t576 = t210 * t210;
  t587 = 0.1e1 / t239 / t108;
  t588 = t249 * t249;
  t593 = t422 - t492 / 0.5e1 + 0.2e1 / 0.5e1 * t207 * t186 * t234 * t211 + t207 * t208 * t109 * (-0.2e1 * t131 + 0.2e1 * t484) / 0.5e1 - 0.3e1 / 0.5e1 * t207 * t527 * t250 - 0.3e1 / 0.10e2 * t207 * t202 * t240 * (0.88e2 / 0.9e1 * t100 * t532 + 0.304e3 / 0.9e1 * t102 * t537 + 0.72e2 * t104 * t540 + 0.1120e4 / 0.9e1 * t106 * t545) + 0.3e1 / 0.5e1 * t115 * t527 * t109 - t466 / 0.5e1 + 0.2e1 / 0.5e1 * t115 * t212 - 0.3e1 / 0.5e1 * t115 * t251 + 0.3e1 / 0.10e2 * t69 * t73 * (0.88e2 / 0.9e1 * t74 * t532 + 0.304e3 / 0.9e1 * t82 * t537 + 0.72e2 * t89 * t540 + 0.1120e4 / 0.9e1 * t94 * t545) * t109 - 0.2e1 / 0.15e2 * t476 + t497 / 0.5e1 - t207 * t480 * t109 * t576 / 0.15e2 - 0.2e1 / 0.5e1 * t207 * t208 * t240 * t210 * t249 + 0.3e1 / 0.5e1 * t207 * t202 * t587 * t588;
  t594 = my_piecewise3(t68, 0, t593);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t201 + 0.2e1 * t255 + t9 * (t515 + t594);

  t597 = t15 * t268;
  t603 = t8 * t122 * t269 / 0.10e2;
  t627 = t327 * t284 / 0.10e2;
  t653 = 0.3e1 / 0.10e2 * t115 * t597 * t62 - t603 + t127 * t128 * t268 * t134 / 0.5e1 + 0.3e1 / 0.10e2 * t8 * t16 * (-0.8e1 / 0.3e1 * t18 * t140 - 0.32e2 / 0.3e1 * t259 * t145 - 0.24e2 * t262 * t149 - 0.128e3 / 0.3e1 * t265 * t154) * t62 - 0.3e1 / 0.10e2 * t127 * t597 * t173 - 0.3e1 / 0.10e2 * t115 * t284 + t627 - t127 * t129 * t283 * t133 / 0.5e1 - 0.3e1 / 0.10e2 * t127 * t345 * t283 + 0.3e1 / 0.5e1 * t127 * t116 * t411 * t282 * t172 - 0.3e1 / 0.10e2 * t127 * t116 * t163 * (-0.8e1 / 0.3e1 * t49 * t140 - 0.32e2 / 0.3e1 * t273 * t145 - 0.24e2 * t276 * t149 - 0.128e3 / 0.3e1 * t279 * t154);
  t654 = my_piecewise3(t2, 0, t653);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t9 * t654 + t288;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t658 = t69 * t179 * t300 / 0.10e2;
  t663 = t475 * t315 / 0.10e2;
  t668 = my_piecewise3(t68, 0, -t658 - t183 * t187 * t300 / 0.5e1 + t663 + t479 * t208 * t314 / 0.5e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t9 * t668 + t319;

  t677 = my_piecewise3(t2, 0, -t603 - t195 * t196 * t269 / 0.5e1 + t627 + t454 * t129 * t283 / 0.5e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t9 * t677 + t288;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t679 = t72 * t299;
  t730 = 0.3e1 / 0.10e2 * t115 * t679 * t109 - t658 + t207 * t186 * t299 * t211 / 0.5e1 + 0.3e1 / 0.10e2 * t69 * t73 * (-0.8e1 / 0.3e1 * t18 * t217 - 0.32e2 / 0.3e1 * t290 * t222 - 0.24e2 * t293 * t226 - 0.128e3 / 0.3e1 * t296 * t231) * t109 - 0.3e1 / 0.10e2 * t207 * t679 * t250 - 0.3e1 / 0.10e2 * t115 * t315 + t663 - t207 * t208 * t314 * t210 / 0.5e1 - 0.3e1 / 0.10e2 * t207 * t527 * t314 + 0.3e1 / 0.5e1 * t207 * t202 * t587 * t313 * t249 - 0.3e1 / 0.10e2 * t207 * t202 * t240 * (-0.8e1 / 0.3e1 * t49 * t217 - 0.32e2 / 0.3e1 * t304 * t222 - 0.24e2 * t307 * t226 - 0.128e3 / 0.3e1 * t310 * t231);
  t731 = my_piecewise3(t68, 0, t730);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t9 * t731 + t319;

  t749 = t282 * t282;
  t768 = my_piecewise3(t2, 0, 0.3e1 / 0.10e2 * t8 * t16 * (0.12e2 * t40 * t27 * t45 + 0.6e1 * t34 * sigma[0] * t38 + 0.2e1 * t26 * t32) * t62 - 0.3e1 / 0.5e1 * t127 * t597 * t283 + 0.3e1 / 0.5e1 * t127 * t116 * t411 * t749 - 0.3e1 / 0.10e2 * t127 * t116 * t163 * (0.12e2 * t58 * t27 * t45 + 0.6e1 * t55 * sigma[0] * t38 + 0.2e1 * t52 * t32));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t9 * t768;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t785 = t313 * t313;
  t804 = my_piecewise3(t68, 0, 0.3e1 / 0.10e2 * t69 * t73 * (0.6e1 * t34 * sigma[2] * t91 + 0.12e2 * t40 * t81 * t97 + 0.2e1 * t26 * t86) * t109 - 0.3e1 / 0.5e1 * t207 * t679 * t314 + 0.3e1 / 0.5e1 * t207 * t202 * t587 * t785 - 0.3e1 / 0.10e2 * t207 * t202 * t240 * (0.6e1 * t55 * sigma[2] * t91 + 0.12e2 * t58 * t81 * t97 + 0.2e1 * t52 * t86));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t9 * t804;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

