/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/gga_exc/gga_x_dk87.mpl
  Type of functional: gga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t3, t4, t5, t7, t8, t9, t10, t11;
  double t12, t13, t14, t15, t16, t18, t19, t21;
  double t22, t23, t24, t25, t26, t27, t28, t30;
  double t31, t36, t37, t38, t40, t41, t43, t44;
  double t45, t49, t53;

#ifndef XC_DONT_COMPILE_VXC
  double t54, t58, t60, t62, t66, t67, t69, t70;
  double t73, t77, t78, t79, t82, t84, t85, t87;
  double t91, t96, t99, t103, t104, t105, t112, t117;
  double t121;

#ifndef XC_DONT_COMPILE_FXC
  double t133, t139, t145, t150, t156, t161, t162, t168;
  double t175, t176, t185, t195, t205, t210, t231, t235;
  double t262;
#endif

#endif

#endif


  gga_x_dk87_params *params;
 
  assert(p->params != NULL);
  params = (gga_x_dk87_params * )(p->params);

  t3 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t4 = M_CBRT3;
  t5 = M_CBRTPI;
  t7 = t4 / t5;
  t8 = POW_1_3(rho[0]);
  t9 = 0.1e1 / M_PI;
  t10 = M_CBRT6;
  t11 = t10 * t10;
  t12 = t9 * t11;
  t13 = M_PI * M_PI;
  t14 = POW_1_3(t13);
  t15 = 0.1e1 / t14;
  t16 = t4 * t4;
  t18 = POW_1_3(t9);
  t19 = 0.1e1 / t18;
  t21 = t12 * t15 * t16 * t19;
  t22 = M_CBRT4;
  t23 = t22 * sigma[0];
  t24 = M_CBRT2;
  t25 = t24 * t24;
  t26 = t23 * t25;
  t27 = rho[0] * rho[0];
  t28 = t8 * t8;
  t30 = 0.1e1 / t28 / t27;
  t31 = sqrt(sigma[0]);
  t36 = pow(t31 * t24 / t8 / rho[0], params->alpha);
  t37 = params->a1 * t36;
  t38 = 0.1e1 + t37;
  t40 = params->b1 * sigma[0];
  t41 = t25 * t30;
  t43 = t40 * t41 + 0.1e1;
  t44 = 0.1e1 / t43;
  t45 = t30 * t38 * t44;
  t49 = 0.1e1 + 0.7e1 / 0.11664e5 * t21 * t26 * t45;
  t53 = my_piecewise3(t3, 0, -0.3e1 / 0.8e1 * t7 * t8 * t49);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t53;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t54 = 0.1e1 / t28;
  t58 = t27 * rho[0];
  t60 = 0.1e1 / t28 / t58;
  t62 = t60 * t38 * t44;
  t66 = t12 * t15;
  t67 = t16 * t19;
  t69 = t66 * t67 * t22;
  t70 = sigma[0] * t25;
  t73 = t37 * params->alpha * t44;
  t77 = sigma[0] * sigma[0];
  t78 = t77 * t24;
  t79 = t27 * t27;
  t82 = 0.1e1 / t8 / t79 / t27;
  t84 = t43 * t43;
  t85 = 0.1e1 / t84;
  t87 = t38 * t85 * params->b1;
  t91 = -0.7e1 / 0.4374e4 * t21 * t26 * t62 - 0.7e1 / 0.8748e4 * t69 * t70 * t60 * t73 + 0.7e1 / 0.2187e4 * t69 * t78 * t82 * t87;
  t96 = my_piecewise3(t3, 0, -t7 * t54 * t49 / 0.8e1 - 0.3e1 / 0.8e1 * t7 * t8 * t91);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t96 + 0.2e1 * t53;

  t99 = t22 * t25;
  t103 = t41 * params->a1;
  t104 = t36 * params->alpha;
  t105 = t104 * t44;
  t112 = 0.1e1 / t8 / t79 / rho[0];
  t117 = 0.7e1 / 0.11664e5 * t21 * t99 * t45 + 0.7e1 / 0.23328e5 * t69 * t103 * t105 - 0.7e1 / 0.5832e4 * t69 * sigma[0] * t24 * t112 * t87;
  t121 = my_piecewise3(t3, 0, -0.3e1 / 0.8e1 * t7 * t8 * t117);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t121;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t133 = 0.1e1 / t28 / t79;
  t139 = t70 * t133;
  t145 = 0.1e1 / t8 / t79 / t58;
  t150 = params->alpha * params->alpha;
  t156 = t22 * t77;
  t161 = t85 * params->b1;
  t162 = t104 * t161;
  t168 = t79 * t79;
  t175 = params->b1 * params->b1;
  t176 = t38 / t84 / t43 * t175;
  t185 = my_piecewise3(t3, 0, t7 / t28 / rho[0] * t49 / 0.12e2 - t7 * t54 * t91 / 0.4e1 - 0.3e1 / 0.8e1 * t7 * t8 * (0.77e2 / 0.13122e5 * t21 * t26 * t133 * t38 * t44 + 0.133e3 / 0.26244e5 * t69 * t139 * t73 - 0.7e1 / 0.243e3 * t69 * t78 * t145 * t87 + 0.7e1 / 0.6561e4 * t69 * t139 * t37 * t150 * t44 - 0.56e2 / 0.6561e4 * t66 * t67 * t156 * t24 * t145 * params->a1 * t162 + 0.224e3 / 0.6561e4 * t21 * t22 * t77 * sigma[0] / t168 / t27 * t176));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t185 + 0.4e1 * t96;

  t195 = t25 * t60 * params->a1;
  t205 = t36 * t150;
  t210 = t22 * t24;
  t231 = my_piecewise3(t3, 0, -t7 * t54 * t117 / 0.8e1 - 0.3e1 / 0.8e1 * t7 * t8 * (-0.7e1 / 0.4374e4 * t21 * t99 * t62 - 0.7e1 / 0.4374e4 * t69 * t195 * t105 + 0.7e1 / 0.729e3 * t69 * t24 * t82 * t38 * t161 * sigma[0] - 0.7e1 / 0.17496e5 * t69 * t195 * t205 * t44 + 0.7e1 / 0.2187e4 * t66 * t67 * t210 * t82 * params->a1 * t36 * params->alpha * t85 * t40 - 0.28e2 / 0.2187e4 * t21 * t156 / t168 / rho[0] * t176));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t231 + 0.2e1 * t121;

  t235 = 0.1e1 / sigma[0] * t44;
  t262 = my_piecewise3(t3, 0, -0.3e1 / 0.8e1 * t7 * t8 * (0.7e1 / 0.23328e5 * t69 * t103 * t104 * t235 - 0.7e1 / 0.2916e4 * t21 * t210 * t112 * t87 + 0.7e1 / 0.46656e5 * t69 * t103 * t205 * t235 - 0.7e1 / 0.5832e4 * t69 * t24 * t112 * params->a1 * t162 + 0.7e1 / 0.1458e4 * t21 * t23 / t168 * t176));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t262;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t1, t2, t3, t4, t6, t7, t8, t9;
  double t10, t11, t12, t13, t14, t15, t16, t17;
  double t18, t19, t20, t21, t22, t23, t24, t25;
  double t26, t27, t29, t30, t31, t32, t33, t34;
  double t36, t37, t41, t43, t45, t47, t48, t49;
  double t53, t54, t58, t59, t60, t61, t62, t63;
  double t64, t65, t66, t68, t69, t73, t75, t77;
  double t79, t80, t81, t85, t86, t90;

#ifndef XC_DONT_COMPILE_VXC
  double t91, t96, t97, t100, t102, t103, t104, t105;
  double t106, t107, t109, t110, t111, t114, t116, t118;
  double t125, t128, t129, t133, t134, t135, t138, t140;
  double t141, t143, t147, t148, t153, t154, t157, t159;
  double t160, t161, t162, t163, t168, t171, t172, t177;
  double t178, t183, t184, t186, t187, t188, t191, t193;
  double t195, t201, t202, t206, t207, t208, t211, t213;
  double t214, t216, t220, t221, t226, t229, t230, t241;
  double t246, t247, t251, t262, t267, t268, t272;

#ifndef XC_DONT_COMPILE_FXC
  double t277, t283, t286, t289, t292, t294, t296, t305;
  double t306, t315, t322, t328, t333, t335, t341, t348;
  double t355, t356, t366, t370, t372, t375, t377, t379;
  double t382, t388, t399, t412, t415, t425, t433, t441;
  double t448, t460, t468, t484, t491, t497, t503, t509;
  double t516, t523, t533, t541, t550, t565, t582, t586;
  double t592, t599, t612, t627, t644, t647, t648, t679;
  double t681, t682, t713;
#endif

#endif

#endif


  gga_x_dk87_params *params;
 
  assert(p->params != NULL);
  params = (gga_x_dk87_params * )(p->params);

  t1 = 0.101e1 * p->threshold_dens;
  t2 = rho[0] <= t1;
  t3 = M_CBRT3;
  t4 = M_CBRTPI;
  t6 = t3 / t4;
  t7 = M_CBRT2;
  t8 = t6 * t7;
  t9 = rho[0] + rho[1];
  t10 = POW_1_3(t9);
  t11 = t10 * t10;
  t12 = 0.1e1 / t11;
  t13 = rho[0] * t12;
  t14 = 0.1e1 / t9;
  t15 = rho[0] * t14;
  t16 = POW_1_3(t15);
  t17 = 0.1e1 / M_PI;
  t18 = M_CBRT6;
  t19 = t18 * t18;
  t20 = t17 * t19;
  t21 = M_PI * M_PI;
  t22 = POW_1_3(t21);
  t23 = 0.1e1 / t22;
  t24 = t3 * t3;
  t25 = t23 * t24;
  t26 = POW_1_3(t17);
  t27 = 0.1e1 / t26;
  t29 = t20 * t25 * t27;
  t30 = M_CBRT4;
  t31 = t30 * sigma[0];
  t32 = rho[0] * rho[0];
  t33 = POW_1_3(rho[0]);
  t34 = t33 * t33;
  t36 = 0.1e1 / t34 / t32;
  t37 = sqrt(sigma[0]);
  t41 = pow(t37 / t33 / rho[0], params->alpha);
  t43 = params->a1 * t41 + 0.1e1;
  t45 = params->b1 * sigma[0];
  t47 = t45 * t36 + 0.1e1;
  t48 = 0.1e1 / t47;
  t49 = t36 * t43 * t48;
  t53 = 0.1e1 + 0.7e1 / 0.11664e5 * t29 * t31 * t49;
  t54 = t16 * t53;
  t58 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t13 * t54);
  t59 = rho[1] <= t1;
  t60 = rho[1] * t12;
  t61 = rho[1] * t14;
  t62 = POW_1_3(t61);
  t63 = t30 * sigma[2];
  t64 = rho[1] * rho[1];
  t65 = POW_1_3(rho[1]);
  t66 = t65 * t65;
  t68 = 0.1e1 / t66 / t64;
  t69 = sqrt(sigma[2]);
  t73 = pow(t69 / t65 / rho[1], params->alpha);
  t75 = params->a1 * t73 + 0.1e1;
  t77 = params->b1 * sigma[2];
  t79 = t77 * t68 + 0.1e1;
  t80 = 0.1e1 / t79;
  t81 = t68 * t75 * t80;
  t85 = 0.1e1 + 0.7e1 / 0.11664e5 * t29 * t63 * t81;
  t86 = t62 * t85;
  t90 = my_piecewise3(t59, 0, -0.3e1 / 0.4e1 * t8 * t60 * t86);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t58 + t90;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t91 = t12 * t16;
  t96 = 0.1e1 / t11 / t9;
  t97 = rho[0] * t96;
  t100 = t8 * t97 * t54 / 0.2e1;
  t102 = t6 * t7 * rho[0];
  t103 = t16 * t16;
  t104 = 0.1e1 / t103;
  t105 = t12 * t104;
  t106 = t9 * t9;
  t107 = 0.1e1 / t106;
  t109 = -rho[0] * t107 + t14;
  t110 = t53 * t109;
  t111 = t105 * t110;
  t114 = t32 * rho[0];
  t116 = 0.1e1 / t34 / t114;
  t118 = t116 * t43 * t48;
  t125 = t20 * t23 * t24 * t27 * t30;
  t128 = t41 * params->alpha;
  t129 = t128 * t48;
  t133 = sigma[0] * sigma[0];
  t134 = t30 * t133;
  t135 = t32 * t32;
  t138 = 0.1e1 / t33 / t135 / t32;
  t140 = t47 * t47;
  t141 = 0.1e1 / t140;
  t143 = t43 * t141 * params->b1;
  t147 = -0.7e1 / 0.4374e4 * t29 * t31 * t118 - 0.7e1 / 0.8748e4 * t125 * sigma[0] * t116 * params->a1 * t129 + 0.7e1 / 0.4374e4 * t29 * t134 * t138 * t143;
  t148 = t16 * t147;
  t153 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t91 * t53 + t100 - t102 * t111 / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t13 * t148);
  t154 = rho[1] * t96;
  t157 = t8 * t154 * t86 / 0.2e1;
  t159 = 0.1e1 / t11 / t106;
  t160 = t64 * t159;
  t161 = t62 * t62;
  t162 = 0.1e1 / t161;
  t163 = t162 * t85;
  t168 = my_piecewise3(t59, 0, t157 + t8 * t160 * t163 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t58 + t90 + t9 * (t153 + t168);

  t171 = t32 * t159;
  t172 = t104 * t53;
  t177 = my_piecewise3(t2, 0, t100 + t8 * t171 * t172 / 0.4e1);
  t178 = t12 * t62;
  t183 = t6 * t7 * rho[1];
  t184 = t12 * t162;
  t186 = -rho[1] * t107 + t14;
  t187 = t85 * t186;
  t188 = t184 * t187;
  t191 = t64 * rho[1];
  t193 = 0.1e1 / t66 / t191;
  t195 = t193 * t75 * t80;
  t201 = t73 * params->alpha;
  t202 = t201 * t80;
  t206 = sigma[2] * sigma[2];
  t207 = t30 * t206;
  t208 = t64 * t64;
  t211 = 0.1e1 / t65 / t208 / t64;
  t213 = t79 * t79;
  t214 = 0.1e1 / t213;
  t216 = t75 * t214 * params->b1;
  t220 = -0.7e1 / 0.4374e4 * t29 * t63 * t195 - 0.7e1 / 0.8748e4 * t125 * sigma[2] * t193 * params->a1 * t202 + 0.7e1 / 0.4374e4 * t29 * t207 * t211 * t216;
  t221 = t62 * t220;
  t226 = my_piecewise3(t59, 0, -0.3e1 / 0.4e1 * t8 * t178 * t85 + t157 - t183 * t188 / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t60 * t221);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t58 + t90 + t9 * (t177 + t226);

  t229 = t20 * t25;
  t230 = t27 * t30;
  t241 = 0.1e1 / t33 / t135 / rho[0];
  t246 = 0.7e1 / 0.11664e5 * t229 * t230 * t49 + 0.7e1 / 0.23328e5 * t29 * t30 * t36 * params->a1 * t129 - 0.7e1 / 0.11664e5 * t29 * t31 * t241 * t143;
  t247 = t16 * t246;
  t251 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t13 * t247);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t9 * t251;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t262 = 0.1e1 / t65 / t208 / rho[1];
  t267 = 0.7e1 / 0.11664e5 * t229 * t230 * t81 + 0.7e1 / 0.23328e5 * t29 * t30 * t68 * params->a1 * t202 - 0.7e1 / 0.11664e5 * t29 * t63 * t262 * t216;
  t268 = t62 * t267;
  t272 = my_piecewise3(t59, 0, -0.3e1 / 0.4e1 * t8 * t60 * t268);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t9 * t272;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t277 = t8 * t96 * t16 * t53;
  t283 = rho[0] * t159;
  t286 = 0.5e1 / 0.6e1 * t8 * t283 * t54;
  t289 = t102 * t96 * t104 * t110;
  t292 = t8 * t97 * t148;
  t294 = 0.1e1 / t103 / t15;
  t296 = t109 * t109;
  t305 = t106 * t9;
  t306 = 0.1e1 / t305;
  t315 = 0.1e1 / t34 / t135;
  t322 = sigma[0] * t315 * params->a1;
  t328 = 0.1e1 / t33 / t135 / t114;
  t333 = params->alpha * params->alpha;
  t335 = t41 * t333 * t48;
  t341 = t141 * params->b1;
  t348 = t135 * t135;
  t355 = params->b1 * params->b1;
  t356 = t43 / t140 / t47 * t355;
  t366 = my_piecewise3(t2, 0, t277 - t8 * t111 / 0.2e1 - 0.3e1 / 0.2e1 * t8 * t91 * t147 - t286 + t289 / 0.3e1 + t292 + t102 * t12 * t294 * t53 * t296 / 0.6e1 - t102 * t105 * t147 * t109 / 0.2e1 - t102 * t105 * t53 * (0.2e1 * rho[0] * t306 - 0.2e1 * t107) / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t13 * t16 * (0.77e2 / 0.13122e5 * t29 * t31 * t315 * t43 * t48 + 0.133e3 / 0.26244e5 * t125 * t322 * t129 - 0.7e1 / 0.486e3 * t29 * t134 * t328 * t143 + 0.7e1 / 0.6561e4 * t125 * t322 * t335 - 0.28e2 / 0.6561e4 * t125 * t133 * t328 * params->a1 * t128 * t341 + 0.56e2 / 0.6561e4 * t29 * t30 * t133 * sigma[0] / t348 / t32 * t356));
  t370 = 0.5e1 / 0.6e1 * t8 * rho[1] * t159 * t86;
  t372 = 0.1e1 / t11 / t305;
  t375 = t8 * t64 * t372 * t163;
  t377 = t106 * t106;
  t379 = 0.1e1 / t11 / t377;
  t382 = 0.1e1 / t161 / t61;
  t388 = my_piecewise3(t59, 0, -t370 - 0.5e1 / 0.6e1 * t375 + t8 * t191 * t379 * t382 * t85 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t153 + 0.2e1 * t168 + t9 * (t366 + t388);

  t399 = t8 * t32 * t372 * t172;
  t412 = my_piecewise3(t2, 0, t277 / 0.2e1 - t286 + t289 / 0.6e1 + t292 / 0.2e1 + t8 * t283 * t172 / 0.2e1 - 0.2e1 / 0.3e1 * t399 - t6 * t7 * t32 * t159 * t294 * t110 / 0.6e1 + t8 * t171 * t104 * t147 / 0.4e1);
  t415 = t8 * t96 * t62 * t85;
  t425 = t183 * t96 * t162 * t187;
  t433 = rho[1] * t306;
  t441 = t8 * t154 * t221;
  t448 = my_piecewise3(t59, 0, t415 / 0.2e1 + t8 * t159 * t162 * t85 * rho[1] / 0.4e1 - t370 - t375 / 0.6e1 + t425 / 0.6e1 - t6 * t7 * t64 * t159 * t382 * t187 / 0.6e1 - t183 * t184 * t85 * (-t107 + 0.2e1 * t433) / 0.4e1 + t441 / 0.2e1 + t8 * t160 * t162 * t220 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t153 + t168 + t177 + t226 + t9 * (t412 + t448);

  t460 = my_piecewise3(t2, 0, -t286 - 0.5e1 / 0.6e1 * t399 + t8 * t114 * t379 * t294 * t53 / 0.6e1);
  t468 = t186 * t186;
  t484 = 0.1e1 / t66 / t208;
  t491 = sigma[2] * t484 * params->a1;
  t497 = 0.1e1 / t65 / t208 / t191;
  t503 = t73 * t333 * t80;
  t509 = t214 * params->b1;
  t516 = t208 * t208;
  t523 = t75 / t213 / t79 * t355;
  t533 = my_piecewise3(t59, 0, t415 - t8 * t188 / 0.2e1 - 0.3e1 / 0.2e1 * t8 * t178 * t220 - t370 + t425 / 0.3e1 + t441 + t183 * t12 * t382 * t85 * t468 / 0.6e1 - t183 * t184 * t220 * t186 / 0.2e1 - t183 * t184 * t85 * (-0.2e1 * t107 + 0.2e1 * t433) / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t60 * t62 * (0.77e2 / 0.13122e5 * t29 * t63 * t484 * t75 * t80 + 0.133e3 / 0.26244e5 * t125 * t491 * t202 - 0.7e1 / 0.486e3 * t29 * t207 * t497 * t216 + 0.7e1 / 0.6561e4 * t125 * t491 * t503 - 0.28e2 / 0.6561e4 * t125 * t206 * t497 * params->a1 * t201 * t509 + 0.56e2 / 0.6561e4 * t29 * t30 * t206 * sigma[2] / t516 / t64 * t523));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t177 + 0.2e1 * t226 + t9 * (t460 + t533);

  t541 = t8 * t97 * t247 / 0.2e1;
  t550 = t30 * t116 * params->a1;
  t565 = params->alpha * t141;
  t582 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t91 * t246 + t541 - t102 * t105 * t246 * t109 / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t13 * t16 * (-0.7e1 / 0.4374e4 * t229 * t230 * t118 - 0.7e1 / 0.4374e4 * t29 * t550 * t129 + 0.7e1 / 0.1458e4 * t29 * t30 * t138 * t43 * t341 * sigma[0] - 0.7e1 / 0.17496e5 * t29 * t550 * t335 + 0.7e1 / 0.4374e4 * t125 * t138 * params->a1 * t41 * t565 * t45 - 0.7e1 / 0.2187e4 * t29 * t134 / t348 / rho[0] * t356));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t9 * t582 + t251;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t586 = t8 * t154 * t268 / 0.2e1;
  t592 = my_piecewise3(t59, 0, t586 + t8 * t160 * t162 * t267 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t9 * t592 + t272;

  t599 = my_piecewise3(t2, 0, t541 + t8 * t171 * t104 * t246 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t9 * t599 + t251;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t612 = t30 * t193 * params->a1;
  t627 = params->alpha * t214;
  t644 = my_piecewise3(t59, 0, -0.3e1 / 0.4e1 * t8 * t178 * t267 + t586 - t183 * t184 * t267 * t186 / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t60 * t62 * (-0.7e1 / 0.4374e4 * t229 * t230 * t195 - 0.7e1 / 0.4374e4 * t29 * t612 * t202 + 0.7e1 / 0.1458e4 * t29 * t30 * t211 * t75 * t509 * sigma[2] - 0.7e1 / 0.17496e5 * t29 * t612 * t503 + 0.7e1 / 0.4374e4 * t125 * t211 * params->a1 * t73 * t627 * t77 - 0.7e1 / 0.2187e4 * t29 * t207 / t516 / rho[1] * t523));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t9 * t644 + t272;

  t647 = t36 * params->a1 * t41;
  t648 = 0.1e1 / sigma[0];
  t679 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t13 * t16 * (0.7e1 / 0.23328e5 * t125 * t647 * params->alpha * t648 * t48 - 0.7e1 / 0.5832e4 * t29 * t30 * t241 * t143 + 0.7e1 / 0.46656e5 * t125 * t647 * t333 * t648 * t48 - 0.7e1 / 0.11664e5 * t125 * t241 * params->a1 * t41 * t565 * params->b1 + 0.7e1 / 0.5832e4 * t29 * t31 / t348 * t356));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t9 * t679;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t681 = t68 * params->a1 * t73;
  t682 = 0.1e1 / sigma[2];
  t713 = my_piecewise3(t59, 0, -0.3e1 / 0.4e1 * t8 * t60 * t62 * (0.7e1 / 0.23328e5 * t125 * t681 * params->alpha * t682 * t80 - 0.7e1 / 0.5832e4 * t29 * t30 * t262 * t216 + 0.7e1 / 0.46656e5 * t125 * t681 * t333 * t682 * t80 - 0.7e1 / 0.11664e5 * t125 * t262 * params->a1 * t73 * t627 * params->b1 + 0.7e1 / 0.5832e4 * t29 * t63 / t516 * t523));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t9 * t713;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

