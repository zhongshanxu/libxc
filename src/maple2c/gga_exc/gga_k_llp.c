/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/gga_exc/gga_k_llp.mpl
  Type of functional: gga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t3, t4, t5, t6, t8, t9, t10, t11;
  double t13, t14, t15, t16, t17, t18, t19, t20;
  double t21, t23, t24, t25, t26, t28, t32, t33;
  double t35, t36, t37, t41, t45;

#ifndef XC_DONT_COMPILE_VXC
  double t46, t50, t52, t53, t57, t58, t59, t63;
  double t65, t68, t69, t70, t71, t74, t79, t84;
  double t87, t88, t92, t94, t95, t98, t103, t107;

#ifndef XC_DONT_COMPILE_FXC
  double t116, t118, t123, t129, t130, t131, t146, t153;
  double t167, t213, t220, t250;
#endif

#endif

#endif


  gga_k_llp_params *params;

  assert(p->params != NULL);
  params = (gga_k_llp_params * )(p->params);

  t3 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t4 = M_CBRT3;
  t5 = t4 * t4;
  t6 = M_CBRTPI;
  t8 = t5 * t6 * M_PI;
  t9 = POW_1_3(rho[0]);
  t10 = t9 * t9;
  t11 = params->beta * t5;
  t13 = POW_1_3(0.1e1 / M_PI);
  t14 = 0.1e1 / t13;
  t15 = M_CBRT4;
  t16 = t14 * t15;
  t17 = t11 * t16;
  t18 = M_CBRT2;
  t19 = t18 * t18;
  t20 = sigma[0] * t19;
  t21 = rho[0] * rho[0];
  t23 = 0.1e1 / t10 / t21;
  t24 = params->gamma * params->beta;
  t25 = sqrt(sigma[0]);
  t26 = t24 * t25;
  t28 = 0.1e1 / t9 / rho[0];
  t32 = log(t25 * t18 * t28 + sqrt(POW_2(t25 * t18 * t28) + 0.1e1));
  t33 = t18 * t28 * t32;
  t35 = 0.10e1 + t26 * t33;
  t36 = 0.1e1 / t35;
  t37 = t23 * t36;
  t41 = 0.10e1 + 0.2e1 / 0.9e1 * t17 * t20 * t37;
  t45 = my_piecewise3(t3, 0, 0.3e1 / 0.20e2 * t8 * t10 * t41);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t45;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t46 = 0.1e1 / t9;
  t50 = t21 * rho[0];
  t52 = 0.1e1 / t10 / t50;
  t53 = t52 * t36;
  t57 = t35 * t35;
  t58 = 0.1e1 / t57;
  t59 = t23 * t58;
  t63 = t18 / t9 / t21 * t32;
  t65 = t24 * sigma[0];
  t68 = t20 * t23 + 0.1e1;
  t69 = sqrt(t68);
  t70 = 0.1e1 / t69;
  t71 = t19 * t52 * t70;
  t74 = -0.4e1 / 0.3e1 * t26 * t63 - 0.4e1 / 0.3e1 * t65 * t71;
  t79 = -0.16e2 / 0.27e2 * t17 * t20 * t53 - 0.2e1 / 0.9e1 * t17 * t20 * t59 * t74;
  t84 = my_piecewise3(t3, 0, t8 * t46 * t41 / 0.10e2 + 0.3e1 / 0.20e2 * t8 * t10 * t79);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t84 + 0.2e1 * t45;

  t87 = t11 * t14;
  t88 = t15 * t19;
  t92 = t24 / t25;
  t94 = t19 * t23;
  t95 = t94 * t70;
  t98 = t24 * t95 / 0.2e1 + t92 * t33 / 0.2e1;
  t103 = -0.2e1 / 0.9e1 * t17 * t20 * t59 * t98 + 0.2e1 / 0.9e1 * t87 * t88 * t37;
  t107 = my_piecewise3(t3, 0, 0.3e1 / 0.20e2 * t8 * t10 * t103);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t107;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t116 = t21 * t21;
  t118 = 0.1e1 / t10 / t116;
  t123 = t52 * t58;
  t129 = 0.1e1 / t57 / t35;
  t130 = t23 * t129;
  t131 = t74 * t74;
  t146 = sigma[0] * sigma[0];
  t153 = 0.1e1 / t69 / t68;
  t167 = my_piecewise3(t3, 0, -t8 * t28 * t41 / 0.30e2 + t8 * t46 * t79 / 0.5e1 + 0.3e1 / 0.20e2 * t8 * t10 * (0.176e3 / 0.81e2 * t17 * t20 * t118 * t36 + 0.32e2 / 0.27e2 * t17 * t20 * t123 * t74 + 0.4e1 / 0.9e1 * t17 * t20 * t130 * t131 - 0.2e1 / 0.9e1 * t17 * t20 * t59 * (0.28e2 / 0.9e1 * t26 * t18 / t9 / t50 * t32 + 0.20e2 / 0.3e1 * t65 * t19 * t118 * t70 - 0.32e2 / 0.9e1 * t24 * t146 * t18 / t9 / t116 / t50 * t153)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t167 + 0.4e1 * t84;

  t213 = my_piecewise3(t3, 0, t8 * t46 * t103 / 0.10e2 + 0.3e1 / 0.20e2 * t8 * t10 * (-0.16e2 / 0.27e2 * t87 * t88 * t53 - 0.2e1 / 0.9e1 * t17 * t94 * t58 * t74 + 0.16e2 / 0.27e2 * t17 * t20 * t123 * t98 + 0.4e1 / 0.9e1 * t11 * t16 * sigma[0] * t94 * t129 * t98 * t74 - 0.2e1 / 0.9e1 * t17 * t20 * t59 * (-0.2e1 / 0.3e1 * t92 * t63 - 0.2e1 * t24 * t71 + 0.4e1 / 0.3e1 * t24 * t18 / t9 / t116 / t21 * t153 * sigma[0])));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t213 + 0.2e1 * t107;

  t220 = t98 * t98;
  t250 = my_piecewise3(t3, 0, 0.3e1 / 0.20e2 * t8 * t10 * (-0.4e1 / 0.9e1 * t17 * t94 * t58 * t98 + 0.4e1 / 0.9e1 * t17 * t20 * t130 * t220 - 0.2e1 / 0.9e1 * t17 * t20 * t59 * (-t24 / t25 / sigma[0] * t33 / 0.4e1 + t24 / sigma[0] * t95 / 0.4e1 - t24 * t18 / t9 / t116 / rho[0] * t153 / 0.2e1)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t250;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t1, t2, t3, t4, t5, t7, t8, t9;
  double t10, t11, t12, t13, t14, t15, t16, t17;
  double t18, t19, t21, t22, t23, t24, t25, t26;
  double t27, t28, t30, t31, t32, t34, t35, t36;
  double t39, t40, t45, t46, t49, t50, t51, t52;
  double t53, t54, t55, t56, t57, t58, t59, t61;
  double t62, t64, t65, t66, t69, t70, t75, t76;
  double t79;

#ifndef XC_DONT_COMPILE_VXC
  double t83, t84, t85, t87, t88, t89, t90, t91;
  double t93, t94, t98, t100, t106, t107, t108, t109;
  double t111, t115, t116, t117, t118, t122, t123, t127;
  double t128, t132, t133, t134, t136, t137, t139, t140;
  double t141, t146, t149, t150, t151, t155, t158, t160;
  double t161, t165, t167, t172, t173, t174, t176, t180;
  double t181, t182, t183, t187, t188, t192, t193, t197;
  double t200, t203, t210, t211, t215, t216, t219, t220;
  double t223, t230, t231, t235, t236, t239;

#ifndef XC_DONT_COMPILE_FXC
  double t242, t244, t254, t257, t260, t263, t265, t274;
  double t275, t283, t285, t294, t295, t310, t316, t330;
  double t334, t336, t339, t342, t344, t346, t352, t362;
  double t372, t373, t376, t383, t389, t397, t403, t415;
  double t425, t440, t442, t451, t452, t467, t473, t487;
  double t494, t538, t542, t547, t553, t600, t605, t634;
  double t638, t667;
#endif

#endif

#endif


  gga_k_llp_params *params;

  assert(p->params != NULL);
  params = (gga_k_llp_params * )(p->params);

  t1 = 0.101e1 * p->threshold_dens;
  t2 = rho[0] <= t1;
  t3 = M_CBRT6;
  t4 = t3 * t3;
  t5 = M_CBRTPI;
  t7 = t4 * t5 * M_PI;
  t8 = t7 * rho[0];
  t9 = rho[0] + rho[1];
  t10 = POW_1_3(t9);
  t11 = 0.1e1 / t10;
  t12 = 0.1e1 / t9;
  t13 = rho[0] * t12;
  t14 = POW_1_3(t13);
  t15 = t14 * t14;
  t16 = t11 * t15;
  t17 = M_CBRT3;
  t18 = t17 * t17;
  t19 = params->beta * t18;
  t21 = POW_1_3(0.1e1 / M_PI);
  t22 = 0.1e1 / t21;
  t23 = t19 * t22;
  t24 = M_CBRT4;
  t25 = t24 * sigma[0];
  t26 = rho[0] * rho[0];
  t27 = POW_1_3(rho[0]);
  t28 = t27 * t27;
  t30 = 0.1e1 / t28 / t26;
  t31 = params->gamma * params->beta;
  t32 = sqrt(sigma[0]);
  t34 = 0.1e1 / t27 / rho[0];
  t35 = t32 * t34;
  t36 = log(t35 + sqrt(t35 * t35 + 0.1e1));
  t39 = 0.10e1 + t31 * t35 * t36;
  t40 = 0.1e1 / t39;
  t45 = 0.10e1 + 0.2e1 / 0.9e1 * t23 * t25 * t30 * t40;
  t46 = t16 * t45;
  t49 = my_piecewise3(t2, 0, 0.3e1 / 0.10e2 * t8 * t46);
  t50 = rho[1] <= t1;
  t51 = t7 * rho[1];
  t52 = rho[1] * t12;
  t53 = POW_1_3(t52);
  t54 = t53 * t53;
  t55 = t11 * t54;
  t56 = t24 * sigma[2];
  t57 = rho[1] * rho[1];
  t58 = POW_1_3(rho[1]);
  t59 = t58 * t58;
  t61 = 0.1e1 / t59 / t57;
  t62 = sqrt(sigma[2]);
  t64 = 0.1e1 / t58 / rho[1];
  t65 = t62 * t64;
  t66 = log(t65 + sqrt(t65 * t65 + 0.1e1));
  t69 = 0.10e1 + t31 * t65 * t66;
  t70 = 0.1e1 / t69;
  t75 = 0.10e1 + 0.2e1 / 0.9e1 * t23 * t56 * t61 * t70;
  t76 = t55 * t75;
  t79 = my_piecewise3(t50, 0, 0.3e1 / 0.10e2 * t51 * t76);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t49 + t79;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t83 = 0.1e1 / t10 / t9;
  t84 = t83 * t15;
  t85 = t84 * t45;
  t87 = t8 * t85 / 0.10e2;
  t88 = 0.1e1 / t14;
  t89 = t11 * t88;
  t90 = t9 * t9;
  t91 = 0.1e1 / t90;
  t93 = -rho[0] * t91 + t12;
  t94 = t45 * t93;
  t98 = t26 * rho[0];
  t100 = 0.1e1 / t28 / t98;
  t106 = t19 * t22 * t24;
  t107 = sigma[0] * t30;
  t108 = t39 * t39;
  t109 = 0.1e1 / t108;
  t111 = 0.1e1 / t27 / t26;
  t115 = sigma[0] * t100;
  t116 = t107 + 0.1e1;
  t117 = sqrt(t116);
  t118 = 0.1e1 / t117;
  t122 = -0.4e1 / 0.3e1 * t31 * t32 * t111 * t36 - 0.4e1 / 0.3e1 * t31 * t115 * t118;
  t123 = t109 * t122;
  t127 = -0.16e2 / 0.27e2 * t23 * t25 * t100 * t40 - 0.2e1 / 0.9e1 * t106 * t107 * t123;
  t128 = t16 * t127;
  t132 = my_piecewise3(t2, 0, 0.3e1 / 0.10e2 * t7 * t46 - t87 + t8 * t89 * t94 / 0.5e1 + 0.3e1 / 0.10e2 * t8 * t128);
  t133 = t83 * t54;
  t134 = t133 * t75;
  t136 = t51 * t134 / 0.10e2;
  t137 = t7 * t57;
  t139 = 0.1e1 / t10 / t90;
  t140 = 0.1e1 / t53;
  t141 = t139 * t140;
  t146 = my_piecewise3(t50, 0, -t136 - t137 * t141 * t75 / 0.5e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t49 + t79 + t9 * (t132 + t146);

  t149 = t7 * t26;
  t150 = t139 * t88;
  t151 = t150 * t45;
  t155 = my_piecewise3(t2, 0, -t87 - t149 * t151 / 0.5e1);
  t158 = t11 * t140;
  t160 = -rho[1] * t91 + t12;
  t161 = t75 * t160;
  t165 = t57 * rho[1];
  t167 = 0.1e1 / t59 / t165;
  t172 = sigma[2] * t61;
  t173 = t69 * t69;
  t174 = 0.1e1 / t173;
  t176 = 0.1e1 / t58 / t57;
  t180 = sigma[2] * t167;
  t181 = t172 + 0.1e1;
  t182 = sqrt(t181);
  t183 = 0.1e1 / t182;
  t187 = -0.4e1 / 0.3e1 * t31 * t62 * t176 * t66 - 0.4e1 / 0.3e1 * t31 * t180 * t183;
  t188 = t174 * t187;
  t192 = -0.16e2 / 0.27e2 * t23 * t56 * t167 * t70 - 0.2e1 / 0.9e1 * t106 * t172 * t188;
  t193 = t55 * t192;
  t197 = my_piecewise3(t50, 0, 0.3e1 / 0.10e2 * t7 * t76 - t136 + t51 * t158 * t161 / 0.5e1 + 0.3e1 / 0.10e2 * t51 * t193);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t49 + t79 + t9 * (t155 + t197);

  t200 = t24 * t30;
  t203 = 0.1e1 / t32;
  t210 = t31 * t203 * t34 * t36 / 0.2e1 + t31 * t30 * t118 / 0.2e1;
  t211 = t109 * t210;
  t215 = -0.2e1 / 0.9e1 * t106 * t107 * t211 + 0.2e1 / 0.9e1 * t23 * t200 * t40;
  t216 = t16 * t215;
  t219 = my_piecewise3(t2, 0, 0.3e1 / 0.10e2 * t8 * t216);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t9 * t219;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t220 = t24 * t61;
  t223 = 0.1e1 / t62;
  t230 = t31 * t223 * t64 * t66 / 0.2e1 + t31 * t61 * t183 / 0.2e1;
  t231 = t174 * t230;
  t235 = -0.2e1 / 0.9e1 * t106 * t172 * t231 + 0.2e1 / 0.9e1 * t23 * t220 * t70;
  t236 = t55 * t235;
  t239 = my_piecewise3(t50, 0, 0.3e1 / 0.10e2 * t51 * t236);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t9 * t239;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t242 = t7 * t85;
  t244 = t7 * t11;
  t254 = 0.2e1 / 0.15e2 * t8 * t139 * t15 * t45;
  t257 = t8 * t83 * t88 * t94;
  t260 = t8 * t84 * t127;
  t263 = 0.1e1 / t14 / t13;
  t265 = t93 * t93;
  t274 = t90 * t9;
  t275 = 0.1e1 / t274;
  t283 = t26 * t26;
  t285 = 0.1e1 / t28 / t283;
  t294 = 0.1e1 / t108 / t39;
  t295 = t122 * t122;
  t310 = sigma[0] * sigma[0];
  t316 = 0.1e1 / t117 / t116;
  t330 = my_piecewise3(t2, 0, -t242 / 0.5e1 + 0.2e1 / 0.5e1 * t244 * t88 * t45 * t93 + 0.3e1 / 0.5e1 * t7 * t128 + t254 - 0.2e1 / 0.15e2 * t257 - t260 / 0.5e1 - t8 * t11 * t263 * t45 * t265 / 0.15e2 + 0.2e1 / 0.5e1 * t8 * t89 * t127 * t93 + t8 * t89 * t45 * (0.2e1 * rho[0] * t275 - 0.2e1 * t91) / 0.5e1 + 0.3e1 / 0.10e2 * t8 * t16 * (0.176e3 / 0.81e2 * t23 * t25 * t285 * t40 + 0.32e2 / 0.27e2 * t106 * t115 * t123 + 0.4e1 / 0.9e1 * t106 * t107 * t294 * t295 - 0.2e1 / 0.9e1 * t106 * t107 * t109 * (0.28e2 / 0.9e1 * t31 * t32 / t27 / t98 * t36 + 0.20e2 / 0.3e1 * t31 * sigma[0] * t285 * t118 - 0.16e2 / 0.9e1 * t31 * t310 / t27 / t283 / t98 * t316)));
  t334 = 0.2e1 / 0.15e2 * t51 * t139 * t54 * t75;
  t336 = 0.1e1 / t10 / t274;
  t339 = t137 * t336 * t140 * t75;
  t342 = t90 * t90;
  t344 = 0.1e1 / t10 / t342;
  t346 = 0.1e1 / t53 / t52;
  t352 = my_piecewise3(t50, 0, t334 + 0.8e1 / 0.15e2 * t339 - t7 * t165 * t344 * t346 * t75 / 0.15e2);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t132 + 0.2e1 * t146 + t9 * (t330 + t352);

  t362 = t149 * t336 * t88 * t45;
  t372 = my_piecewise3(t2, 0, -t242 / 0.10e2 + t254 - t257 / 0.15e2 - t260 / 0.10e2 - 0.2e1 / 0.5e1 * t8 * t151 + 0.7e1 / 0.15e2 * t362 + t149 * t139 * t263 * t94 / 0.15e2 - t149 * t150 * t127 / 0.5e1);
  t373 = t7 * t134;
  t376 = t140 * t75;
  t383 = t51 * t83 * t140 * t161;
  t389 = rho[1] * t275;
  t397 = t51 * t133 * t192;
  t403 = my_piecewise3(t50, 0, -t373 / 0.10e2 - t7 * t139 * t376 * rho[1] / 0.5e1 + t334 + t339 / 0.15e2 - t383 / 0.15e2 + t137 * t139 * t346 * t161 / 0.15e2 + t51 * t158 * t75 * (-t91 + 0.2e1 * t389) / 0.5e1 - t397 / 0.10e2 - t137 * t141 * t192 / 0.5e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t132 + t146 + t155 + t197 + t9 * (t372 + t403);

  t415 = my_piecewise3(t2, 0, t254 + 0.8e1 / 0.15e2 * t362 - t7 * t98 * t344 * t263 * t45 / 0.15e2);
  t425 = t160 * t160;
  t440 = t57 * t57;
  t442 = 0.1e1 / t59 / t440;
  t451 = 0.1e1 / t173 / t69;
  t452 = t187 * t187;
  t467 = sigma[2] * sigma[2];
  t473 = 0.1e1 / t182 / t181;
  t487 = my_piecewise3(t50, 0, -t373 / 0.5e1 + 0.2e1 / 0.5e1 * t244 * t376 * t160 + 0.3e1 / 0.5e1 * t7 * t193 + t334 - 0.2e1 / 0.15e2 * t383 - t397 / 0.5e1 - t51 * t11 * t346 * t75 * t425 / 0.15e2 + 0.2e1 / 0.5e1 * t51 * t158 * t192 * t160 + t51 * t158 * t75 * (-0.2e1 * t91 + 0.2e1 * t389) / 0.5e1 + 0.3e1 / 0.10e2 * t51 * t55 * (0.176e3 / 0.81e2 * t23 * t56 * t442 * t70 + 0.32e2 / 0.27e2 * t106 * t180 * t188 + 0.4e1 / 0.9e1 * t106 * t172 * t451 * t452 - 0.2e1 / 0.9e1 * t106 * t172 * t174 * (0.28e2 / 0.9e1 * t31 * t62 / t58 / t165 * t66 + 0.20e2 / 0.3e1 * t31 * sigma[2] * t442 * t183 - 0.16e2 / 0.9e1 * t31 * t467 / t58 / t440 / t165 * t473)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t155 + 0.2e1 * t197 + t9 * (t415 + t487);

  t494 = t8 * t84 * t215 / 0.10e2;
  t538 = my_piecewise3(t2, 0, 0.3e1 / 0.10e2 * t7 * t216 - t494 + t8 * t89 * t215 * t93 / 0.5e1 + 0.3e1 / 0.10e2 * t8 * t16 * (-0.16e2 / 0.27e2 * t23 * t24 * t100 * t40 - 0.2e1 / 0.9e1 * t23 * t200 * t123 + 0.16e2 / 0.27e2 * t106 * t115 * t211 + 0.4e1 / 0.9e1 * t106 * t107 * t294 * t210 * t122 - 0.2e1 / 0.9e1 * t106 * t107 * t109 * (-0.2e1 / 0.3e1 * t31 * t203 * t111 * t36 - 0.2e1 * t31 * t100 * t118 + 0.2e1 / 0.3e1 * t31 / t27 / t283 / t26 * t316 * sigma[0])));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t9 * t538 + t219;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t542 = t51 * t133 * t235 / 0.10e2;
  t547 = my_piecewise3(t50, 0, -t542 - t137 * t141 * t235 / 0.5e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t9 * t547 + t239;

  t553 = my_piecewise3(t2, 0, -t494 - t149 * t150 * t215 / 0.5e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t9 * t553 + t219;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t600 = my_piecewise3(t50, 0, 0.3e1 / 0.10e2 * t7 * t236 - t542 + t51 * t158 * t235 * t160 / 0.5e1 + 0.3e1 / 0.10e2 * t51 * t55 * (-0.16e2 / 0.27e2 * t23 * t24 * t167 * t70 - 0.2e1 / 0.9e1 * t23 * t220 * t188 + 0.16e2 / 0.27e2 * t106 * t180 * t231 + 0.4e1 / 0.9e1 * t106 * t172 * t451 * t230 * t187 - 0.2e1 / 0.9e1 * t106 * t172 * t174 * (-0.2e1 / 0.3e1 * t31 * t223 * t176 * t66 - 0.2e1 * t31 * t167 * t183 + 0.2e1 / 0.3e1 * t31 / t58 / t440 / t57 * t473 * sigma[2])));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t9 * t600 + t239;

  t605 = t210 * t210;
  t634 = my_piecewise3(t2, 0, 0.3e1 / 0.10e2 * t8 * t16 * (-0.4e1 / 0.9e1 * t23 * t200 * t211 + 0.4e1 / 0.9e1 * t106 * t107 * t294 * t605 - 0.2e1 / 0.9e1 * t106 * t107 * t109 * (-t31 / t32 / sigma[0] * t34 * t36 / 0.4e1 + t31 / sigma[0] * t30 * t118 / 0.4e1 - t31 / t27 / t283 / rho[0] * t316 / 0.4e1)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t9 * t634;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t638 = t230 * t230;
  t667 = my_piecewise3(t50, 0, 0.3e1 / 0.10e2 * t51 * t55 * (-0.4e1 / 0.9e1 * t23 * t220 * t231 + 0.4e1 / 0.9e1 * t106 * t172 * t451 * t638 - 0.2e1 / 0.9e1 * t106 * t172 * t174 * (-t31 / t62 / sigma[2] * t64 * t66 / 0.4e1 + t31 / sigma[2] * t61 * t183 / 0.4e1 - t31 / t58 / t440 / rho[1] * t473 / 0.4e1)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t9 * t667;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

