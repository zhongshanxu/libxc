/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/gga_exc/gga_x_rpbe.mpl
  Type of functional: gga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t3, t4, t5, t7, t8, t9, t11, t12;
  double t13, t14, t16, t17, t18, t19, t20, t23;
  double t28, t31, t35;

#ifndef XC_DONT_COMPILE_VXC
  double t40, t44, t45, t47, t51, t59, t62;

#ifndef XC_DONT_COMPILE_FXC
  double t70, t79, t81, t85, t86, t89, t94, t111;
  double t122;
#endif

#endif

#endif


  gga_x_rpbe_params *params;

  assert(p->params != NULL);
  params = (gga_x_rpbe_params * )(p->params);

  t3 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t4 = M_CBRT3;
  t5 = M_CBRTPI;
  t7 = t4 / t5;
  t8 = POW_1_3(rho[0]);
  t9 = M_CBRT6;
  t11 = M_PI * M_PI;
  t12 = POW_1_3(t11);
  t13 = t12 * t12;
  t14 = 0.1e1 / t13;
  t16 = M_CBRT2;
  t17 = t16 * t16;
  t18 = sigma[0] * t17;
  t19 = rho[0] * rho[0];
  t20 = t8 * t8;
  t23 = 0.1e1 / params->rpbe_kappa;
  t28 = exp(-params->rpbe_mu * t9 * t14 * t18 / t20 / t19 * t23 / 0.24e2);
  t31 = 0.1e1 + params->rpbe_kappa * (0.1e1 - t28);
  t35 = my_piecewise3(t3, 0, -0.3e1 / 0.8e1 * t7 * t8 * t31);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t35;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t40 = t19 * rho[0];
  t44 = t7 / t8 / t40 * params->rpbe_mu;
  t45 = t9 * t14;
  t47 = t45 * t18 * t28;
  t51 = my_piecewise3(t3, 0, -t7 / t20 * t31 / 0.8e1 + t44 * t47 / 0.24e2);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t51 + 0.2e1 * t35;

  t59 = t45 * t17 * t28;
  t62 = my_piecewise3(t3, 0, -t7 / t8 / t19 * params->rpbe_mu * t59 / 0.64e2);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t62;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t70 = t19 * t19;
  t79 = params->rpbe_mu * params->rpbe_mu;
  t81 = t9 * t9;
  t85 = 0.1e1 / t12 / t11;
  t86 = sigma[0] * sigma[0];
  t89 = t16 * t23 * t28;
  t94 = my_piecewise3(t3, 0, t7 / t20 / rho[0] * t31 / 0.12e2 - t7 / t8 / t70 * params->rpbe_mu * t47 / 0.8e1 + t7 / t70 / t40 * t79 * t81 * t85 * t86 * t89 / 0.108e3);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t94 + 0.4e1 * t51;

  t111 = my_piecewise3(t3, 0, 0.7e1 / 0.192e3 * t44 * t59 - t7 / t70 / t19 * t79 * t81 * t85 * t16 * sigma[0] * t23 * t28 / 0.288e3);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t111 + 0.2e1 * t62;

  t122 = my_piecewise3(t3, 0, t7 / t70 / rho[0] * t79 * t81 * t85 * t89 / 0.768e3);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t122;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t1, t2, t3, t4, t6, t7, t8, t9;
  double t10, t11, t12, t14, t15, t16, t17, t19;
  double t20, t21, t22, t23, t24, t25, t26, t28;
  double t30, t34, t37, t38, t42, t43, t45, t46;
  double t47, t48, t49, t51, t56, t59, t60, t64;

#ifndef XC_DONT_COMPILE_VXC
  double t70, t74, t76, t77, t78, t79, t80, t81;
  double t83, t84, t85, t88, t90, t91, t94, t95;
  double t99, t103, t105, t107, t108, t109, t114, t118;
  double t123, t129, t130, t132, t133, t134, t137, t139;
  double t140, t143, t144, t148, t153, t155, t156, t157;
  double t158, t161, t164, t166, t167, t168, t171;

#ifndef XC_DONT_COMPILE_FXC
  double t176, t179, t182, t190, t193, t196, t200, t203;
  double t205, t218, t219, t227, t234, t235, t238, t239;
  double t240, t247, t251, t253, t256, t258, t259, t261;
  double t264, t270, t281, t291, t292, t297, t300, t310;
  double t318, t327, t331, t332, t337, t349, t364, t383;
  double t390, t397, t405, t423, t428, t437, t447, t468;
  double t477, t482, t494;
#endif

#endif

#endif


  gga_x_rpbe_params *params;

  assert(p->params != NULL);
  params = (gga_x_rpbe_params * )(p->params);

  t1 = 0.101e1 * p->threshold_dens;
  t2 = rho[0] <= t1;
  t3 = M_CBRT3;
  t4 = M_CBRTPI;
  t6 = t3 / t4;
  t7 = M_CBRT2;
  t8 = t6 * t7;
  t9 = rho[0] + rho[1];
  t10 = POW_1_3(t9);
  t11 = t10 * t10;
  t12 = 0.1e1 / t11;
  t14 = 0.1e1 / t9;
  t15 = rho[0] * t14;
  t16 = POW_1_3(t15);
  t17 = M_CBRT6;
  t19 = M_PI * M_PI;
  t20 = POW_1_3(t19);
  t21 = t20 * t20;
  t22 = 0.1e1 / t21;
  t23 = params->rpbe_mu * t17 * t22;
  t24 = rho[0] * rho[0];
  t25 = POW_1_3(rho[0]);
  t26 = t25 * t25;
  t28 = 0.1e1 / t26 / t24;
  t30 = 0.1e1 / params->rpbe_kappa;
  t34 = exp(-t23 * sigma[0] * t28 * t30 / 0.24e2);
  t37 = 0.1e1 + params->rpbe_kappa * (0.1e1 - t34);
  t38 = t16 * t37;
  t42 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * rho[0] * t12 * t38);
  t43 = rho[1] <= t1;
  t45 = rho[1] * t14;
  t46 = POW_1_3(t45);
  t47 = rho[1] * rho[1];
  t48 = POW_1_3(rho[1]);
  t49 = t48 * t48;
  t51 = 0.1e1 / t49 / t47;
  t56 = exp(-t23 * sigma[2] * t51 * t30 / 0.24e2);
  t59 = 0.1e1 + params->rpbe_kappa * (0.1e1 - t56);
  t60 = t46 * t59;
  t64 = my_piecewise3(t43, 0, -0.3e1 / 0.4e1 * t8 * rho[1] * t12 * t60);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t42 + t64;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t70 = 0.1e1 / t11 / t9;
  t74 = t8 * rho[0] * t70 * t38 / 0.2e1;
  t76 = t6 * t7 * rho[0];
  t77 = t16 * t16;
  t78 = 0.1e1 / t77;
  t79 = t12 * t78;
  t80 = t9 * t9;
  t81 = 0.1e1 / t80;
  t83 = -rho[0] * t81 + t14;
  t84 = t37 * t83;
  t85 = t79 * t84;
  t88 = t7 * t28;
  t90 = t6 * t88 * t12;
  t91 = t16 * params->rpbe_mu;
  t94 = t22 * sigma[0] * t34;
  t95 = t91 * t17 * t94;
  t99 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t12 * t16 * t37 + t74 - t76 * t85 / 0.4e1 + t90 * t95 / 0.12e2);
  t103 = t8 * rho[1] * t70 * t60 / 0.2e1;
  t105 = 0.1e1 / t11 / t80;
  t107 = t46 * t46;
  t108 = 0.1e1 / t107;
  t109 = t108 * t59;
  t114 = my_piecewise3(t43, 0, t103 + t8 * t47 * t105 * t109 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t42 + t64 + t9 * (t99 + t114);

  t118 = t78 * t37;
  t123 = my_piecewise3(t2, 0, t74 + t8 * t24 * t105 * t118 / 0.4e1);
  t129 = t6 * t7 * rho[1];
  t130 = t12 * t108;
  t132 = -rho[1] * t81 + t14;
  t133 = t59 * t132;
  t134 = t130 * t133;
  t137 = t7 * t51;
  t139 = t6 * t137 * t12;
  t140 = t46 * params->rpbe_mu;
  t143 = t22 * sigma[2] * t56;
  t144 = t140 * t17 * t143;
  t148 = my_piecewise3(t43, 0, -0.3e1 / 0.4e1 * t8 * t12 * t46 * t59 + t103 - t129 * t134 / 0.4e1 + t139 * t144 / 0.12e2);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t42 + t64 + t9 * (t123 + t148);

  t153 = t7 / t26 / rho[0];
  t155 = t6 * t153 * t12;
  t156 = t17 * t22;
  t157 = t156 * t34;
  t158 = t91 * t157;
  t161 = my_piecewise3(t2, 0, -t155 * t158 / 0.32e2);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t9 * t161;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t164 = t7 / t49 / rho[1];
  t166 = t6 * t164 * t12;
  t167 = t156 * t56;
  t168 = t140 * t167;
  t171 = my_piecewise3(t43, 0, -t166 * t168 / 0.32e2);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t9 * t171;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t176 = t8 * t70 * t16 * t37;
  t179 = t7 * t12;
  t182 = t24 * rho[0];
  t190 = rho[0] * t105;
  t193 = 0.5e1 / 0.6e1 * t8 * t190 * t38;
  t196 = t76 * t70 * t78 * t84;
  t200 = t6 * t88 * t70 * t95;
  t203 = 0.1e1 / t77 / t15;
  t205 = t83 * t83;
  t218 = t80 * t9;
  t219 = 0.1e1 / t218;
  t227 = t24 * t24;
  t234 = params->rpbe_mu * params->rpbe_mu;
  t235 = t17 * t17;
  t238 = 0.1e1 / t20 / t19;
  t239 = t234 * t235 * t238;
  t240 = sigma[0] * sigma[0];
  t247 = my_piecewise3(t2, 0, t176 - t8 * t85 / 0.2e1 - 0.5e1 / 0.36e2 * t6 * t179 * t16 * t23 * sigma[0] / t26 / t182 * t34 - t193 + t196 / 0.3e1 - t200 / 0.9e1 + t76 * t12 * t203 * t37 * t205 / 0.6e1 + t8 * t28 * t12 * t78 * t23 * sigma[0] * t34 * t83 / 0.18e2 - t76 * t79 * t37 * (0.2e1 * rho[0] * t219 - 0.2e1 * t81) / 0.4e1 + t8 / t25 / t227 / t24 * t12 * t16 * t239 * t240 * t30 * t34 / 0.108e3);
  t251 = 0.5e1 / 0.6e1 * t8 * rho[1] * t105 * t60;
  t253 = 0.1e1 / t11 / t218;
  t256 = t8 * t47 * t253 * t109;
  t258 = t47 * rho[1];
  t259 = t80 * t80;
  t261 = 0.1e1 / t11 / t259;
  t264 = 0.1e1 / t107 / t45;
  t270 = my_piecewise3(t43, 0, -t251 - 0.5e1 / 0.6e1 * t256 + t8 * t258 * t261 * t264 * t59 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t99 + 0.2e1 * t114 + t9 * (t247 + t270);

  t281 = t8 * t24 * t253 * t118;
  t291 = t78 * params->rpbe_mu;
  t292 = t291 * t17;
  t297 = my_piecewise3(t2, 0, t176 / 0.2e1 - t193 + t196 / 0.6e1 - t200 / 0.18e2 + t8 * t190 * t118 / 0.2e1 - 0.2e1 / 0.3e1 * t281 - t6 * t7 * t24 * t105 * t203 * t84 / 0.6e1 - t6 * t153 * t105 * t292 * t94 / 0.36e2);
  t300 = t8 * t70 * t46 * t59;
  t310 = t129 * t70 * t108 * t133;
  t318 = rho[1] * t219;
  t327 = t6 * t137 * t70 * t144;
  t331 = t108 * params->rpbe_mu;
  t332 = t331 * t17;
  t337 = my_piecewise3(t43, 0, t300 / 0.2e1 + t8 * t105 * t108 * t59 * rho[1] / 0.4e1 - t251 - t256 / 0.6e1 + t310 / 0.6e1 - t6 * t7 * t47 * t105 * t264 * t133 / 0.6e1 - t129 * t130 * t59 * (-t81 + 0.2e1 * t318) / 0.4e1 - t327 / 0.18e2 - t6 * t164 * t105 * t332 * t143 / 0.36e2);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t99 + t114 + t123 + t148 + t9 * (t297 + t337);

  t349 = my_piecewise3(t2, 0, -t193 - 0.5e1 / 0.6e1 * t281 + t8 * t182 * t261 * t203 * t37 / 0.6e1);
  t364 = t132 * t132;
  t383 = t47 * t47;
  t390 = sigma[2] * sigma[2];
  t397 = my_piecewise3(t43, 0, t300 - t8 * t134 / 0.2e1 - 0.5e1 / 0.36e2 * t6 * t179 * t46 * t23 * sigma[2] / t49 / t258 * t56 - t251 + t310 / 0.3e1 - t327 / 0.9e1 + t129 * t12 * t264 * t59 * t364 / 0.6e1 + t8 * t51 * t12 * t108 * t23 * sigma[2] * t56 * t132 / 0.18e2 - t129 * t130 * t59 * (-0.2e1 * t81 + 0.2e1 * t318) / 0.4e1 + t8 / t48 / t383 / t47 * t12 * t46 * t239 * t390 * t30 * t56 / 0.108e3);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t123 + 0.2e1 * t148 + t9 * (t349 + t397);

  t405 = t6 * t153 * t70 * t158 / 0.48e2;
  t423 = my_piecewise3(t2, 0, 0.5e1 / 0.96e2 * t90 * t158 + t405 - t155 * t292 * t22 * t34 * t83 / 0.96e2 - t8 / t25 / t227 / rho[0] * t12 * t16 * t239 * sigma[0] * t30 * t34 / 0.288e3);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t9 * t423 + t161;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t428 = t6 * t164 * t70 * t168 / 0.48e2;
  t437 = my_piecewise3(t43, 0, t428 + t6 * t7 / t49 * t105 * t331 * t167 / 0.96e2);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t9 * t437 + t171;

  t447 = my_piecewise3(t2, 0, t405 + t6 * t7 / t26 * t105 * t291 * t157 / 0.96e2);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t9 * t447 + t161;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t468 = my_piecewise3(t43, 0, 0.5e1 / 0.96e2 * t139 * t168 + t428 - t166 * t332 * t22 * t56 * t132 / 0.96e2 - t8 / t48 / t383 / rho[1] * t12 * t46 * t239 * sigma[2] * t30 * t56 / 0.288e3);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t9 * t468 + t171;

  t477 = t238 * t30;
  t482 = my_piecewise3(t2, 0, t6 * t7 / t25 / t227 * t12 * t16 * t234 * t235 * t477 * t34 / 0.768e3);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t9 * t482;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t494 = my_piecewise3(t43, 0, t6 * t7 / t48 / t383 * t12 * t46 * t234 * t235 * t477 * t56 / 0.768e3);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t9 * t494;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

