/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/gga_exc/gga_x_ncap.mpl
  Type of functional: gga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t3, t4, t5, t7, t8, t9, t10, t11;
  double t12, t13, t14, t15, t16, t17, t19, t20;
  double t22, t23, t24, t25, t26, t28, t29, t30;
  double t31, t35, t40, t42, t44, t45, t46, t48;
  double t52;

#ifndef XC_DONT_COMPILE_VXC
  double t53, t54, t58, t59, t61, t62, t64, t65;
  double t66, t67, t68, t72, t73, t74, t75, t77;
  double t78, t80, t84, t85, t86, t88, t89, t92;
  double t93, t98, t99, t101, t102, t111, t112, t114;
  double t115, t116, t117, t118, t119, t120, t123, t124;
  double t128, t129, t131, t136, t139, t140, t142, t143;
  double t144, t148, t149, t150, t153, t157, t165, t166;
  double t168, t169, t172, t176, t177, t179, t183;

#ifndef XC_DONT_COMPILE_FXC
  double t195, t200, t201, t203, t204, t206, t216, t223;
  double t227, t228, t232, t234, t236, t240, t255, t256;
  double t257, t258, t269, t275, t276, t283, t284, t285;
  double t286, t287, t291, t299, t306, t311, t319, t330;
  double t342, t347, t363, t386, t414, t419, t422, t423;
  double t428, t429, t431, t453, t462, t485, t492, t509;
  double t513;
#endif

#endif

#endif


  gga_x_ncap_params *params;

  assert(p->params != NULL);
  params = (gga_x_ncap_params * )(p->params);

  t3 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t4 = M_CBRT3;
  t5 = M_CBRTPI;
  t7 = t4 / t5;
  t8 = POW_1_3(rho[0]);
  t9 = M_CBRT6;
  t10 = t9 * t9;
  t11 = M_PI * M_PI;
  t12 = POW_1_3(t11);
  t13 = 0.1e1 / t12;
  t14 = t10 * t13;
  t15 = sqrt(sigma[0]);
  t16 = M_CBRT2;
  t17 = t15 * t16;
  t19 = 0.1e1 / t8 / rho[0];
  t20 = t17 * t19;
  t22 = t14 * t20 / 0.12e2;
  t23 = tanh(t22);
  t24 = params->mu * t23;
  t25 = log(t22 + sqrt(t22 * t22 + 0.1e1));
  t26 = 0.1e1 - params->zeta;
  t28 = t26 * t10 * t13;
  t29 = 0.1e1 + t22;
  t30 = log(t29);
  t31 = t19 * t30;
  t35 = params->zeta * t10 * t13;
  t40 = 0.1e1 + params->alpha * (t28 * t17 * t31 / 0.12e2 + t35 * t20 / 0.12e2);
  t42 = params->beta * t23;
  t44 = t42 * t25 + 0.1e1;
  t45 = 0.1e1 / t44;
  t46 = t25 * t40 * t45;
  t48 = t24 * t46 + 0.1e1;
  t52 = my_piecewise3(t3, 0, -0.3e1 / 0.8e1 * t7 * t8 * t48);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t52;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t53 = t8 * t8;
  t54 = 0.1e1 / t53;
  t58 = params->mu * t10;
  t59 = t13 * t15;
  t61 = t58 * t59 * t16;
  t62 = rho[0] * rho[0];
  t64 = 0.1e1 / t8 / t62;
  t65 = t23 * t23;
  t66 = 0.1e1 - t65;
  t67 = t64 * t66;
  t68 = t67 * t46;
  t72 = t24 * t14 * t15;
  t73 = t16 * t64;
  t74 = t12 * t12;
  t75 = 0.1e1 / t74;
  t77 = t16 * t16;
  t78 = sigma[0] * t77;
  t80 = 0.1e1 / t53 / t62;
  t84 = 0.6e1 * t9 * t75 * t78 * t80 + 0.144e3;
  t85 = sqrt(t84);
  t86 = 0.1e1 / t85;
  t88 = t86 * t40 * t45;
  t89 = t73 * t88;
  t92 = t24 * t25;
  t93 = t64 * t30;
  t98 = t26 * t9 * t75;
  t99 = t62 * rho[0];
  t101 = 0.1e1 / t53 / t99;
  t102 = 0.1e1 / t29;
  t111 = params->alpha * (-t28 * t17 * t93 / 0.9e1 - t98 * t78 * t101 * t102 / 0.18e2 - t35 * t17 * t64 / 0.9e1);
  t112 = t111 * t45;
  t114 = t44 * t44;
  t115 = 0.1e1 / t114;
  t116 = t40 * t115;
  t117 = params->beta * t10;
  t118 = t117 * t59;
  t119 = t66 * t25;
  t120 = t73 * t119;
  t123 = t42 * t14;
  t124 = t64 * t86;
  t128 = -t118 * t120 / 0.9e1 - 0.4e1 / 0.3e1 * t123 * t17 * t124;
  t129 = t116 * t128;
  t131 = -t61 * t68 / 0.9e1 - 0.4e1 / 0.3e1 * t72 * t89 + t92 * t112 - t92 * t129;
  t136 = my_piecewise3(t3, 0, -t7 * t54 * t48 / 0.8e1 - 0.3e1 / 0.8e1 * t7 * t8 * t131);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t136 + 0.2e1 * t52;

  t139 = 0.1e1 / t15;
  t140 = t13 * t139;
  t142 = t58 * t140 * t16;
  t143 = t19 * t66;
  t144 = t143 * t46;
  t148 = t24 * t14 * t139;
  t149 = t16 * t19;
  t150 = t149 * t88;
  t153 = t139 * t16;
  t157 = t77 * t80;
  t165 = params->alpha * (t28 * t153 * t31 / 0.24e2 + t98 * t157 * t102 / 0.48e2 + t35 * t153 * t19 / 0.24e2);
  t166 = t165 * t45;
  t168 = t117 * t140;
  t169 = t149 * t119;
  t172 = t19 * t86;
  t176 = t168 * t169 / 0.24e2 + t123 * t153 * t172 / 0.2e1;
  t177 = t116 * t176;
  t179 = t142 * t144 / 0.24e2 + t148 * t150 / 0.2e1 + t92 * t166 - t92 * t177;
  t183 = my_piecewise3(t3, 0, -0.3e1 / 0.8e1 * t7 * t8 * t179);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t183;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t195 = 0.1e1 / t8 / t99;
  t200 = params->mu * t9;
  t201 = t75 * sigma[0];
  t203 = t200 * t201 * t77;
  t204 = t62 * t62;
  t206 = 0.1e1 / t53 / t204;
  t216 = t67 * t25;
  t223 = t16 * t195;
  t227 = 0.1e1 / t11;
  t228 = t15 * sigma[0];
  t232 = 0.1e1 / t204 / t62;
  t234 = 0.1e1 / t85 / t84;
  t236 = t40 * t45;
  t240 = t73 * t86;
  t255 = t26 * t227;
  t256 = t228 * t232;
  t257 = t29 * t29;
  t258 = 0.1e1 / t257;
  t269 = t115 * t128;
  t275 = t40 / t114 / t44;
  t276 = t128 * t128;
  t283 = params->beta * t9;
  t284 = t283 * t201;
  t285 = t77 * t206;
  t286 = t23 * t66;
  t287 = t286 * t25;
  t291 = t66 * t86;
  t299 = t42 * t227;
  t306 = 0.7e1 / 0.27e2 * t61 * t195 * t66 * t46 - 0.4e1 / 0.27e2 * t203 * t206 * t23 * t66 * t46 + 0.16e2 / 0.9e1 * t203 * t206 * t66 * t88 - 0.2e1 / 0.9e1 * t61 * t216 * t112 + 0.2e1 / 0.9e1 * t61 * t216 * t129 + 0.28e2 / 0.9e1 * t72 * t223 * t88 - 0.128e3 * t24 * t227 * t228 * t232 * t234 * t236 - 0.8e1 / 0.3e1 * t72 * t240 * t112 + 0.8e1 / 0.3e1 * t72 * t240 * t129 + t92 * params->alpha * (0.7e1 / 0.27e2 * t28 * t17 * t195 * t30 + 0.5e1 / 0.18e2 * t98 * t78 * t206 * t102 - 0.2e1 / 0.27e2 * t255 * t256 * t258 + 0.7e1 / 0.27e2 * t35 * t17 * t195) * t45 - 0.2e1 * t92 * t111 * t269 + 0.2e1 * t92 * t275 * t276 - t92 * t116 * (0.7e1 / 0.27e2 * t118 * t223 * t119 - 0.4e1 / 0.27e2 * t284 * t285 * t287 + 0.16e2 / 0.9e1 * t284 * t285 * t291 + 0.28e2 / 0.9e1 * t123 * t17 * t195 * t86 - 0.128e3 * t299 * t256 * t234);
  t311 = my_piecewise3(t3, 0, t7 / t53 / rho[0] * t48 / 0.12e2 - t7 * t54 * t131 / 0.4e1 - 0.3e1 / 0.8e1 * t7 * t8 * t306);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t311 + 0.4e1 * t136;

  t319 = t75 * t77;
  t330 = t143 * t25;
  t342 = 0.1e1 / t204 / rho[0];
  t347 = t149 * t86;
  t363 = t77 * t101;
  t386 = t115 * t176;
  t414 = -t142 * t68 / 0.18e2 + t200 * t319 * t101 * t286 * t46 / 0.18e2 - 0.2e1 / 0.3e1 * t200 * t319 * t101 * t66 * t88 + t142 * t330 * t112 / 0.24e2 - t142 * t330 * t129 / 0.24e2 - 0.2e1 / 0.3e1 * t148 * t89 + 0.48e2 * t24 * t227 * t15 * t342 * t234 * t236 + t148 * t347 * t112 / 0.2e1 - t148 * t347 * t129 / 0.2e1 - t61 * t216 * t166 / 0.9e1 - 0.4e1 / 0.3e1 * t72 * t240 * t166 + t92 * params->alpha * (-t28 * t153 * t93 / 0.18e2 - t98 * t363 * t102 / 0.12e2 + t255 * t342 * t258 * t15 / 0.36e2 - t35 * t153 * t64 / 0.18e2) * t45 - t92 * t165 * t269 + t61 * t216 * t177 / 0.9e1 + 0.4e1 / 0.3e1 * t72 * t240 * t177 - t92 * t111 * t386 + 0.2e1 * t92 * t275 * t176 * t128 - t92 * t116 * (-t168 * t120 / 0.18e2 + t283 * t319 * t101 * t23 * t119 / 0.18e2 - 0.2e1 / 0.3e1 * t283 * t75 * t363 * t291 - 0.2e1 / 0.3e1 * t123 * t153 * t124 + 0.48e2 * t299 * t15 * t342 * t234);
  t419 = my_piecewise3(t3, 0, -t7 * t54 * t179 / 0.8e1 - 0.3e1 / 0.8e1 * t7 * t8 * t414);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t419 + 0.2e1 * t183;

  t422 = 0.1e1 / t228;
  t423 = t13 * t422;
  t428 = 0.1e1 / sigma[0];
  t429 = t75 * t428;
  t431 = t200 * t429 * t77;
  t453 = 0.1e1 / t204;
  t462 = t422 * t16;
  t485 = t176 * t176;
  t492 = t283 * t429;
  t509 = -t58 * t423 * t16 * t144 / 0.48e2 - t431 * t80 * t23 * t66 * t46 / 0.48e2 + t431 * t80 * t66 * t88 / 0.4e1 + t142 * t330 * t166 / 0.12e2 - t142 * t330 * t177 / 0.12e2 - t24 * t14 * t422 * t150 / 0.4e1 - 0.18e2 * t24 * t227 * t139 * t453 * t234 * t236 + t148 * t347 * t166 - t148 * t347 * t177 + t92 * params->alpha * (-t28 * t462 * t31 / 0.48e2 + t98 * t428 * t77 * t80 * t102 / 0.96e2 - t255 * t453 * t258 * t139 / 0.96e2 - t35 * t462 * t19 / 0.48e2) * t45 - 0.2e1 * t92 * t165 * t386 + 0.2e1 * t92 * t275 * t485 - t92 * t116 * (-t117 * t423 * t169 / 0.48e2 - t492 * t157 * t287 / 0.48e2 + t492 * t157 * t291 / 0.4e1 - t123 * t462 * t172 / 0.4e1 - 0.18e2 * t299 * t139 * t453 * t234);
  t513 = my_piecewise3(t3, 0, -0.3e1 / 0.8e1 * t7 * t8 * t509);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t513;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t1, t2, t3, t4, t6, t7, t8, t9;
  double t10, t11, t12, t13, t14, t15, t16, t17;
  double t18, t19, t20, t21, t22, t23, t24, t26;
  double t27, t29, t30, t31, t32, t33, t35, t36;
  double t37, t40, t41, t47, t49, t51, t52, t53;
  double t55, t56, t60, t61, t62, t63, t64, t65;
  double t66, t68, t69, t71, t72, t73, t74, t75;
  double t76, t79, t85, t87, t89, t90, t91, t93;
  double t94, t98;

#ifndef XC_DONT_COMPILE_VXC
  double t99, t104, t105, t108, t110, t111, t112, t113;
  double t114, t115, t117, t118, t119, t122, t123, t124;
  double t126, t127, t128, t130, t133, t134, t135, t136;
  double t137, t138, t140, t144, t145, t146, t148, t152;
  double t156, t157, t158, t160, t162, t166, t170, t171;
  double t173, t174, t175, t177, t178, t182, t183, t187;
  double t188, t190, t191, t196, t197, t200, t201, t203;
  double t204, t205, t206, t207, t212, t215, t216, t221;
  double t222, t227, t228, t230, t231, t232, t235, t237;
  double t238, t239, t241, t244, t245, t246, t248, t252;
  double t253, t254, t256, t260, t264, t266, t268, t272;
  double t276, t277, t279, t280, t281, t282, t286, t287;
  double t291, t292, t294, t295, t300, t303, t304, t305;
  double t307, t310, t321, t325, t326, t331, t335, t336;
  double t338, t339, t343, t344, t345, t346, t348, t351;
  double t362, t366, t367, t372, t376, t377, t379, t380;
  double t384;

#ifndef XC_DONT_COMPILE_FXC
  double t389, t395, t398, t401, t404, t406, t408, t417;
  double t418, t427, t432, t433, t434, t436, t440, t448;
  double t449, t452, t455, t459, t460, t464, t466, t468;
  double t473, t483, t487, t488, t489, t490, t501, t507;
  double t508, t515, t521, t522, t530, t537, t543, t547;
  double t549, t552, t554, t556, t559, t565, t576, t589;
  double t592, t602, t610, t618, t625, t637, t645, t661;
  double t666, t667, t669, t673, t681, t682, t685, t688;
  double t692, t696, t698, t700, t705, t715, t719, t720;
  double t721, t732, t738, t739, t751, t759, t766, t772;
  double t780, t787, t788, t794, t799, t806, t812, t819;
  double t844, t850, t878, t884, t888, t894, t901, t912;
  double t913, t919, t924, t931, t937, t944, t969, t975;
  double t1003, t1009, t1011, t1012, t1016, t1017, t1031, t1037;
  double t1049, t1067, t1092, t1097, t1098, t1099, t1103, t1104;
  double t1118, t1124, t1136, t1154, t1179, t1184;
#endif

#endif

#endif


  gga_x_ncap_params *params;

  assert(p->params != NULL);
  params = (gga_x_ncap_params * )(p->params);

  t1 = 0.101e1 * p->threshold_dens;
  t2 = rho[0] <= t1;
  t3 = M_CBRT3;
  t4 = M_CBRTPI;
  t6 = t3 / t4;
  t7 = M_CBRT2;
  t8 = t6 * t7;
  t9 = rho[0] + rho[1];
  t10 = POW_1_3(t9);
  t11 = t10 * t10;
  t12 = 0.1e1 / t11;
  t13 = rho[0] * t12;
  t14 = 0.1e1 / t9;
  t15 = rho[0] * t14;
  t16 = POW_1_3(t15);
  t17 = M_CBRT6;
  t18 = t17 * t17;
  t19 = M_PI * M_PI;
  t20 = POW_1_3(t19);
  t21 = 0.1e1 / t20;
  t22 = t18 * t21;
  t23 = sqrt(sigma[0]);
  t24 = POW_1_3(rho[0]);
  t26 = 0.1e1 / t24 / rho[0];
  t27 = t23 * t26;
  t29 = t22 * t27 / 0.12e2;
  t30 = tanh(t29);
  t31 = params->mu * t30;
  t32 = log(t29 + sqrt(t29 * t29 + 0.1e1));
  t33 = 0.1e1 - params->zeta;
  t35 = t33 * t18 * t21;
  t36 = 0.1e1 + t29;
  t37 = log(t36);
  t40 = params->zeta * t18;
  t41 = t21 * t23;
  t47 = 0.1e1 + params->alpha * (t40 * t41 * t26 / 0.12e2 + t35 * t27 * t37 / 0.12e2);
  t49 = params->beta * t30;
  t51 = t49 * t32 + 0.1e1;
  t52 = 0.1e1 / t51;
  t53 = t32 * t47 * t52;
  t55 = t31 * t53 + 0.1e1;
  t56 = t16 * t55;
  t60 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t13 * t56);
  t61 = rho[1] <= t1;
  t62 = rho[1] * t12;
  t63 = rho[1] * t14;
  t64 = POW_1_3(t63);
  t65 = sqrt(sigma[2]);
  t66 = POW_1_3(rho[1]);
  t68 = 0.1e1 / t66 / rho[1];
  t69 = t65 * t68;
  t71 = t22 * t69 / 0.12e2;
  t72 = tanh(t71);
  t73 = params->mu * t72;
  t74 = log(t71 + sqrt(t71 * t71 + 0.1e1));
  t75 = 0.1e1 + t71;
  t76 = log(t75);
  t79 = t21 * t65;
  t85 = 0.1e1 + params->alpha * (t35 * t69 * t76 / 0.12e2 + t40 * t79 * t68 / 0.12e2);
  t87 = params->beta * t72;
  t89 = t87 * t74 + 0.1e1;
  t90 = 0.1e1 / t89;
  t91 = t74 * t85 * t90;
  t93 = t73 * t91 + 0.1e1;
  t94 = t64 * t93;
  t98 = my_piecewise3(t61, 0, -0.3e1 / 0.4e1 * t8 * t62 * t94);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t60 + t98;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t99 = t12 * t16;
  t104 = 0.1e1 / t11 / t9;
  t105 = rho[0] * t104;
  t108 = t8 * t105 * t56 / 0.2e1;
  t110 = t6 * t7 * rho[0];
  t111 = t16 * t16;
  t112 = 0.1e1 / t111;
  t113 = t12 * t112;
  t114 = t9 * t9;
  t115 = 0.1e1 / t114;
  t117 = -rho[0] * t115 + t14;
  t118 = t55 * t117;
  t119 = t113 * t118;
  t122 = params->mu * t18;
  t123 = t122 * t41;
  t124 = rho[0] * rho[0];
  t126 = 0.1e1 / t24 / t124;
  t127 = t30 * t30;
  t128 = 0.1e1 - t127;
  t130 = t126 * t128 * t53;
  t133 = t31 * t22;
  t134 = t23 * t126;
  t135 = t20 * t20;
  t136 = 0.1e1 / t135;
  t137 = t17 * t136;
  t138 = t24 * t24;
  t140 = 0.1e1 / t138 / t124;
  t144 = 0.6e1 * t137 * sigma[0] * t140 + 0.144e3;
  t145 = sqrt(t144);
  t146 = 0.1e1 / t145;
  t148 = t146 * t47 * t52;
  t152 = t31 * t32;
  t156 = t33 * t17;
  t157 = t156 * t136;
  t158 = t124 * rho[0];
  t160 = 0.1e1 / t138 / t158;
  t162 = 0.1e1 / t36;
  t166 = t41 * t126;
  t170 = params->alpha * (-t35 * t134 * t37 / 0.9e1 - t157 * sigma[0] * t160 * t162 / 0.18e2 - t40 * t166 / 0.9e1);
  t171 = t170 * t52;
  t173 = t51 * t51;
  t174 = 0.1e1 / t173;
  t175 = t47 * t174;
  t177 = params->beta * t18 * t21;
  t178 = t128 * t32;
  t182 = t49 * t18;
  t183 = t126 * t146;
  t187 = -t177 * t134 * t178 / 0.9e1 - 0.4e1 / 0.3e1 * t182 * t41 * t183;
  t188 = t175 * t187;
  t190 = -t123 * t130 / 0.9e1 - 0.4e1 / 0.3e1 * t133 * t134 * t148 + t152 * t171 - t152 * t188;
  t191 = t16 * t190;
  t196 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t99 * t55 + t108 - t110 * t119 / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t13 * t191);
  t197 = rho[1] * t104;
  t200 = t8 * t197 * t94 / 0.2e1;
  t201 = rho[1] * rho[1];
  t203 = 0.1e1 / t11 / t114;
  t204 = t201 * t203;
  t205 = t64 * t64;
  t206 = 0.1e1 / t205;
  t207 = t206 * t93;
  t212 = my_piecewise3(t61, 0, t200 + t8 * t204 * t207 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t60 + t98 + t9 * (t196 + t212);

  t215 = t124 * t203;
  t216 = t112 * t55;
  t221 = my_piecewise3(t2, 0, t108 + t8 * t215 * t216 / 0.4e1);
  t222 = t12 * t64;
  t227 = t6 * t7 * rho[1];
  t228 = t12 * t206;
  t230 = -rho[1] * t115 + t14;
  t231 = t93 * t230;
  t232 = t228 * t231;
  t235 = t122 * t79;
  t237 = 0.1e1 / t66 / t201;
  t238 = t72 * t72;
  t239 = 0.1e1 - t238;
  t241 = t237 * t239 * t91;
  t244 = t73 * t22;
  t245 = t65 * t237;
  t246 = t66 * t66;
  t248 = 0.1e1 / t246 / t201;
  t252 = 0.6e1 * t137 * sigma[2] * t248 + 0.144e3;
  t253 = sqrt(t252);
  t254 = 0.1e1 / t253;
  t256 = t254 * t85 * t90;
  t260 = t73 * t74;
  t264 = t201 * rho[1];
  t266 = 0.1e1 / t246 / t264;
  t268 = 0.1e1 / t75;
  t272 = t79 * t237;
  t276 = params->alpha * (-t35 * t245 * t76 / 0.9e1 - t157 * sigma[2] * t266 * t268 / 0.18e2 - t40 * t272 / 0.9e1);
  t277 = t276 * t90;
  t279 = t89 * t89;
  t280 = 0.1e1 / t279;
  t281 = t85 * t280;
  t282 = t239 * t74;
  t286 = t87 * t18;
  t287 = t237 * t254;
  t291 = -t177 * t245 * t282 / 0.9e1 - 0.4e1 / 0.3e1 * t286 * t79 * t287;
  t292 = t281 * t291;
  t294 = -t235 * t241 / 0.9e1 - 0.4e1 / 0.3e1 * t244 * t245 * t256 + t260 * t277 - t260 * t292;
  t295 = t64 * t294;
  t300 = my_piecewise3(t61, 0, -0.3e1 / 0.4e1 * t8 * t222 * t93 + t200 - t227 * t232 / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t62 * t295);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t60 + t98 + t9 * (t221 + t300);

  t303 = 0.1e1 / t23;
  t304 = t21 * t303;
  t305 = t122 * t304;
  t307 = t26 * t128 * t53;
  t310 = t303 * t26;
  t321 = t304 * t26;
  t325 = params->alpha * (t35 * t310 * t37 / 0.24e2 + t156 * t136 * t140 * t162 / 0.48e2 + t40 * t321 / 0.24e2);
  t326 = t325 * t52;
  t331 = t26 * t146;
  t335 = t177 * t310 * t178 / 0.24e2 + t182 * t304 * t331 / 0.2e1;
  t336 = t175 * t335;
  t338 = t305 * t307 / 0.24e2 + t133 * t310 * t148 / 0.2e1 + t152 * t326 - t152 * t336;
  t339 = t16 * t338;
  t343 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t13 * t339);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t9 * t343;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t344 = 0.1e1 / t65;
  t345 = t21 * t344;
  t346 = t122 * t345;
  t348 = t68 * t239 * t91;
  t351 = t344 * t68;
  t362 = t345 * t68;
  t366 = params->alpha * (t35 * t351 * t76 / 0.24e2 + t156 * t136 * t248 * t268 / 0.48e2 + t40 * t362 / 0.24e2);
  t367 = t366 * t90;
  t372 = t68 * t254;
  t376 = t177 * t351 * t282 / 0.24e2 + t286 * t345 * t372 / 0.2e1;
  t377 = t281 * t376;
  t379 = t346 * t348 / 0.24e2 + t244 * t351 * t256 / 0.2e1 + t260 * t367 - t260 * t377;
  t380 = t64 * t379;
  t384 = my_piecewise3(t61, 0, -0.3e1 / 0.4e1 * t8 * t62 * t380);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t9 * t384;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t389 = t8 * t104 * t16 * t55;
  t395 = rho[0] * t203;
  t398 = 0.5e1 / 0.6e1 * t8 * t395 * t56;
  t401 = t110 * t104 * t112 * t118;
  t404 = t8 * t105 * t191;
  t406 = 0.1e1 / t111 / t15;
  t408 = t117 * t117;
  t417 = t114 * t9;
  t418 = 0.1e1 / t417;
  t427 = 0.1e1 / t24 / t158;
  t432 = params->mu * t17;
  t433 = t136 * sigma[0];
  t434 = t124 * t124;
  t436 = 0.1e1 / t138 / t434;
  t440 = t30 * t128 * t53;
  t448 = t122 * t166;
  t449 = t178 * t171;
  t452 = t178 * t188;
  t455 = t23 * t427;
  t459 = 0.1e1 / t19;
  t460 = t23 * sigma[0];
  t464 = 0.1e1 / t434 / t124;
  t466 = 0.1e1 / t145 / t144;
  t468 = t47 * t52;
  t473 = t31 * t22 * t23;
  t483 = sigma[0] * t436;
  t487 = t33 * t459;
  t488 = t460 * t464;
  t489 = t36 * t36;
  t490 = 0.1e1 / t489;
  t501 = t174 * t187;
  t507 = t47 / t173 / t51;
  t508 = t187 * t187;
  t515 = params->beta * t17;
  t521 = t515 * t136;
  t522 = t128 * t146;
  t530 = t49 * t459;
  t537 = 0.7e1 / 0.27e2 * t123 * t427 * t128 * t53 - 0.4e1 / 0.27e2 * t432 * t433 * t436 * t440 + 0.16e2 / 0.9e1 * t432 * t433 * t436 * t128 * t148 - 0.2e1 / 0.9e1 * t448 * t449 + 0.2e1 / 0.9e1 * t448 * t452 + 0.28e2 / 0.9e1 * t133 * t455 * t148 - 0.64e2 * t31 * t459 * t460 * t464 * t466 * t468 - 0.8e1 / 0.3e1 * t473 * t183 * t171 + 0.8e1 / 0.3e1 * t473 * t183 * t188 + t152 * params->alpha * (0.7e1 / 0.27e2 * t35 * t455 * t37 + 0.5e1 / 0.18e2 * t157 * t483 * t162 - t487 * t488 * t490 / 0.27e2 + 0.7e1 / 0.27e2 * t40 * t41 * t427) * t52 - 0.2e1 * t152 * t170 * t501 + 0.2e1 * t152 * t507 * t508 - t152 * t175 * (0.7e1 / 0.27e2 * t177 * t455 * t178 - 0.4e1 / 0.27e2 * t515 * t433 * t436 * t30 * t178 + 0.16e2 / 0.9e1 * t521 * t483 * t522 + 0.28e2 / 0.9e1 * t182 * t41 * t427 * t146 - 0.64e2 * t530 * t488 * t466);
  t543 = my_piecewise3(t2, 0, t389 - t8 * t119 / 0.2e1 - 0.3e1 / 0.2e1 * t8 * t99 * t190 - t398 + t401 / 0.3e1 + t404 + t110 * t12 * t406 * t55 * t408 / 0.6e1 - t110 * t113 * t190 * t117 / 0.2e1 - t110 * t113 * t55 * (0.2e1 * rho[0] * t418 - 0.2e1 * t115) / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t13 * t16 * t537);
  t547 = 0.5e1 / 0.6e1 * t8 * rho[1] * t203 * t94;
  t549 = 0.1e1 / t11 / t417;
  t552 = t8 * t201 * t549 * t207;
  t554 = t114 * t114;
  t556 = 0.1e1 / t11 / t554;
  t559 = 0.1e1 / t205 / t63;
  t565 = my_piecewise3(t61, 0, -t547 - 0.5e1 / 0.6e1 * t552 + t8 * t264 * t556 * t559 * t93 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t196 + 0.2e1 * t212 + t9 * (t543 + t565);

  t576 = t8 * t124 * t549 * t216;
  t589 = my_piecewise3(t2, 0, t389 / 0.2e1 - t398 + t401 / 0.6e1 + t404 / 0.2e1 + t8 * t395 * t216 / 0.2e1 - 0.2e1 / 0.3e1 * t576 - t6 * t7 * t124 * t203 * t406 * t118 / 0.6e1 + t8 * t215 * t112 * t190 / 0.4e1);
  t592 = t8 * t104 * t64 * t93;
  t602 = t227 * t104 * t206 * t231;
  t610 = rho[1] * t418;
  t618 = t8 * t197 * t295;
  t625 = my_piecewise3(t61, 0, t592 / 0.2e1 + t8 * t203 * t206 * t93 * rho[1] / 0.4e1 - t547 - t552 / 0.6e1 + t602 / 0.6e1 - t6 * t7 * t201 * t203 * t559 * t231 / 0.6e1 - t227 * t228 * t93 * (-t115 + 0.2e1 * t610) / 0.4e1 + t618 / 0.2e1 + t8 * t204 * t206 * t294 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t196 + t212 + t221 + t300 + t9 * (t589 + t625);

  t637 = my_piecewise3(t2, 0, -t398 - 0.5e1 / 0.6e1 * t576 + t8 * t158 * t556 * t406 * t55 / 0.6e1);
  t645 = t230 * t230;
  t661 = 0.1e1 / t66 / t264;
  t666 = t136 * sigma[2];
  t667 = t201 * t201;
  t669 = 0.1e1 / t246 / t667;
  t673 = t72 * t239 * t91;
  t681 = t122 * t272;
  t682 = t282 * t277;
  t685 = t282 * t292;
  t688 = t65 * t661;
  t692 = t65 * sigma[2];
  t696 = 0.1e1 / t667 / t201;
  t698 = 0.1e1 / t253 / t252;
  t700 = t85 * t90;
  t705 = t73 * t22 * t65;
  t715 = sigma[2] * t669;
  t719 = t692 * t696;
  t720 = t75 * t75;
  t721 = 0.1e1 / t720;
  t732 = t280 * t291;
  t738 = t85 / t279 / t89;
  t739 = t291 * t291;
  t751 = t239 * t254;
  t759 = t87 * t459;
  t766 = 0.7e1 / 0.27e2 * t235 * t661 * t239 * t91 - 0.4e1 / 0.27e2 * t432 * t666 * t669 * t673 + 0.16e2 / 0.9e1 * t432 * t666 * t669 * t239 * t256 - 0.2e1 / 0.9e1 * t681 * t682 + 0.2e1 / 0.9e1 * t681 * t685 + 0.28e2 / 0.9e1 * t244 * t688 * t256 - 0.64e2 * t73 * t459 * t692 * t696 * t698 * t700 - 0.8e1 / 0.3e1 * t705 * t287 * t277 + 0.8e1 / 0.3e1 * t705 * t287 * t292 + t260 * params->alpha * (0.7e1 / 0.27e2 * t35 * t688 * t76 + 0.5e1 / 0.18e2 * t157 * t715 * t268 - t487 * t719 * t721 / 0.27e2 + 0.7e1 / 0.27e2 * t40 * t79 * t661) * t90 - 0.2e1 * t260 * t276 * t732 + 0.2e1 * t260 * t738 * t739 - t260 * t281 * (0.7e1 / 0.27e2 * t177 * t688 * t282 - 0.4e1 / 0.27e2 * t515 * t666 * t669 * t72 * t282 + 0.16e2 / 0.9e1 * t521 * t715 * t751 + 0.28e2 / 0.9e1 * t286 * t79 * t661 * t254 - 0.64e2 * t759 * t719 * t698);
  t772 = my_piecewise3(t61, 0, t592 - t8 * t232 / 0.2e1 - 0.3e1 / 0.2e1 * t8 * t222 * t294 - t547 + t602 / 0.3e1 + t618 + t227 * t12 * t559 * t93 * t645 / 0.6e1 - t227 * t228 * t294 * t230 / 0.2e1 - t227 * t228 * t93 * (-0.2e1 * t115 + 0.2e1 * t610) / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t62 * t64 * t766);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t221 + 0.2e1 * t300 + t9 * (t637 + t772);

  t780 = t8 * t105 * t339 / 0.2e1;
  t787 = t136 * t160;
  t788 = t432 * t787;
  t794 = t122 * t321;
  t799 = t303 * t126;
  t806 = 0.1e1 / t434 / rho[0];
  t812 = t31 * t22 * t303;
  t819 = t178 * t326;
  t844 = t178 * t336;
  t850 = t174 * t335;
  t878 = -t305 * t130 / 0.18e2 + t788 * t440 / 0.18e2 - 0.2e1 / 0.3e1 * t788 * t522 * t468 + t794 * t449 / 0.24e2 - t794 * t452 / 0.24e2 - 0.2e1 / 0.3e1 * t133 * t799 * t148 + 0.24e2 * t31 * t459 * t23 * t806 * t466 * t468 + t812 * t331 * t171 / 0.2e1 - t812 * t331 * t188 / 0.2e1 - t448 * t819 / 0.9e1 - 0.4e1 / 0.3e1 * t473 * t183 * t326 + t152 * params->alpha * (-t35 * t799 * t37 / 0.18e2 - t156 * t787 * t162 / 0.12e2 + t487 * t806 * t490 * t23 / 0.72e2 - t40 * t304 * t126 / 0.18e2) * t52 - t152 * t325 * t501 + t448 * t844 / 0.9e1 + 0.4e1 / 0.3e1 * t473 * t183 * t336 - t152 * t170 * t850 + 0.2e1 * t152 * t507 * t335 * t187 - t152 * t175 * (-t177 * t799 * t178 / 0.18e2 + t521 * t160 * t30 * t178 / 0.18e2 - 0.2e1 / 0.3e1 * t521 * t160 * t128 * t146 - 0.2e1 / 0.3e1 * t182 * t304 * t183 + 0.24e2 * t530 * t23 * t806 * t466);
  t884 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t99 * t338 + t780 - t110 * t113 * t338 * t117 / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t13 * t16 * t878);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t9 * t884 + t343;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t888 = t8 * t197 * t380 / 0.2e1;
  t894 = my_piecewise3(t61, 0, t888 + t8 * t204 * t206 * t379 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t9 * t894 + t384;

  t901 = my_piecewise3(t2, 0, t780 + t8 * t215 * t112 * t338 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t9 * t901 + t343;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t912 = t136 * t266;
  t913 = t432 * t912;
  t919 = t122 * t362;
  t924 = t344 * t237;
  t931 = 0.1e1 / t667 / rho[1];
  t937 = t73 * t22 * t344;
  t944 = t282 * t367;
  t969 = t282 * t377;
  t975 = t280 * t376;
  t1003 = -t346 * t241 / 0.18e2 + t913 * t673 / 0.18e2 - 0.2e1 / 0.3e1 * t913 * t751 * t700 + t919 * t682 / 0.24e2 - t919 * t685 / 0.24e2 - 0.2e1 / 0.3e1 * t244 * t924 * t256 + 0.24e2 * t73 * t459 * t65 * t931 * t698 * t700 + t937 * t372 * t277 / 0.2e1 - t937 * t372 * t292 / 0.2e1 - t681 * t944 / 0.9e1 - 0.4e1 / 0.3e1 * t705 * t287 * t367 + t260 * params->alpha * (-t35 * t924 * t76 / 0.18e2 - t156 * t912 * t268 / 0.12e2 + t487 * t931 * t721 * t65 / 0.72e2 - t40 * t345 * t237 / 0.18e2) * t90 - t260 * t366 * t732 + t681 * t969 / 0.9e1 + 0.4e1 / 0.3e1 * t705 * t287 * t377 - t260 * t276 * t975 + 0.2e1 * t260 * t738 * t376 * t291 - t260 * t281 * (-t177 * t924 * t282 / 0.18e2 + t521 * t266 * t72 * t282 / 0.18e2 - 0.2e1 / 0.3e1 * t521 * t266 * t239 * t254 - 0.2e1 / 0.3e1 * t286 * t345 * t287 + 0.24e2 * t759 * t65 * t931 * t698);
  t1009 = my_piecewise3(t61, 0, -0.3e1 / 0.4e1 * t8 * t222 * t379 + t888 - t227 * t228 * t379 * t230 / 0.4e1 - 0.3e1 / 0.4e1 * t8 * t62 * t64 * t1003);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t9 * t1009 + t384;

  t1011 = 0.1e1 / t460;
  t1012 = t21 * t1011;
  t1016 = 0.1e1 / sigma[0];
  t1017 = t136 * t1016;
  t1031 = t1011 * t26;
  t1037 = 0.1e1 / t434;
  t1049 = t1016 * t140;
  t1067 = t335 * t335;
  t1092 = -t122 * t1012 * t307 / 0.48e2 - t432 * t1017 * t140 * t440 / 0.48e2 + t432 * t1017 * t140 * t128 * t148 / 0.4e1 + t794 * t819 / 0.12e2 - t794 * t844 / 0.12e2 - t133 * t1031 * t148 / 0.4e1 - 0.9e1 * t31 * t459 * t303 * t1037 * t466 * t468 + t812 * t331 * t326 - t812 * t331 * t336 + t152 * params->alpha * (-t35 * t1031 * t37 / 0.48e2 + t157 * t1049 * t162 / 0.96e2 - t487 * t1037 * t490 * t303 / 0.192e3 - t40 * t1012 * t26 / 0.48e2) * t52 - 0.2e1 * t152 * t325 * t850 + 0.2e1 * t152 * t507 * t1067 - t152 * t175 * (-t177 * t1031 * t178 / 0.48e2 - t515 * t1017 * t140 * t30 * t178 / 0.48e2 + t521 * t1049 * t522 / 0.4e1 - t182 * t1012 * t331 / 0.4e1 - 0.9e1 * t530 * t303 * t1037 * t466);
  t1097 = my_piecewise3(t2, 0, -0.3e1 / 0.4e1 * t8 * t13 * t16 * t1092);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t9 * t1097;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t1098 = 0.1e1 / t692;
  t1099 = t21 * t1098;
  t1103 = 0.1e1 / sigma[2];
  t1104 = t136 * t1103;
  t1118 = t1098 * t68;
  t1124 = 0.1e1 / t667;
  t1136 = t1103 * t248;
  t1154 = t376 * t376;
  t1179 = -t122 * t1099 * t348 / 0.48e2 - t432 * t1104 * t248 * t673 / 0.48e2 + t432 * t1104 * t248 * t239 * t256 / 0.4e1 + t919 * t944 / 0.12e2 - t919 * t969 / 0.12e2 - t244 * t1118 * t256 / 0.4e1 - 0.9e1 * t73 * t459 * t344 * t1124 * t698 * t700 + t937 * t372 * t367 - t937 * t372 * t377 + t260 * params->alpha * (-t35 * t1118 * t76 / 0.48e2 + t157 * t1136 * t268 / 0.96e2 - t487 * t1124 * t721 * t344 / 0.192e3 - t40 * t1099 * t68 / 0.48e2) * t90 - 0.2e1 * t260 * t366 * t975 + 0.2e1 * t260 * t738 * t1154 - t260 * t281 * (-t177 * t1118 * t282 / 0.48e2 - t515 * t1104 * t248 * t72 * t282 / 0.48e2 + t521 * t1136 * t751 / 0.4e1 - t286 * t1099 * t372 / 0.4e1 - 0.9e1 * t759 * t344 * t1124 * t698);
  t1184 = my_piecewise3(t61, 0, -0.3e1 / 0.4e1 * t8 * t62 * t64 * t1179);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t9 * t1184;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

