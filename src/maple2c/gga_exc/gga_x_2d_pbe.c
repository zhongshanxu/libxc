/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/gga_exc/gga_x_2d_pbe.mpl
  Type of functional: gga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t3, t4, t6, t7, t8, t9, t10, t14;
  double t17, t21;

#ifndef XC_DONT_COMPILE_VXC
  double t28, t29, t30, t31, t35, t43;

#ifndef XC_DONT_COMPILE_FXC
  double t51, t62, t63, t68, t81, t90;
#endif

#endif

#endif



  t3 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t4 = sqrt(M_PI);
  t6 = M_SQRT2;
  t7 = 0.1e1 / t4 * t6;
  t8 = sqrt(rho[0]);
  t9 = rho[0] * rho[0];
  t10 = t9 * rho[0];
  t14 = 0.4604e0 + 0.14106971928508582281e-1 * sigma[0] / t10;
  t17 = 0.14604e1 - 0.21196816e0 / t14;
  t21 = my_piecewise3(t3, 0, -0.2e1 / 0.3e1 * t7 * t8 * t17);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t21;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t28 = t6 / t8 / t10;
  t29 = t14 * t14;
  t30 = 0.1e1 / t29;
  t31 = t30 * sigma[0];
  t35 = my_piecewise3(t3, 0, -t7 / t8 * t17 / 0.3e1 + 0.33741119762638214745e-2 * t28 * t31);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t35 + 0.2e1 * t21;

  t43 = my_piecewise3(t3, 0, -0.11247039920879404915e-2 * t6 / t8 / t9 * t30);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t43;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t51 = t9 * t9;
  t62 = 0.1e1 / t29 / t14;
  t63 = sigma[0] * sigma[0];
  t68 = my_piecewise3(t3, 0, t7 / t8 / rho[0] * t17 / 0.6e1 - 0.10122335928791464424e-1 * t6 / t8 / t51 * t31 + 0.28559101759679007257e-3 * t6 / t8 / t51 / t10 * t62 * t63);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t68 + 0.4e1 * t35;

  t81 = my_piecewise3(t3, 0, 0.28117599802198512288e-2 * t28 * t30 - 0.95197005865596690856e-4 * t6 / t8 / t51 / t9 * t62 * sigma[0]);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t81 + 0.2e1 * t43;

  t90 = my_piecewise3(t3, 0, 0.31732335288532230285e-4 * t6 / t8 / t51 / rho[0] * t62);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t90;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma , double *zk GGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t1, t2, t3, t4, t5, t6, t7, t8;
  double t9, t10, t11, t12, t13, t14, t15, t18;
  double t21, t25, t26, t27, t28, t29, t30, t31;
  double t32, t33, t36, t39, t43;

#ifndef XC_DONT_COMPILE_VXC
  double t44, t45, t49, t52, t54, t55, t56, t57;
  double t58, t60, t61, t64, t65, t66, t67, t68;
  double t72, t75, t76, t78, t79, t85, t88, t90;
  double t94, t95, t99, t100, t102, t103, t106, t107;
  double t108, t109, t110, t114, t117, t118, t121, t122;
  double t123, t126;

#ifndef XC_DONT_COMPILE_FXC
  double t129, t130, t134, t135, t143, t145, t148, t151;
  double t152, t153, t161, t162, t174, t175, t180, t184;
  double t186, t189, t192, t194, t196, t202, t212, t219;
  double t224, t225, t233, t236, t240, t247, t250, t255;
  double t267, t271, t272, t279, t297, t298, t303, t310;
  double t321, t325, t331, t338, t352, t359, t365;
#endif

#endif

#endif



  t1 = 0.101e1 * p->threshold_dens;
  t2 = rho[0] <= t1;
  t3 = sqrt(M_PI);
  t4 = 0.1e1 / t3;
  t5 = t4 * rho[0];
  t6 = rho[0] + rho[1];
  t7 = sqrt(t6);
  t8 = 0.1e1 / t7;
  t9 = 0.1e1 / t6;
  t10 = rho[0] * t9;
  t11 = sqrt(t10);
  t12 = t8 * t11;
  t13 = rho[0] * rho[0];
  t14 = t13 * rho[0];
  t15 = 0.1e1 / t14;
  t18 = 0.4604e0 + 0.70534859642542911404e-2 * sigma[0] * t15;
  t21 = 0.14604e1 - 0.21196816e0 / t18;
  t25 = my_piecewise3(t2, 0, -0.8e1 / 0.3e1 * t5 * t12 * t21);
  t26 = rho[1] <= t1;
  t27 = t4 * rho[1];
  t28 = rho[1] * t9;
  t29 = sqrt(t28);
  t30 = t8 * t29;
  t31 = rho[1] * rho[1];
  t32 = t31 * rho[1];
  t33 = 0.1e1 / t32;
  t36 = 0.4604e0 + 0.70534859642542911404e-2 * sigma[2] * t33;
  t39 = 0.14604e1 - 0.21196816e0 / t36;
  t43 = my_piecewise3(t26, 0, -0.8e1 / 0.3e1 * t27 * t30 * t39);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t25 + t43;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t44 = t4 * t8;
  t45 = t11 * t21;
  t49 = 0.1e1 / t7 / t6;
  t52 = t5 * t49 * t11 * t21;
  t54 = t5 * t8;
  t55 = 0.1e1 / t11;
  t56 = t55 * t21;
  t57 = t6 * t6;
  t58 = 0.1e1 / t57;
  t60 = -rho[0] * t58 + t9;
  t61 = t56 * t60;
  t64 = t15 * t8;
  t65 = t18 * t18;
  t66 = 0.1e1 / t65;
  t67 = t11 * t66;
  t68 = t67 * sigma[0];
  t72 = my_piecewise3(t2, 0, -0.8e1 / 0.3e1 * t44 * t45 + 0.4e1 / 0.3e1 * t52 - 0.4e1 / 0.3e1 * t54 * t61 + 0.67482239525276429491e-2 * t64 * t68);
  t75 = t27 * t49 * t29 * t39;
  t76 = t4 * t31;
  t78 = 0.1e1 / t7 / t57;
  t79 = 0.1e1 / t29;
  t85 = my_piecewise3(t26, 0, 0.4e1 / 0.3e1 * t76 * t78 * t79 * t39 + 0.4e1 / 0.3e1 * t75);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t25 + t43 + t6 * (t72 + t85);

  t88 = t4 * t13;
  t90 = t78 * t55 * t21;
  t94 = my_piecewise3(t2, 0, 0.4e1 / 0.3e1 * t88 * t90 + 0.4e1 / 0.3e1 * t52);
  t95 = t29 * t39;
  t99 = t27 * t8;
  t100 = t79 * t39;
  t102 = -rho[1] * t58 + t9;
  t103 = t100 * t102;
  t106 = t33 * t8;
  t107 = t36 * t36;
  t108 = 0.1e1 / t107;
  t109 = t29 * t108;
  t110 = t109 * sigma[2];
  t114 = my_piecewise3(t26, 0, -0.8e1 / 0.3e1 * t44 * t95 + 0.4e1 / 0.3e1 * t75 - 0.4e1 / 0.3e1 * t99 * t103 + 0.67482239525276429491e-2 * t106 * t110);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t25 + t43 + t6 * (t94 + t114);

  t117 = 0.1e1 / t13;
  t118 = t117 * t8;
  t121 = my_piecewise3(t2, 0, -0.22494079841758809829e-2 * t118 * t67);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t6 * t121;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t122 = 0.1e1 / t31;
  t123 = t122 * t8;
  t126 = my_piecewise3(t26, 0, -0.22494079841758809829e-2 * t123 * t109);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t6 * t126;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t129 = t4 * t49;
  t130 = t129 * t45;
  t134 = t66 * sigma[0];
  t135 = t13 * t13;
  t143 = 0.2e1 * t5 * t78 * t11 * t21;
  t145 = t5 * t49 * t61;
  t148 = t15 * t49 * t68;
  t151 = 0.1e1 / t11 / t10;
  t152 = t151 * t21;
  t153 = t60 * t60;
  t161 = t57 * t6;
  t162 = 0.1e1 / t161;
  t174 = t11 / t65 / t18;
  t175 = sigma[0] * sigma[0];
  t180 = my_piecewise3(t2, 0, 0.8e1 / 0.3e1 * t130 - 0.8e1 / 0.3e1 * t44 * t61 - 0.13496447905055285898e-1 * t12 * t134 / t135 - t143 + 0.4e1 / 0.3e1 * t145 - 0.67482239525276429491e-2 * t148 + 0.2e1 / 0.3e1 * t54 * t152 * t153 + 0.67482239525276429491e-2 * t64 * t55 * t134 * t60 - 0.4e1 / 0.3e1 * t54 * t56 * (0.2e1 * rho[0] * t162 - 0.2e1 * t58) + 0.28559101759679007257e-3 / t135 / t14 * t8 * t174 * t175);
  t184 = 0.2e1 * t27 * t78 * t29 * t39;
  t186 = 0.1e1 / t7 / t161;
  t189 = t76 * t186 * t79 * t39;
  t192 = t57 * t57;
  t194 = 0.1e1 / t7 / t192;
  t196 = 0.1e1 / t29 / t28;
  t202 = my_piecewise3(t26, 0, -t184 - 0.4e1 * t189 + 0.2e1 / 0.3e1 * t4 * t32 * t194 * t196 * t39);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t72 + 0.2e1 * t85 + t6 * (t180 + t202);

  t212 = t88 * t186 * t55 * t21;
  t219 = t55 * t66;
  t224 = my_piecewise3(t2, 0, 0.4e1 / 0.3e1 * t130 - t143 + 0.2e1 / 0.3e1 * t145 - 0.33741119762638214745e-2 * t148 + 0.8e1 / 0.3e1 * t5 * t90 - 0.10e2 / 0.3e1 * t212 - 0.2e1 / 0.3e1 * t88 * t78 * t152 * t60 - 0.33741119762638214745e-2 * t117 * t78 * t219 * sigma[0]);
  t225 = t129 * t95;
  t233 = t27 * t49 * t103;
  t236 = t196 * t39;
  t240 = rho[1] * t162;
  t247 = t33 * t49 * t110;
  t250 = t79 * t108;
  t255 = my_piecewise3(t26, 0, 0.4e1 / 0.3e1 * t225 + 0.4e1 / 0.3e1 * t4 * t78 * t100 * rho[1] - t184 - 0.2e1 / 0.3e1 * t189 + 0.2e1 / 0.3e1 * t233 - 0.2e1 / 0.3e1 * t76 * t78 * t236 * t102 - 0.4e1 / 0.3e1 * t99 * t100 * (-t58 + 0.2e1 * t240) - 0.33741119762638214746e-2 * t247 - 0.33741119762638214746e-2 * t122 * t78 * t250 * sigma[2]);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t72 + t85 + t94 + t114 + t6 * (t224 + t255);

  t267 = my_piecewise3(t2, 0, -t143 - 0.4e1 * t212 + 0.2e1 / 0.3e1 * t4 * t14 * t194 * t151 * t21);
  t271 = t108 * sigma[2];
  t272 = t31 * t31;
  t279 = t102 * t102;
  t297 = t29 / t107 / t36;
  t298 = sigma[2] * sigma[2];
  t303 = my_piecewise3(t26, 0, 0.8e1 / 0.3e1 * t225 - 0.8e1 / 0.3e1 * t44 * t103 - 0.13496447905055285898e-1 * t30 * t271 / t272 - t184 + 0.4e1 / 0.3e1 * t233 - 0.67482239525276429491e-2 * t247 + 0.2e1 / 0.3e1 * t99 * t236 * t279 + 0.67482239525276429491e-2 * t106 * t79 * t271 * t102 - 0.4e1 / 0.3e1 * t99 * t100 * (-0.2e1 * t58 + 0.2e1 * t240) + 0.28559101759679007257e-3 / t272 / t32 * t8 * t297 * t298);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t94 + 0.2e1 * t114 + t6 * (t267 + t303);

  t310 = 0.11247039920879404914e-2 * t117 * t49 * t67;
  t321 = my_piecewise3(t2, 0, 0.44988159683517619658e-2 * t64 * t67 + t310 - 0.11247039920879404914e-2 * t118 * t219 * t60 - 0.95197005865596690850e-4 / t135 / t13 * t8 * t174 * sigma[0]);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t6 * t321 + t121;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t325 = 0.11247039920879404914e-2 * t122 * t49 * t109;
  t331 = my_piecewise3(t26, 0, t325 + 0.11247039920879404914e-2 / rho[1] * t78 * t250);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t6 * t331 + t126;

  t338 = my_piecewise3(t2, 0, t310 + 0.11247039920879404914e-2 / rho[0] * t78 * t219);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t6 * t338 + t121;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t352 = my_piecewise3(t26, 0, 0.44988159683517619658e-2 * t106 * t109 + t325 - 0.11247039920879404914e-2 * t123 * t250 * t102 - 0.95197005865596690850e-4 / t272 / t31 * t8 * t297 * sigma[2]);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t6 * t352 + t126;

  t359 = my_piecewise3(t2, 0, 0.31732335288532230284e-4 / t135 / rho[0] * t8 * t174);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t6 * t359;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t365 = my_piecewise3(t26, 0, 0.31732335288532230284e-4 / t272 / rho[1] * t8 * t297);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t6 * t365;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

