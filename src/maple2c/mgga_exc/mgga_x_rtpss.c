/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/mgga_exc/mgga_x_rtpss.mpl
  Type of functional: mgga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma, const double *lapl, const double *tau , double *zk MGGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t4, t5, t6, t8, t9, t10, t11, t12;
  double t13, t14, t15, t16, t17, t18, t20, t21;
  double t22, t23, t27, t28, t29, t30, t31, t32;
  double t33, t34, t35, t36, t37, t39, t40, t43;
  double t45, t48, t52, t53, t54, t55, t58, t59;
  double t60, t65, t66, t69, t71, t72, t73, t74;
  double t75, t77, t78, t81, t82, t85, t86, t87;
  double t90, t91, t94, t95, t96, t97, t98, t99;
  double t100, t104, t109, t110, t111, t114, t117, t121;

#ifndef XC_DONT_COMPILE_VXC
  double t122, t126, t127, t128, t129, t130, t133, t134;
  double t135, t136, t137, t140, t141, t145, t146, t150;
  double t151, t157, t158, t159, t163, t164, t168, t171;
  double t174, t176, t181, t182, t183, t186, t188, t189;
  double t192, t200, t204, t208, t210, t211, t214, t216;
  double t220, t223, t226, t227, t229, t233, t234, t237;
  double t238, t241, t242, t243, t245, t246, t247, t249;
  double t250, t252, t254, t257, t259, t264, t267, t268;
  double t271, t276, t279, t283, t288, t289, t290, t293;
  double t295, t296, t297, t298, t302, t304, t308, t309;
  double t312, t315, t321, t324, t329, t334, t335, t336;
  double t339;

#ifndef XC_DONT_COMPILE_FXC
  double t345, t348, t352, t358, t360, t362, t363, t376;
  double t379, t384, t388, t389, t392, t395, t396, t402;
  double t412, t414, t419, t424, t425, t431, t434, t435;
  double t449, t453, t456, t457, t460, t470, t476, t486;
  double t487, t506, t509, t512, t529, t531, t536, t547;
  double t548, t560, t564, t578, t583, t588, t597, t612;
  double t615, t628, t633, t638, t653, t657, t668, t688;
  double t692, t695, t697, t700, t707, t726, t737, t743;
  double t775, t811, t813, t821, t832, t836, t843, t863;
  double t870;
#endif

#endif

#endif


  mgga_x_rtpss_params *params;
 
  assert(p->params != NULL);
  params = (mgga_x_rtpss_params * ) (p->params);

  t4 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t5 = M_CBRT3;
  t6 = M_CBRTPI;
  t8 = t5 / t6;
  t9 = POW_1_3(rho[0]);
  t10 = sigma[0] * sigma[0];
  t11 = params->c * t10;
  t12 = rho[0] * rho[0];
  t13 = 0.1e1 / t12;
  t14 = tau[0] * tau[0];
  t15 = 0.1e1 / t14;
  t16 = t13 * t15;
  t17 = t10 * t13;
  t18 = t17 * t15;
  t20 = 0.1e1 + t18 / 0.64e2;
  t21 = t20 * t20;
  t22 = 0.1e1 / t21;
  t23 = t16 * t22;
  t27 = M_CBRT6;
  t28 = (0.10e2 / 0.81e2 + t11 * t23 / 0.64e2) * t27;
  t29 = M_PI * M_PI;
  t30 = POW_1_3(t29);
  t31 = t30 * t30;
  t32 = 0.1e1 / t31;
  t33 = t28 * t32;
  t34 = M_CBRT2;
  t35 = t34 * t34;
  t36 = sigma[0] * t35;
  t37 = t9 * t9;
  t39 = 0.1e1 / t37 / t12;
  t40 = t36 * t39;
  t43 = tau[0] * t35;
  t45 = 0.1e1 / t37 / rho[0];
  t48 = t43 * t45 - t40 / 0.8e1;
  t52 = 0.5e1 / 0.9e1 * t48 * t27 * t32 - 0.1e1;
  t53 = params->b * t48;
  t54 = t27 * t32;
  t55 = t54 * t52;
  t58 = 0.5e1 * t53 * t55 + 0.9e1;
  t59 = sqrt(t58);
  t60 = 0.1e1 / t59;
  t65 = 0.27e2 / 0.20e2 * t52 * t60 + t54 * t40 / 0.36e2;
  t66 = t65 * t65;
  t69 = t27 * t27;
  t71 = 0.1e1 / t30 / t29;
  t72 = t69 * t71;
  t73 = t10 * t34;
  t74 = t12 * t12;
  t75 = t74 * rho[0];
  t77 = 0.1e1 / t9 / t75;
  t78 = t73 * t77;
  t81 = 0.100e3 * t72 * t78 + 0.162e3 * t18;
  t82 = sqrt(t81);
  t85 = 0.1e1 / params->kappa;
  t86 = t85 * t69;
  t87 = t86 * t71;
  t90 = sqrt(params->e);
  t91 = t90 * t10;
  t94 = params->e * params->mu;
  t95 = t29 * t29;
  t96 = 0.1e1 / t95;
  t97 = t10 * sigma[0];
  t98 = t96 * t97;
  t99 = t74 * t74;
  t100 = 0.1e1 / t99;
  t104 = t33 * t40 / 0.24e2 + 0.146e3 / 0.2025e4 * t66 - 0.73e2 / 0.97200e5 * t65 * t82 + 0.25e2 / 0.472392e6 * t87 * t78 + t91 * t16 / 0.720e3 + t94 * t98 * t100 / 0.576e3;
  t109 = 0.1e1 + t90 * t27 * t32 * t40 / 0.24e2;
  t110 = t109 * t109;
  t111 = 0.1e1 / t110;
  t114 = exp(-t104 * t111 * t85);
  t117 = 0.1e1 + params->kappa * (0.1e1 - t114);
  t121 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t8 * t9 * t117);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t121;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t122 = 0.1e1 / t37;
  t126 = t8 * t9;
  t127 = t12 * rho[0];
  t128 = 0.1e1 / t127;
  t129 = t128 * t15;
  t130 = t129 * t22;
  t133 = t10 * t10;
  t134 = params->c * t133;
  t135 = 0.1e1 / t75;
  t136 = t14 * t14;
  t137 = 0.1e1 / t136;
  t140 = 0.1e1 / t21 / t20;
  t141 = t135 * t137 * t140;
  t145 = (-t11 * t130 / 0.32e2 + t134 * t141 / 0.1024e4) * t27;
  t146 = t145 * t32;
  t150 = 0.1e1 / t37 / t127;
  t151 = t36 * t150;
  t157 = -0.5e1 / 0.3e1 * t43 * t39 + t151 / 0.3e1;
  t158 = t157 * t27;
  t159 = t32 * t60;
  t163 = 0.1e1 / t59 / t58;
  t164 = t52 * t163;
  t168 = t72 * t157;
  t171 = 0.5e1 * params->b * t157 * t55 + 0.25e2 / 0.9e1 * t53 * t168;
  t174 = t54 * t151;
  t176 = 0.3e1 / 0.4e1 * t158 * t159 - 0.27e2 / 0.40e2 * t164 * t171 - 0.2e1 / 0.27e2 * t174;
  t181 = 0.1e1 / t82;
  t182 = t65 * t181;
  t183 = t10 * t128;
  t186 = t74 * t12;
  t188 = 0.1e1 / t9 / t186;
  t189 = t73 * t188;
  t192 = -0.324e3 * t183 * t15 - 0.1600e4 / 0.3e1 * t72 * t189;
  t200 = 0.1e1 / t99 / rho[0];
  t204 = t146 * t40 / 0.24e2 - t33 * t151 / 0.9e1 + 0.292e3 / 0.2025e4 * t65 * t176 - 0.73e2 / 0.97200e5 * t176 * t82 - 0.73e2 / 0.194400e6 * t182 * t192 - 0.50e2 / 0.177147e6 * t87 * t189 - t91 * t129 / 0.360e3 - t94 * t98 * t200 / 0.72e2;
  t208 = 0.1e1 / t110 / t109;
  t210 = t85 * t90;
  t211 = t104 * t208 * t210;
  t214 = -t204 * t111 * t85 - 0.2e1 / 0.9e1 * t211 * t174;
  t216 = params->kappa * t214 * t114;
  t220 = my_piecewise3(t4, 0, -t8 * t122 * t117 / 0.8e1 + 0.3e1 / 0.8e1 * t126 * t216);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t220 + 0.2e1 * t121;

  t223 = params->c * sigma[0];
  t226 = params->c * t97;
  t227 = 0.1e1 / t74;
  t229 = t227 * t137 * t140;
  t233 = (t223 * t23 / 0.32e2 - t226 * t229 / 0.1024e4) * t27;
  t234 = t233 * t32;
  t237 = t32 * t35;
  t238 = t237 * t39;
  t241 = t35 * t39;
  t242 = t54 * t60;
  t243 = t241 * t242;
  t245 = params->b * t35;
  t246 = t245 * t39;
  t247 = t246 * t55;
  t249 = t53 * t69;
  t250 = t71 * t35;
  t252 = t249 * t250 * t39;
  t254 = -0.5e1 / 0.8e1 * t247 - 0.25e2 / 0.72e2 * t252;
  t257 = t241 * t54;
  t259 = -0.3e1 / 0.32e2 * t243 - 0.27e2 / 0.40e2 * t164 * t254 + t257 / 0.36e2;
  t264 = sigma[0] * t13;
  t267 = sigma[0] * t34;
  t268 = t267 * t77;
  t271 = 0.324e3 * t264 * t15 + 0.200e3 * t72 * t268;
  t276 = t90 * sigma[0];
  t279 = t96 * t10;
  t283 = t234 * t40 / 0.24e2 + t28 * t238 / 0.24e2 + 0.292e3 / 0.2025e4 * t65 * t259 - 0.73e2 / 0.97200e5 * t259 * t82 - 0.73e2 / 0.194400e6 * t182 * t271 + 0.25e2 / 0.236196e6 * t87 * t268 + t276 * t16 / 0.360e3 + t94 * t279 * t100 / 0.192e3;
  t288 = -t283 * t111 * t85 + t211 * t257 / 0.12e2;
  t289 = params->kappa * t288;
  t290 = t289 * t114;
  t293 = my_piecewise3(t4, 0, 0.3e1 / 0.8e1 * t126 * t290);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t293;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[0] = 0.0e0;

  t295 = t14 * tau[0];
  t296 = 0.1e1 / t295;
  t297 = t13 * t296;
  t298 = t297 * t22;
  t302 = 0.1e1 / t136 / tau[0];
  t304 = t227 * t302 * t140;
  t308 = (-t11 * t298 / 0.32e2 + t134 * t304 / 0.1024e4) * t27;
  t309 = t308 * t32;
  t312 = t35 * t45;
  t315 = t245 * t45;
  t321 = 0.5e1 * t315 * t55 + 0.25e2 / 0.9e1 * t249 * t250 * t45;
  t324 = 0.3e1 / 0.4e1 * t312 * t242 - 0.27e2 / 0.40e2 * t164 * t321;
  t329 = t17 * t296;
  t334 = t309 * t40 / 0.24e2 + 0.292e3 / 0.2025e4 * t65 * t324 - 0.73e2 / 0.97200e5 * t324 * t82 + 0.73e2 / 0.600e3 * t182 * t329 - t91 * t297 / 0.360e3;
  t335 = t334 * t111;
  t336 = t335 * t114;
  t339 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t126 * t336);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[0] = 0.2e1 * rho[0] * t339;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t345 = t8 * t122;
  t348 = t227 * t15;
  t352 = 0.1e1 / t186;
  t358 = params->c * t133 * t10;
  t360 = 0.1e1 / t136 / t14;
  t362 = t21 * t21;
  t363 = 0.1e1 / t362;
  t376 = t36 / t37 / t74;
  t379 = t176 * t176;
  t384 = 0.40e2 / 0.9e1 * t43 * t150 - 0.11e2 / 0.9e1 * t376;
  t388 = t32 * t163;
  t389 = t388 * t171;
  t392 = t58 * t58;
  t395 = t52 / t59 / t392;
  t396 = t171 * t171;
  t402 = t157 * t157;
  t412 = t54 * t376;
  t414 = 0.3e1 / 0.4e1 * t384 * t27 * t159 - 0.3e1 / 0.4e1 * t158 * t389 + 0.81e2 / 0.80e2 * t395 * t396 - 0.27e2 / 0.40e2 * t164 * (0.5e1 * params->b * t384 * t55 + 0.50e2 / 0.9e1 * params->b * t402 * t72 + 0.25e2 / 0.9e1 * t53 * t72 * t384) + 0.22e2 / 0.81e2 * t412;
  t419 = t176 * t181;
  t424 = t65 / t82 / t81;
  t425 = t192 * t192;
  t431 = t74 * t127;
  t434 = t73 / t9 / t431;
  t435 = t72 * t434;
  t449 = (0.3e1 / 0.32e2 * t11 * t348 * t22 - 0.7e1 / 0.1024e4 * t134 * t352 * t137 * t140 + 0.3e1 / 0.32768e5 * t358 * t100 * t360 * t363) * t27 * t32 * t40 / 0.24e2 - 0.2e1 / 0.9e1 * t146 * t151 + 0.11e2 / 0.27e2 * t33 * t376 + 0.292e3 / 0.2025e4 * t379 + 0.292e3 / 0.2025e4 * t65 * t414 - 0.73e2 / 0.97200e5 * t414 * t82 - 0.73e2 / 0.97200e5 * t419 * t192 + 0.73e2 / 0.388800e6 * t424 * t425 - 0.73e2 / 0.194400e6 * t182 * (0.972e3 * t10 * t227 * t15 + 0.30400e5 / 0.9e1 * t435) + 0.950e3 / 0.531441e6 * t87 * t434 + t91 * t348 / 0.120e3 + t94 * t98 / t99 / t12 / 0.8e1;
  t453 = t204 * t208 * t210;
  t456 = t110 * t110;
  t457 = 0.1e1 / t456;
  t460 = t104 * t457 * t85 * params->e;
  t470 = t214 * t214;
  t476 = my_piecewise3(t4, 0, t8 * t45 * t117 / 0.12e2 + t345 * t216 / 0.4e1 + 0.3e1 / 0.8e1 * t126 * params->kappa * (-t449 * t111 * t85 - 0.4e1 / 0.9e1 * t453 * t174 - 0.4e1 / 0.27e2 * t460 * t435 + 0.22e2 / 0.27e2 * t211 * t412) * t114 + 0.3e1 / 0.8e1 * t126 * params->kappa * t470 * t114);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t476 + 0.4e1 * t220;

  t486 = params->c * t133 * sigma[0];
  t487 = 0.1e1 / t431;
  t506 = t35 * t150;
  t509 = t241 * t27;
  t512 = t388 * t254;
  t529 = t506 * t54;
  t531 = t506 * t242 / 0.4e1 + 0.3e1 / 0.64e2 * t509 * t389 - 0.3e1 / 0.8e1 * t158 * t512 + 0.81e2 / 0.80e2 * t395 * t254 * t171 - 0.27e2 / 0.40e2 * t164 * (0.5e1 / 0.3e1 * t245 * t150 * t55 - 0.25e2 / 0.36e2 * t246 * t168 + 0.25e2 / 0.27e2 * t249 * t250 * t150) - 0.2e1 / 0.27e2 * t529;
  t536 = t259 * t181;
  t547 = t267 * t188;
  t548 = t72 * t547;
  t560 = (-t223 * t130 / 0.16e2 + 0.3e1 / 0.512e3 * t226 * t141 - 0.3e1 / 0.32768e5 * t486 * t487 * t360 * t363) * t27 * t32 * t40 / 0.24e2 - t234 * t151 / 0.9e1 + t145 * t238 / 0.24e2 - t28 * t237 * t150 / 0.9e1 + 0.292e3 / 0.2025e4 * t176 * t259 + 0.292e3 / 0.2025e4 * t65 * t531 - 0.73e2 / 0.97200e5 * t531 * t82 - 0.73e2 / 0.194400e6 * t536 * t192 - 0.73e2 / 0.194400e6 * t419 * t271 + 0.73e2 / 0.388800e6 * t424 * t271 * t192 - 0.73e2 / 0.194400e6 * t182 * (-0.648e3 * sigma[0] * t128 * t15 - 0.3200e4 / 0.3e1 * t548) - 0.100e3 / 0.177147e6 * t87 * t547 - t276 * t129 / 0.180e3 - t94 * t279 * t200 / 0.24e2;
  t564 = t283 * t208 * t210;
  t578 = t214 * t114;
  t583 = my_piecewise3(t4, 0, t345 * t290 / 0.8e1 + 0.3e1 / 0.8e1 * t126 * params->kappa * (-t560 * t111 * t85 - 0.2e1 / 0.9e1 * t564 * t174 + t453 * t257 / 0.12e2 + t460 * t548 / 0.18e2 - 0.2e1 / 0.9e1 * t211 * t529) * t114 + 0.3e1 / 0.8e1 * t126 * t289 * t578);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t583 + 0.2e1 * t293;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[0] = 0.0e0;

  t588 = t128 * t296;
  t597 = 0.1e1 / t136 / t295;
  t612 = t312 * t27;
  t615 = t388 * t321;
  t628 = -0.5e1 / 0.4e1 * t243 - 0.3e1 / 0.8e1 * t612 * t389 - 0.3e1 / 0.8e1 * t158 * t615 + 0.81e2 / 0.80e2 * t395 * t321 * t171 - 0.27e2 / 0.40e2 * t164 * (-0.25e2 / 0.3e1 * t247 + 0.50e2 / 0.9e1 * t315 * t168 - 0.125e3 / 0.27e2 * t252);
  t633 = t324 * t181;
  t638 = t424 * t10;
  t653 = 0.1e1 / t9 / t127;
  t657 = t114 * t90;
  t668 = my_piecewise3(t4, 0, -t345 * t336 / 0.8e1 - 0.3e1 / 0.8e1 * t126 * ((t11 * t588 * t22 / 0.16e2 - 0.3e1 / 0.512e3 * t134 * t135 * t302 * t140 + 0.3e1 / 0.32768e5 * t358 * t487 * t597 * t363) * t27 * t32 * t40 / 0.24e2 - t309 * t151 / 0.9e1 + 0.292e3 / 0.2025e4 * t176 * t324 + 0.292e3 / 0.2025e4 * t65 * t628 - 0.73e2 / 0.97200e5 * t628 * t82 - 0.73e2 / 0.194400e6 * t633 * t192 + 0.73e2 / 0.600e3 * t419 * t329 - 0.73e2 / 0.1200e4 * t638 * t297 * t192 - 0.73e2 / 0.300e3 * t182 * t183 * t296 + t91 * t588 / 0.180e3) * t111 * t114 - t8 * t653 * t334 * t208 * t657 * t27 * t32 * sigma[0] * t35 / 0.12e2 - 0.3e1 / 0.8e1 * t126 * t335 * t578);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[0] = 0.2e1 * rho[0] * t668 + 0.2e1 * t339;

  t688 = t259 * t259;
  t692 = t254 * t254;
  t695 = t164 * params->b;
  t697 = t72 * t34 * t77;
  t700 = 0.3e1 / 0.32e2 * t509 * t512 + 0.81e2 / 0.80e2 * t395 * t692 - 0.15e2 / 0.128e3 * t695 * t697;
  t707 = t271 * t271;
  t726 = (params->c * t13 * t15 * t22 / 0.32e2 - 0.5e1 / 0.1024e4 * t11 * t229 + 0.3e1 / 0.32768e5 * t134 * t352 * t360 * t363) * t27 * t32 * t40 / 0.24e2 + t233 * t238 / 0.12e2 + 0.292e3 / 0.2025e4 * t688 + 0.292e3 / 0.2025e4 * t65 * t700 - 0.73e2 / 0.97200e5 * t700 * t82 - 0.73e2 / 0.97200e5 * t536 * t271 + 0.73e2 / 0.388800e6 * t424 * t707 - 0.73e2 / 0.194400e6 * t182 * (0.324e3 * t16 + 0.200e3 * t697) + 0.25e2 / 0.236196e6 * t86 * t71 * t34 * t77 + t90 * t13 * t15 / 0.360e3 + t94 * t96 * sigma[0] * t100 / 0.96e2;
  t737 = t288 * t288;
  t743 = my_piecewise3(t4, 0, 0.3e1 / 0.8e1 * t126 * params->kappa * (-t726 * t111 * t85 + t564 * t257 / 0.6e1 - t460 * t697 / 0.48e2) * t114 + 0.3e1 / 0.8e1 * t126 * params->kappa * t737 * t114);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t743;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[0] = 0.0e0;

  t775 = -0.3e1 / 0.8e1 * t612 * t512 + 0.3e1 / 0.64e2 * t509 * t615 + 0.81e2 / 0.80e2 * t395 * t321 * t254 + 0.15e2 / 0.16e2 * t695 * t34 / t9 / t74 * t72;
  t811 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t126 * ((-t223 * t298 / 0.16e2 + 0.3e1 / 0.512e3 * t226 * t304 - 0.3e1 / 0.32768e5 * t486 * t352 * t597 * t363) * t27 * t32 * t40 / 0.24e2 + t308 * t238 / 0.24e2 + 0.292e3 / 0.2025e4 * t259 * t324 + 0.292e3 / 0.2025e4 * t65 * t775 - 0.73e2 / 0.97200e5 * t775 * t82 - 0.73e2 / 0.194400e6 * t633 * t271 + 0.73e2 / 0.600e3 * t536 * t329 - 0.73e2 / 0.1200e4 * t638 * t297 * t271 + 0.73e2 / 0.300e3 * t182 * t264 * t296 - t276 * t297 / 0.180e3) * t111 * t114 + t8 / t9 / t12 * t334 * t208 * t657 * t54 * t35 / 0.32e2 - 0.3e1 / 0.8e1 * t126 * t335 * t288 * t114);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[0] = 0.2e1 * rho[0] * t811;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[0] = 0.0e0;

  t813 = t13 * t137;
  t821 = t136 * t136;
  t832 = t324 * t324;
  t836 = t321 * t321;
  t843 = -0.3e1 / 0.4e1 * t612 * t615 + 0.81e2 / 0.80e2 * t395 * t836 - 0.15e2 / 0.2e1 * t695 * t34 * t653 * t72;
  t863 = t334 * t334;
  t870 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t126 * ((0.3e1 / 0.32e2 * t11 * t813 * t22 - 0.7e1 / 0.1024e4 * t134 * t227 * t360 * t140 + 0.3e1 / 0.32768e5 * t358 * t352 / t821 * t363) * t27 * t32 * t40 / 0.24e2 + 0.292e3 / 0.2025e4 * t832 + 0.292e3 / 0.2025e4 * t65 * t843 - 0.73e2 / 0.97200e5 * t843 * t82 + 0.73e2 / 0.300e3 * t633 * t329 + 0.1971e4 / 0.100e3 * t424 * t133 * t227 * t360 - 0.73e2 / 0.200e3 * t182 * t17 * t137 + t91 * t813 / 0.120e3) * t111 * t114 + 0.3e1 / 0.8e1 * t126 * t863 * t457 * t85 * t114);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[0] = 0.2e1 * rho[0] * t870;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma, const double *lapl, const double *tau , double *zk MGGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t2, t3, t4, t5, t7, t8, t9, t10;
  double t11, t12, t13, t15, t16, t17, t18, t19;
  double t20, t21, t22, t23, t24, t25, t26, t28;
  double t29, t30, t31, t35, t36, t37, t38, t39;
  double t40, t41, t42, t43, t45, t46, t50, t52;
  double t54, t58, t59, t60, t61, t64, t65, t66;
  double t71, t72, t75, t77, t78, t79, t80, t82;
  double t86, t87, t90, t91, t92, t96, t97, t100;
  double t101, t102, t103, t104, t105, t106, t110, t111;
  double t114, t115, t116, t119, t122, t123, t127, t128;
  double t130, t131, t132, t133, t134, t135, t136, t137;
  double t138, t139, t140, t142, t143, t144, t145, t149;
  double t150, t151, t152, t154, t155, t159, t161, t163;
  double t167, t168, t169, t172, t173, t174, t179, t180;
  double t183, t184, t186, t190, t191, t194, t198, t201;
  double t202, t203, t204, t208, t211, t212, t213, t216;
  double t219, t220, t224;

#ifndef XC_DONT_COMPILE_VXC
  double t225, t230, t234, t235, t236, t237, t238, t239;
  double t240, t241, t243, t244, t245, t248, t249, t250;
  double t251, t254, t255, t256, t257, t258, t261, t262;
  double t266, t270, t271, t276, t278, t279, t280, t284;
  double t285, t289, t292, t295, t297, t302, t303, t304;
  double t307, t309, t313, t322, t326, t330, t331, t332;
  double t333, t336, t338, t343, t347, t349, t351, t352;
  double t353, t358, t362, t367, t368, t372, t373, t374;
  double t376, t377, t378, t381, t382, t383, t384, t387;
  double t388, t389, t390, t391, t394, t395, t399, t403;
  double t404, t409, t411, t412, t413, t417, t418, t422;
  double t425, t428, t430, t435, t436, t437, t440, t442;
  double t446, t455, t459, t463, t464, t465, t468, t470;
  double t475, t478, t481, t482, t484, t488, t491, t494;
  double t495, t497, t498, t501, t503, t508, t513, t519;
  double t522, t526, t529, t533, t536, t537, t540, t542;
  double t546, t547, t550, t551, t553, t557, t560, t563;
  double t564, t566, t567, t570, t572, t577, t582, t588;
  double t591, t595, t598, t602, t605, t606, t609, t611;
  double t615, t616, t617, t618, t619, t623, t625, t629;
  double t632, t635, t641, t644, t649, t654, t656, t660;
  double t661, t662, t663, t664, t668, t670, t674, t677;
  double t680, t686, t689, t694, t699, t701, t705;

#ifndef XC_DONT_COMPILE_FXC
  double t708, t710, t714, t715, t716, t720, t723, t726;
  double t729, t731, t733, t739, t740, t745, t746, t754;
  double t758, t764, t766, t768, t769, t780, t784, t788;
  double t790, t794, t795, t798, t801, t802, t808, t818;
  double t820, t825, t830, t831, t837, t839, t841, t856;
  double t859, t863, t864, t865, t866, t867, t878, t884;
  double t885, t889, t891, t894, t896, t898, t901, t907;
  double t918, t921, t926, t931, t932, t934, t936, t944;
  double t947, t952, t960, t966, t978, t981, t982, t988;
  double t994, t995, t1006, t1010, t1016, t1018, t1020, t1021;
  double t1032, t1036, t1040, t1042, t1046, t1047, t1050, t1053;
  double t1054, t1060, t1070, t1072, t1077, t1082, t1083, t1089;
  double t1091, t1093, t1108, t1111, t1115, t1116, t1117, t1118;
  double t1129, t1135, t1136, t1139, t1145, t1155, t1156, t1169;
  double t1174, t1179, t1198, t1203, t1215, t1228, t1231, t1255;
  double t1259, t1264, t1270, t1272, t1285, t1286, t1299, t1304;
  double t1309, t1328, t1333, t1345, t1358, t1361, t1385, t1387;
  double t1388, t1394, t1400, t1409, t1425, t1438, t1443, t1448;
  double t1467, t1478, t1482, t1487, t1493, t1495, t1496, t1505;
  double t1514, t1530, t1543, t1548, t1553, t1572, t1583, t1601;
  double t1605, t1608, t1609, t1612, t1619, t1627, t1637, t1644;
  double t1653, t1660, t1677, t1681, t1684, t1685, t1688, t1695;
  double t1703, t1713, t1728, t1735, t1765, t1791, t1801, t1831;
  double t1866, t1867, t1875, t1885, t1889, t1898, t1919, t1927;
  double t1928, t1936, t1946, t1950, t1959, t1980, t1988;
#endif

#endif

#endif


  mgga_x_rtpss_params *params;
 
  assert(p->params != NULL);
  params = (mgga_x_rtpss_params * ) (p->params);

  t2 = 0.101e1 * p->threshold_dens;
  t3 = rho[0] <= t2;
  t4 = M_CBRT3;
  t5 = M_CBRTPI;
  t7 = t4 / t5;
  t8 = M_CBRT2;
  t9 = t7 * t8;
  t10 = rho[0] + rho[1];
  t11 = POW_1_3(t10);
  t12 = t11 * t11;
  t13 = 0.1e1 / t12;
  t15 = 0.1e1 / t10;
  t16 = rho[0] * t15;
  t17 = POW_1_3(t16);
  t18 = sigma[0] * sigma[0];
  t19 = params->c * t18;
  t20 = rho[0] * rho[0];
  t21 = 0.1e1 / t20;
  t22 = tau[0] * tau[0];
  t23 = 0.1e1 / t22;
  t24 = t21 * t23;
  t25 = t18 * t21;
  t26 = t25 * t23;
  t28 = 0.1e1 + t26 / 0.64e2;
  t29 = t28 * t28;
  t30 = 0.1e1 / t29;
  t31 = t24 * t30;
  t35 = M_CBRT6;
  t36 = (0.10e2 / 0.81e2 + t19 * t31 / 0.64e2) * t35;
  t37 = M_PI * M_PI;
  t38 = POW_1_3(t37);
  t39 = t38 * t38;
  t40 = 0.1e1 / t39;
  t41 = t40 * sigma[0];
  t42 = POW_1_3(rho[0]);
  t43 = t42 * t42;
  t45 = 0.1e1 / t43 / t20;
  t46 = t41 * t45;
  t50 = 0.1e1 / t43 / rho[0];
  t52 = sigma[0] * t45;
  t54 = tau[0] * t50 - t52 / 0.8e1;
  t58 = 0.5e1 / 0.9e1 * t54 * t35 * t40 - 0.1e1;
  t59 = params->b * t54;
  t60 = t35 * t40;
  t61 = t60 * t58;
  t64 = 0.5e1 * t59 * t61 + 0.9e1;
  t65 = sqrt(t64);
  t66 = 0.1e1 / t65;
  t71 = 0.27e2 / 0.20e2 * t58 * t66 + t60 * t52 / 0.36e2;
  t72 = t71 * t71;
  t75 = t35 * t35;
  t77 = 0.1e1 / t38 / t37;
  t78 = t75 * t77;
  t79 = t20 * t20;
  t80 = t79 * rho[0];
  t82 = 0.1e1 / t42 / t80;
  t86 = 0.50e2 * t78 * t18 * t82 + 0.162e3 * t26;
  t87 = sqrt(t86);
  t90 = 0.1e1 / params->kappa;
  t91 = t90 * t75;
  t92 = t77 * t18;
  t96 = sqrt(params->e);
  t97 = t96 * t18;
  t100 = params->e * params->mu;
  t101 = t37 * t37;
  t102 = 0.1e1 / t101;
  t103 = t18 * sigma[0];
  t104 = t102 * t103;
  t105 = t79 * t79;
  t106 = 0.1e1 / t105;
  t110 = t36 * t46 / 0.24e2 + 0.146e3 / 0.2025e4 * t72 - 0.73e2 / 0.97200e5 * t71 * t87 + 0.25e2 / 0.944784e6 * t91 * t92 * t82 + t97 * t24 / 0.720e3 + t100 * t104 * t106 / 0.2304e4;
  t111 = t96 * t35;
  t114 = 0.1e1 + t111 * t46 / 0.24e2;
  t115 = t114 * t114;
  t116 = 0.1e1 / t115;
  t119 = exp(-t110 * t116 * t90);
  t122 = 0.1e1 + params->kappa * (0.1e1 - t119);
  t123 = t17 * t122;
  t127 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * rho[0] * t13 * t123);
  t128 = rho[1] <= t2;
  t130 = rho[1] * t15;
  t131 = POW_1_3(t130);
  t132 = sigma[2] * sigma[2];
  t133 = params->c * t132;
  t134 = rho[1] * rho[1];
  t135 = 0.1e1 / t134;
  t136 = tau[1] * tau[1];
  t137 = 0.1e1 / t136;
  t138 = t135 * t137;
  t139 = t132 * t135;
  t140 = t139 * t137;
  t142 = 0.1e1 + t140 / 0.64e2;
  t143 = t142 * t142;
  t144 = 0.1e1 / t143;
  t145 = t138 * t144;
  t149 = (0.10e2 / 0.81e2 + t133 * t145 / 0.64e2) * t35;
  t150 = t40 * sigma[2];
  t151 = POW_1_3(rho[1]);
  t152 = t151 * t151;
  t154 = 0.1e1 / t152 / t134;
  t155 = t150 * t154;
  t159 = 0.1e1 / t152 / rho[1];
  t161 = sigma[2] * t154;
  t163 = tau[1] * t159 - t161 / 0.8e1;
  t167 = 0.5e1 / 0.9e1 * t163 * t35 * t40 - 0.1e1;
  t168 = params->b * t163;
  t169 = t60 * t167;
  t172 = 0.5e1 * t168 * t169 + 0.9e1;
  t173 = sqrt(t172);
  t174 = 0.1e1 / t173;
  t179 = 0.27e2 / 0.20e2 * t167 * t174 + t60 * t161 / 0.36e2;
  t180 = t179 * t179;
  t183 = t134 * t134;
  t184 = t183 * rho[1];
  t186 = 0.1e1 / t151 / t184;
  t190 = 0.50e2 * t78 * t132 * t186 + 0.162e3 * t140;
  t191 = sqrt(t190);
  t194 = t77 * t132;
  t198 = t96 * t132;
  t201 = t132 * sigma[2];
  t202 = t102 * t201;
  t203 = t183 * t183;
  t204 = 0.1e1 / t203;
  t208 = t149 * t155 / 0.24e2 + 0.146e3 / 0.2025e4 * t180 - 0.73e2 / 0.97200e5 * t179 * t191 + 0.25e2 / 0.944784e6 * t91 * t194 * t186 + t198 * t138 / 0.720e3 + t100 * t202 * t204 / 0.2304e4;
  t211 = 0.1e1 + t111 * t155 / 0.24e2;
  t212 = t211 * t211;
  t213 = 0.1e1 / t212;
  t216 = exp(-t208 * t213 * t90);
  t219 = 0.1e1 + params->kappa * (0.1e1 - t216);
  t220 = t131 * t219;
  t224 = my_piecewise3(t128, 0, -0.3e1 / 0.4e1 * t9 * rho[1] * t13 * t220);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t127 + t224;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t225 = t13 * t17;
  t230 = 0.1e1 / t12 / t10;
  t234 = t9 * rho[0] * t230 * t123 / 0.2e1;
  t235 = t8 * rho[0];
  t236 = t7 * t235;
  t237 = t17 * t17;
  t238 = 0.1e1 / t237;
  t239 = t13 * t238;
  t240 = t10 * t10;
  t241 = 0.1e1 / t240;
  t243 = -rho[0] * t241 + t15;
  t244 = t122 * t243;
  t245 = t239 * t244;
  t248 = t20 * rho[0];
  t249 = 0.1e1 / t248;
  t250 = t249 * t23;
  t251 = t250 * t30;
  t254 = t18 * t18;
  t255 = params->c * t254;
  t256 = 0.1e1 / t80;
  t257 = t22 * t22;
  t258 = 0.1e1 / t257;
  t261 = 0.1e1 / t29 / t28;
  t262 = t256 * t258 * t261;
  t266 = (-t19 * t251 / 0.32e2 + t255 * t262 / 0.1024e4) * t35;
  t270 = 0.1e1 / t43 / t248;
  t271 = t41 * t270;
  t276 = sigma[0] * t270;
  t278 = -0.5e1 / 0.3e1 * tau[0] * t45 + t276 / 0.3e1;
  t279 = t278 * t35;
  t280 = t40 * t66;
  t284 = 0.1e1 / t65 / t64;
  t285 = t58 * t284;
  t289 = t78 * t278;
  t292 = 0.5e1 * params->b * t278 * t61 + 0.25e2 / 0.9e1 * t59 * t289;
  t295 = t60 * t276;
  t297 = 0.3e1 / 0.4e1 * t279 * t280 - 0.27e2 / 0.40e2 * t285 * t292 - 0.2e1 / 0.27e2 * t295;
  t302 = 0.1e1 / t87;
  t303 = t71 * t302;
  t304 = t18 * t249;
  t307 = t79 * t20;
  t309 = 0.1e1 / t42 / t307;
  t313 = -0.324e3 * t304 * t23 - 0.800e3 / 0.3e1 * t78 * t18 * t309;
  t322 = 0.1e1 / t105 / rho[0];
  t326 = t266 * t46 / 0.24e2 - t36 * t271 / 0.9e1 + 0.292e3 / 0.2025e4 * t71 * t297 - 0.73e2 / 0.97200e5 * t297 * t87 - 0.73e2 / 0.194400e6 * t303 * t313 - 0.25e2 / 0.177147e6 * t91 * t92 * t309 - t97 * t250 / 0.360e3 - t100 * t104 * t322 / 0.288e3;
  t330 = 0.1e1 / t115 / t114;
  t331 = t110 * t330;
  t332 = t90 * t96;
  t333 = t331 * t332;
  t336 = -t326 * t116 * t90 - 0.2e1 / 0.9e1 * t333 * t295;
  t338 = params->kappa * t336 * t119;
  t343 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t225 * t122 + t234 - t236 * t245 / 0.4e1 + 0.3e1 / 0.4e1 * t236 * t225 * t338);
  t347 = t9 * rho[1] * t230 * t220 / 0.2e1;
  t349 = 0.1e1 / t12 / t240;
  t351 = t131 * t131;
  t352 = 0.1e1 / t351;
  t353 = t352 * t219;
  t358 = my_piecewise3(t128, 0, t347 + t9 * t134 * t349 * t353 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t127 + t224 + t10 * (t343 + t358);

  t362 = t238 * t122;
  t367 = my_piecewise3(t3, 0, t234 + t9 * t20 * t349 * t362 / 0.4e1);
  t368 = t13 * t131;
  t372 = t8 * rho[1];
  t373 = t7 * t372;
  t374 = t13 * t352;
  t376 = -rho[1] * t241 + t15;
  t377 = t219 * t376;
  t378 = t374 * t377;
  t381 = t134 * rho[1];
  t382 = 0.1e1 / t381;
  t383 = t382 * t137;
  t384 = t383 * t144;
  t387 = t132 * t132;
  t388 = params->c * t387;
  t389 = 0.1e1 / t184;
  t390 = t136 * t136;
  t391 = 0.1e1 / t390;
  t394 = 0.1e1 / t143 / t142;
  t395 = t389 * t391 * t394;
  t399 = (-t133 * t384 / 0.32e2 + t388 * t395 / 0.1024e4) * t35;
  t403 = 0.1e1 / t152 / t381;
  t404 = t150 * t403;
  t409 = sigma[2] * t403;
  t411 = -0.5e1 / 0.3e1 * tau[1] * t154 + t409 / 0.3e1;
  t412 = t411 * t35;
  t413 = t40 * t174;
  t417 = 0.1e1 / t173 / t172;
  t418 = t167 * t417;
  t422 = t78 * t411;
  t425 = 0.5e1 * params->b * t411 * t169 + 0.25e2 / 0.9e1 * t168 * t422;
  t428 = t60 * t409;
  t430 = 0.3e1 / 0.4e1 * t412 * t413 - 0.27e2 / 0.40e2 * t418 * t425 - 0.2e1 / 0.27e2 * t428;
  t435 = 0.1e1 / t191;
  t436 = t179 * t435;
  t437 = t132 * t382;
  t440 = t183 * t134;
  t442 = 0.1e1 / t151 / t440;
  t446 = -0.324e3 * t437 * t137 - 0.800e3 / 0.3e1 * t78 * t132 * t442;
  t455 = 0.1e1 / t203 / rho[1];
  t459 = t399 * t155 / 0.24e2 - t149 * t404 / 0.9e1 + 0.292e3 / 0.2025e4 * t179 * t430 - 0.73e2 / 0.97200e5 * t430 * t191 - 0.73e2 / 0.194400e6 * t436 * t446 - 0.25e2 / 0.177147e6 * t91 * t194 * t442 - t198 * t383 / 0.360e3 - t100 * t202 * t455 / 0.288e3;
  t463 = 0.1e1 / t212 / t211;
  t464 = t208 * t463;
  t465 = t464 * t332;
  t468 = -t459 * t213 * t90 - 0.2e1 / 0.9e1 * t465 * t428;
  t470 = params->kappa * t468 * t216;
  t475 = my_piecewise3(t128, 0, -0.3e1 / 0.4e1 * t9 * t368 * t219 + t347 - t373 * t378 / 0.4e1 + 0.3e1 / 0.4e1 * t373 * t368 * t470);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t127 + t224 + t10 * (t367 + t475);

  t478 = params->c * sigma[0];
  t481 = params->c * t103;
  t482 = 0.1e1 / t79;
  t484 = t482 * t258 * t261;
  t488 = (t478 * t31 / 0.32e2 - t481 * t484 / 0.1024e4) * t35;
  t491 = t40 * t45;
  t494 = t45 * t35;
  t495 = t494 * t280;
  t497 = params->b * t45;
  t498 = t497 * t61;
  t501 = t59 * t78 * t45;
  t503 = -0.5e1 / 0.8e1 * t498 - 0.25e2 / 0.72e2 * t501;
  t508 = -0.3e1 / 0.32e2 * t495 - 0.27e2 / 0.40e2 * t285 * t503 + t494 * t40 / 0.36e2;
  t513 = sigma[0] * t21;
  t519 = 0.100e3 * t78 * sigma[0] * t82 + 0.324e3 * t513 * t23;
  t522 = t77 * sigma[0];
  t526 = t96 * sigma[0];
  t529 = t102 * t18;
  t533 = t488 * t46 / 0.24e2 + t36 * t491 / 0.24e2 + 0.292e3 / 0.2025e4 * t71 * t508 - 0.73e2 / 0.97200e5 * t508 * t87 - 0.73e2 / 0.194400e6 * t303 * t519 + 0.25e2 / 0.472392e6 * t91 * t522 * t82 + t526 * t24 / 0.360e3 + t100 * t529 * t106 / 0.768e3;
  t536 = t331 * t90;
  t537 = t111 * t491;
  t540 = -t533 * t116 * t90 + t536 * t537 / 0.12e2;
  t542 = params->kappa * t540 * t119;
  t546 = my_piecewise3(t3, 0, 0.3e1 / 0.4e1 * t236 * t225 * t542);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t10 * t546;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t547 = params->c * sigma[2];
  t550 = params->c * t201;
  t551 = 0.1e1 / t183;
  t553 = t551 * t391 * t394;
  t557 = (t547 * t145 / 0.32e2 - t550 * t553 / 0.1024e4) * t35;
  t560 = t40 * t154;
  t563 = t154 * t35;
  t564 = t563 * t413;
  t566 = params->b * t154;
  t567 = t566 * t169;
  t570 = t168 * t78 * t154;
  t572 = -0.5e1 / 0.8e1 * t567 - 0.25e2 / 0.72e2 * t570;
  t577 = -0.3e1 / 0.32e2 * t564 - 0.27e2 / 0.40e2 * t418 * t572 + t563 * t40 / 0.36e2;
  t582 = sigma[2] * t135;
  t588 = 0.100e3 * t78 * sigma[2] * t186 + 0.324e3 * t582 * t137;
  t591 = t77 * sigma[2];
  t595 = t96 * sigma[2];
  t598 = t102 * t132;
  t602 = t557 * t155 / 0.24e2 + t149 * t560 / 0.24e2 + 0.292e3 / 0.2025e4 * t179 * t577 - 0.73e2 / 0.97200e5 * t577 * t191 - 0.73e2 / 0.194400e6 * t436 * t588 + 0.25e2 / 0.472392e6 * t91 * t591 * t186 + t595 * t138 / 0.360e3 + t100 * t598 * t204 / 0.768e3;
  t605 = t464 * t90;
  t606 = t111 * t560;
  t609 = -t602 * t213 * t90 + t605 * t606 / 0.12e2;
  t611 = params->kappa * t609 * t216;
  t615 = my_piecewise3(t128, 0, 0.3e1 / 0.4e1 * t373 * t368 * t611);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t10 * t615;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[0] = 0.0e0;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[1] = 0.0e0;

  t616 = t22 * tau[0];
  t617 = 0.1e1 / t616;
  t618 = t21 * t617;
  t619 = t618 * t30;
  t623 = 0.1e1 / t257 / tau[0];
  t625 = t482 * t623 * t261;
  t629 = (-t19 * t619 / 0.32e2 + t255 * t625 / 0.1024e4) * t35;
  t632 = t50 * t35;
  t635 = params->b * t50;
  t641 = 0.5e1 * t635 * t61 + 0.25e2 / 0.9e1 * t59 * t78 * t50;
  t644 = 0.3e1 / 0.4e1 * t632 * t280 - 0.27e2 / 0.40e2 * t285 * t641;
  t649 = t25 * t617;
  t654 = t629 * t46 / 0.24e2 + 0.292e3 / 0.2025e4 * t71 * t644 - 0.73e2 / 0.97200e5 * t644 * t87 + 0.73e2 / 0.600e3 * t303 * t649 - t97 * t618 / 0.360e3;
  t656 = t654 * t116 * t119;
  t660 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t236 * t225 * t656);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[0] = t10 * t660;

  t661 = t136 * tau[1];
  t662 = 0.1e1 / t661;
  t663 = t135 * t662;
  t664 = t663 * t144;
  t668 = 0.1e1 / t390 / tau[1];
  t670 = t551 * t668 * t394;
  t674 = (-t133 * t664 / 0.32e2 + t388 * t670 / 0.1024e4) * t35;
  t677 = t159 * t35;
  t680 = params->b * t159;
  t686 = 0.5e1 * t680 * t169 + 0.25e2 / 0.9e1 * t168 * t78 * t159;
  t689 = 0.3e1 / 0.4e1 * t677 * t413 - 0.27e2 / 0.40e2 * t418 * t686;
  t694 = t139 * t662;
  t699 = t674 * t155 / 0.24e2 + 0.292e3 / 0.2025e4 * t179 * t689 - 0.73e2 / 0.97200e5 * t689 * t191 + 0.73e2 / 0.600e3 * t436 * t694 - t198 * t663 / 0.360e3;
  t701 = t699 * t213 * t216;
  t705 = my_piecewise3(t128, 0, -0.3e1 / 0.4e1 * t373 * t368 * t701);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[1] = t10 * t705;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t708 = t230 * t17;
  t710 = t9 * t708 * t122;
  t714 = t7 * t8 * t13;
  t715 = t17 * params->kappa;
  t716 = t336 * t119;
  t720 = rho[0] * t349;
  t723 = 0.5e1 / 0.6e1 * t9 * t720 * t123;
  t726 = t236 * t230 * t238 * t244;
  t729 = t236 * t708 * t338;
  t731 = 0.1e1 / t237 / t16;
  t733 = t243 * t243;
  t739 = t7 * t235 * t13;
  t740 = t238 * params->kappa;
  t745 = t240 * t10;
  t746 = 0.1e1 / t745;
  t754 = t482 * t23;
  t758 = 0.1e1 / t307;
  t764 = params->c * t254 * t18;
  t766 = 0.1e1 / t257 / t22;
  t768 = t29 * t29;
  t769 = 0.1e1 / t768;
  t780 = 0.1e1 / t43 / t79;
  t784 = t297 * t297;
  t788 = sigma[0] * t780;
  t790 = 0.40e2 / 0.9e1 * tau[0] * t270 - 0.11e2 / 0.9e1 * t788;
  t794 = t40 * t284;
  t795 = t794 * t292;
  t798 = t64 * t64;
  t801 = t58 / t65 / t798;
  t802 = t292 * t292;
  t808 = t278 * t278;
  t818 = t60 * t788;
  t820 = 0.3e1 / 0.4e1 * t790 * t35 * t280 - 0.3e1 / 0.4e1 * t279 * t795 + 0.81e2 / 0.80e2 * t801 * t802 - 0.27e2 / 0.40e2 * t285 * (0.5e1 * params->b * t790 * t61 + 0.50e2 / 0.9e1 * params->b * t808 * t78 + 0.25e2 / 0.9e1 * t59 * t78 * t790) + 0.22e2 / 0.81e2 * t818;
  t825 = t297 * t302;
  t830 = t71 / t87 / t86;
  t831 = t313 * t313;
  t837 = t79 * t248;
  t839 = 0.1e1 / t42 / t837;
  t841 = t78 * t18 * t839;
  t856 = (0.3e1 / 0.32e2 * t19 * t754 * t30 - 0.7e1 / 0.1024e4 * t255 * t758 * t258 * t261 + 0.3e1 / 0.32768e5 * t764 * t106 * t766 * t769) * t35 * t46 / 0.24e2 - 0.2e1 / 0.9e1 * t266 * t271 + 0.11e2 / 0.27e2 * t36 * t41 * t780 + 0.292e3 / 0.2025e4 * t784 + 0.292e3 / 0.2025e4 * t71 * t820 - 0.73e2 / 0.97200e5 * t820 * t87 - 0.73e2 / 0.97200e5 * t825 * t313 + 0.73e2 / 0.388800e6 * t830 * t831 - 0.73e2 / 0.194400e6 * t303 * (0.972e3 * t18 * t482 * t23 + 0.15200e5 / 0.9e1 * t841) + 0.475e3 / 0.531441e6 * t91 * t92 * t839 + t97 * t754 / 0.120e3 + t100 * t104 / t105 / t20 / 0.32e2;
  t859 = t326 * t330;
  t863 = t115 * t115;
  t864 = 0.1e1 / t863;
  t865 = t110 * t864;
  t866 = t90 * params->e;
  t867 = t865 * t866;
  t878 = t336 * t336;
  t884 = t710 - t9 * t245 / 0.2e1 + 0.3e1 / 0.2e1 * t714 * t715 * t716 - t723 + t726 / 0.3e1 - t729 + t236 * t13 * t731 * t122 * t733 / 0.6e1 + t739 * t740 * t716 * t243 / 0.2e1 - t236 * t239 * t122 * (0.2e1 * rho[0] * t746 - 0.2e1 * t241) / 0.4e1 + 0.3e1 / 0.4e1 * t236 * t225 * params->kappa * (-t856 * t116 * t90 - 0.4e1 / 0.9e1 * t859 * t332 * t295 - 0.2e1 / 0.27e2 * t867 * t841 + 0.22e2 / 0.27e2 * t333 * t818) * t119 + 0.3e1 / 0.4e1 * t236 * t225 * params->kappa * t878 * t119;
  t885 = my_piecewise3(t3, 0, t884);
  t889 = 0.5e1 / 0.6e1 * t9 * rho[1] * t349 * t220;
  t891 = 0.1e1 / t12 / t745;
  t894 = t9 * t134 * t891 * t353;
  t896 = t240 * t240;
  t898 = 0.1e1 / t12 / t896;
  t901 = 0.1e1 / t351 / t130;
  t907 = my_piecewise3(t128, 0, -t889 - 0.5e1 / 0.6e1 * t894 + t9 * t381 * t898 * t901 * t219 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t343 + 0.2e1 * t358 + t10 * (t885 + t907);

  t918 = t9 * t20 * t891 * t362;
  t921 = t7 * t8 * t20;
  t926 = t349 * t238;
  t931 = my_piecewise3(t3, 0, t710 / 0.2e1 - t723 + t726 / 0.6e1 - t729 / 0.2e1 + t9 * t720 * t362 / 0.2e1 - 0.2e1 / 0.3e1 * t918 - t921 * t349 * t731 * t244 / 0.6e1 - t921 * t926 * t338 / 0.4e1);
  t932 = t230 * t131;
  t934 = t9 * t932 * t219;
  t936 = t349 * t352;
  t944 = t373 * t230 * t352 * t377;
  t947 = t7 * t8 * t134;
  t952 = rho[1] * t746;
  t960 = t373 * t932 * t470;
  t966 = my_piecewise3(t128, 0, t934 / 0.2e1 + t9 * t936 * t219 * rho[1] / 0.4e1 - t889 - t894 / 0.6e1 + t944 / 0.6e1 - t947 * t349 * t901 * t377 / 0.6e1 - t373 * t374 * t219 * (-t241 + 0.2e1 * t952) / 0.4e1 - t960 / 0.2e1 - t947 * t936 * t470 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t343 + t358 + t367 + t475 + t10 * (t931 + t966);

  t978 = my_piecewise3(t3, 0, -t723 - 0.5e1 / 0.6e1 * t918 + t9 * t248 * t898 * t731 * t122 / 0.6e1);
  t981 = t131 * params->kappa;
  t982 = t468 * t216;
  t988 = t376 * t376;
  t994 = t7 * t372 * t13;
  t995 = t352 * params->kappa;
  t1006 = t551 * t137;
  t1010 = 0.1e1 / t440;
  t1016 = params->c * t387 * t132;
  t1018 = 0.1e1 / t390 / t136;
  t1020 = t143 * t143;
  t1021 = 0.1e1 / t1020;
  t1032 = 0.1e1 / t152 / t183;
  t1036 = t430 * t430;
  t1040 = sigma[2] * t1032;
  t1042 = 0.40e2 / 0.9e1 * tau[1] * t403 - 0.11e2 / 0.9e1 * t1040;
  t1046 = t40 * t417;
  t1047 = t1046 * t425;
  t1050 = t172 * t172;
  t1053 = t167 / t173 / t1050;
  t1054 = t425 * t425;
  t1060 = t411 * t411;
  t1070 = t60 * t1040;
  t1072 = 0.3e1 / 0.4e1 * t1042 * t35 * t413 - 0.3e1 / 0.4e1 * t412 * t1047 + 0.81e2 / 0.80e2 * t1053 * t1054 - 0.27e2 / 0.40e2 * t418 * (0.5e1 * params->b * t1042 * t169 + 0.50e2 / 0.9e1 * params->b * t1060 * t78 + 0.25e2 / 0.9e1 * t168 * t78 * t1042) + 0.22e2 / 0.81e2 * t1070;
  t1077 = t430 * t435;
  t1082 = t179 / t191 / t190;
  t1083 = t446 * t446;
  t1089 = t183 * t381;
  t1091 = 0.1e1 / t151 / t1089;
  t1093 = t78 * t132 * t1091;
  t1108 = (0.3e1 / 0.32e2 * t133 * t1006 * t144 - 0.7e1 / 0.1024e4 * t388 * t1010 * t391 * t394 + 0.3e1 / 0.32768e5 * t1016 * t204 * t1018 * t1021) * t35 * t155 / 0.24e2 - 0.2e1 / 0.9e1 * t399 * t404 + 0.11e2 / 0.27e2 * t149 * t150 * t1032 + 0.292e3 / 0.2025e4 * t1036 + 0.292e3 / 0.2025e4 * t179 * t1072 - 0.73e2 / 0.97200e5 * t1072 * t191 - 0.73e2 / 0.97200e5 * t1077 * t446 + 0.73e2 / 0.388800e6 * t1082 * t1083 - 0.73e2 / 0.194400e6 * t436 * (0.972e3 * t132 * t551 * t137 + 0.15200e5 / 0.9e1 * t1093) + 0.475e3 / 0.531441e6 * t91 * t194 * t1091 + t198 * t1006 / 0.120e3 + t100 * t202 / t203 / t134 / 0.32e2;
  t1111 = t459 * t463;
  t1115 = t212 * t212;
  t1116 = 0.1e1 / t1115;
  t1117 = t208 * t1116;
  t1118 = t1117 * t866;
  t1129 = t468 * t468;
  t1135 = t934 - t9 * t378 / 0.2e1 + 0.3e1 / 0.2e1 * t714 * t981 * t982 - t889 + t944 / 0.3e1 - t960 + t373 * t13 * t901 * t219 * t988 / 0.6e1 + t994 * t995 * t982 * t376 / 0.2e1 - t373 * t374 * t219 * (-0.2e1 * t241 + 0.2e1 * t952) / 0.4e1 + 0.3e1 / 0.4e1 * t373 * t368 * params->kappa * (-t1108 * t213 * t90 - 0.4e1 / 0.9e1 * t1111 * t332 * t428 - 0.2e1 / 0.27e2 * t1118 * t1093 + 0.22e2 / 0.27e2 * t465 * t1070) * t216 + 0.3e1 / 0.4e1 * t373 * t368 * params->kappa * t1129 * t216;
  t1136 = my_piecewise3(t128, 0, t1135);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t367 + 0.2e1 * t475 + t10 * (t978 + t1136);

  t1139 = t540 * t119;
  t1145 = t236 * t708 * t542 / 0.2e1;
  t1155 = params->c * t254 * sigma[0];
  t1156 = 0.1e1 / t837;
  t1169 = t40 * t270;
  t1174 = t270 * t35;
  t1179 = t794 * t503;
  t1198 = t1174 * t280 / 0.4e1 + 0.3e1 / 0.64e2 * t494 * t795 - 0.3e1 / 0.8e1 * t279 * t1179 + 0.81e2 / 0.80e2 * t801 * t503 * t292 - 0.27e2 / 0.40e2 * t285 * (0.5e1 / 0.3e1 * params->b * t270 * t61 - 0.25e2 / 0.36e2 * t497 * t289 + 0.25e2 / 0.27e2 * t59 * t78 * t270) - 0.2e1 / 0.27e2 * t1174 * t40;
  t1203 = t508 * t302;
  t1215 = t78 * sigma[0] * t309;
  t1228 = (-t478 * t251 / 0.16e2 + 0.3e1 / 0.512e3 * t481 * t262 - 0.3e1 / 0.32768e5 * t1155 * t1156 * t766 * t769) * t35 * t46 / 0.24e2 - t488 * t271 / 0.9e1 + t266 * t491 / 0.24e2 - t36 * t1169 / 0.9e1 + 0.292e3 / 0.2025e4 * t297 * t508 + 0.292e3 / 0.2025e4 * t71 * t1198 - 0.73e2 / 0.97200e5 * t1198 * t87 - 0.73e2 / 0.194400e6 * t1203 * t313 - 0.73e2 / 0.194400e6 * t825 * t519 + 0.73e2 / 0.388800e6 * t830 * t519 * t313 - 0.73e2 / 0.194400e6 * t303 * (-0.648e3 * sigma[0] * t249 * t23 - 0.1600e4 / 0.3e1 * t1215) - 0.50e2 / 0.177147e6 * t91 * t522 * t309 - t526 * t250 / 0.180e3 - t100 * t529 * t322 / 0.96e2;
  t1231 = t533 * t330;
  t1255 = my_piecewise3(t3, 0, 0.3e1 / 0.4e1 * t714 * t715 * t1139 - t1145 + t739 * t740 * t1139 * t243 / 0.4e1 + 0.3e1 / 0.4e1 * t236 * t225 * params->kappa * (-t1228 * t116 * t90 - 0.2e1 / 0.9e1 * t1231 * t332 * t295 + t859 * t90 * t537 / 0.12e2 + t867 * t1215 / 0.36e2 - 0.2e1 / 0.9e1 * t536 * t111 * t1169) * t119 + 0.3e1 / 0.4e1 * t739 * t715 * t540 * t336 * t119);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t10 * t1255 + t546;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t1259 = t373 * t932 * t611 / 0.2e1;
  t1264 = my_piecewise3(t128, 0, -t1259 - t947 * t936 * t611 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t10 * t1264 + t615;

  t1270 = my_piecewise3(t3, 0, -t1145 - t921 * t926 * t542 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t10 * t1270 + t546;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t1272 = t609 * t216;
  t1285 = params->c * t387 * sigma[2];
  t1286 = 0.1e1 / t1089;
  t1299 = t40 * t403;
  t1304 = t403 * t35;
  t1309 = t1046 * t572;
  t1328 = t1304 * t413 / 0.4e1 + 0.3e1 / 0.64e2 * t563 * t1047 - 0.3e1 / 0.8e1 * t412 * t1309 + 0.81e2 / 0.80e2 * t1053 * t572 * t425 - 0.27e2 / 0.40e2 * t418 * (0.5e1 / 0.3e1 * params->b * t403 * t169 - 0.25e2 / 0.36e2 * t566 * t422 + 0.25e2 / 0.27e2 * t168 * t78 * t403) - 0.2e1 / 0.27e2 * t1304 * t40;
  t1333 = t577 * t435;
  t1345 = t78 * sigma[2] * t442;
  t1358 = (-t547 * t384 / 0.16e2 + 0.3e1 / 0.512e3 * t550 * t395 - 0.3e1 / 0.32768e5 * t1285 * t1286 * t1018 * t1021) * t35 * t155 / 0.24e2 - t557 * t404 / 0.9e1 + t399 * t560 / 0.24e2 - t149 * t1299 / 0.9e1 + 0.292e3 / 0.2025e4 * t430 * t577 + 0.292e3 / 0.2025e4 * t179 * t1328 - 0.73e2 / 0.97200e5 * t1328 * t191 - 0.73e2 / 0.194400e6 * t1333 * t446 - 0.73e2 / 0.194400e6 * t1077 * t588 + 0.73e2 / 0.388800e6 * t1082 * t588 * t446 - 0.73e2 / 0.194400e6 * t436 * (-0.648e3 * sigma[2] * t382 * t137 - 0.1600e4 / 0.3e1 * t1345) - 0.50e2 / 0.177147e6 * t91 * t591 * t442 - t595 * t383 / 0.180e3 - t100 * t598 * t455 / 0.96e2;
  t1361 = t602 * t463;
  t1385 = my_piecewise3(t128, 0, 0.3e1 / 0.4e1 * t714 * t981 * t1272 - t1259 + t994 * t995 * t1272 * t376 / 0.4e1 + 0.3e1 / 0.4e1 * t373 * t368 * params->kappa * (-t1358 * t213 * t90 - 0.2e1 / 0.9e1 * t1361 * t332 * t428 + t1111 * t90 * t606 / 0.12e2 + t1118 * t1345 / 0.36e2 - 0.2e1 / 0.9e1 * t605 * t111 * t1299) * t216 + 0.3e1 / 0.4e1 * t994 * t981 * t609 * t468 * t216);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t10 * t1385 + t615;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[3] = 0.0e0;

  t1387 = t17 * t654;
  t1388 = t116 * t119;
  t1394 = t236 * t708 * t656 / 0.2e1;
  t1400 = t249 * t617;
  t1409 = 0.1e1 / t257 / t616;
  t1425 = t794 * t641;
  t1438 = -0.5e1 / 0.4e1 * t495 - 0.3e1 / 0.8e1 * t632 * t795 - 0.3e1 / 0.8e1 * t279 * t1425 + 0.81e2 / 0.80e2 * t801 * t641 * t292 - 0.27e2 / 0.40e2 * t285 * (-0.25e2 / 0.3e1 * t498 + 0.50e2 / 0.9e1 * t635 * t289 - 0.125e3 / 0.27e2 * t501);
  t1443 = t644 * t302;
  t1448 = t830 * t18;
  t1467 = t654 * t330 * t119;
  t1478 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t714 * t1387 * t1388 + t1394 - t739 * t238 * t654 * t1388 * t243 / 0.4e1 - 0.3e1 / 0.4e1 * t236 * t225 * ((t19 * t1400 * t30 / 0.16e2 - 0.3e1 / 0.512e3 * t255 * t256 * t623 * t261 + 0.3e1 / 0.32768e5 * t764 * t1156 * t1409 * t769) * t35 * t46 / 0.24e2 - t629 * t271 / 0.9e1 + 0.292e3 / 0.2025e4 * t297 * t644 + 0.292e3 / 0.2025e4 * t71 * t1438 - 0.73e2 / 0.97200e5 * t1438 * t87 - 0.73e2 / 0.194400e6 * t1443 * t313 + 0.73e2 / 0.600e3 * t825 * t649 - 0.73e2 / 0.1200e4 * t1448 * t618 * t313 - 0.73e2 / 0.300e3 * t303 * t304 * t617 + t97 * t1400 / 0.180e3) * t116 * t119 - t9 * t45 * t13 * t17 * t1467 * t111 * t41 / 0.6e1 - 0.3e1 / 0.4e1 * t739 * t1387 * t116 * t336 * t119);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[0] = t10 * t1478 + t660;

  t1482 = t373 * t932 * t701 / 0.2e1;
  t1487 = my_piecewise3(t128, 0, t1482 + t947 * t936 * t701 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[1] = t10 * t1487 + t705;

  t1493 = my_piecewise3(t3, 0, t1394 + t921 * t926 * t656 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[2] = t10 * t1493 + t660;

  t1495 = t131 * t699;
  t1496 = t213 * t216;
  t1505 = t382 * t662;
  t1514 = 0.1e1 / t390 / t661;
  t1530 = t1046 * t686;
  t1543 = -0.5e1 / 0.4e1 * t564 - 0.3e1 / 0.8e1 * t677 * t1047 - 0.3e1 / 0.8e1 * t412 * t1530 + 0.81e2 / 0.80e2 * t1053 * t686 * t425 - 0.27e2 / 0.40e2 * t418 * (-0.25e2 / 0.3e1 * t567 + 0.50e2 / 0.9e1 * t680 * t422 - 0.125e3 / 0.27e2 * t570);
  t1548 = t689 * t435;
  t1553 = t1082 * t132;
  t1572 = t699 * t463 * t216;
  t1583 = my_piecewise3(t128, 0, -0.3e1 / 0.4e1 * t714 * t1495 * t1496 + t1482 - t994 * t352 * t699 * t1496 * t376 / 0.4e1 - 0.3e1 / 0.4e1 * t373 * t368 * ((t133 * t1505 * t144 / 0.16e2 - 0.3e1 / 0.512e3 * t388 * t389 * t668 * t394 + 0.3e1 / 0.32768e5 * t1016 * t1286 * t1514 * t1021) * t35 * t155 / 0.24e2 - t674 * t404 / 0.9e1 + 0.292e3 / 0.2025e4 * t430 * t689 + 0.292e3 / 0.2025e4 * t179 * t1543 - 0.73e2 / 0.97200e5 * t1543 * t191 - 0.73e2 / 0.194400e6 * t1548 * t446 + 0.73e2 / 0.600e3 * t1077 * t694 - 0.73e2 / 0.1200e4 * t1553 * t663 * t446 - 0.73e2 / 0.300e3 * t436 * t437 * t662 + t198 * t1505 / 0.180e3) * t213 * t216 - t9 * t154 * t13 * t131 * t1572 * t111 * t150 / 0.6e1 - 0.3e1 / 0.4e1 * t994 * t1495 * t213 * t468 * t216);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[3] = t10 * t1583 + t705;

  t1601 = t508 * t508;
  t1605 = t503 * t503;
  t1608 = t285 * params->b;
  t1609 = t78 * t82;
  t1612 = 0.3e1 / 0.32e2 * t494 * t1179 + 0.81e2 / 0.80e2 * t801 * t1605 - 0.15e2 / 0.256e3 * t1608 * t1609;
  t1619 = t519 * t519;
  t1627 = t77 * t82;
  t1637 = (params->c * t21 * t23 * t30 / 0.32e2 - 0.5e1 / 0.1024e4 * t19 * t484 + 0.3e1 / 0.32768e5 * t255 * t758 * t766 * t769) * t35 * t46 / 0.24e2 + t488 * t491 / 0.12e2 + 0.292e3 / 0.2025e4 * t1601 + 0.292e3 / 0.2025e4 * t71 * t1612 - 0.73e2 / 0.97200e5 * t1612 * t87 - 0.73e2 / 0.97200e5 * t1203 * t519 + 0.73e2 / 0.388800e6 * t830 * t1619 - 0.73e2 / 0.194400e6 * t303 * (0.324e3 * t24 + 0.100e3 * t1609) + 0.25e2 / 0.472392e6 * t91 * t1627 + t96 * t21 * t23 / 0.360e3 + t100 * t102 * sigma[0] * t106 / 0.384e3;
  t1644 = params->e * t75;
  t1653 = t540 * t540;
  t1660 = my_piecewise3(t3, 0, 0.3e1 / 0.4e1 * t236 * t225 * params->kappa * (-t1637 * t116 * t90 + t1231 * t90 * t537 / 0.6e1 - t865 * t90 * t1644 * t1627 / 0.96e2) * t119 + 0.3e1 / 0.4e1 * t236 * t225 * params->kappa * t1653 * t119);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t10 * t1660;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t1677 = t577 * t577;
  t1681 = t572 * t572;
  t1684 = t418 * params->b;
  t1685 = t78 * t186;
  t1688 = 0.3e1 / 0.32e2 * t563 * t1309 + 0.81e2 / 0.80e2 * t1053 * t1681 - 0.15e2 / 0.256e3 * t1684 * t1685;
  t1695 = t588 * t588;
  t1703 = t77 * t186;
  t1713 = (params->c * t135 * t137 * t144 / 0.32e2 - 0.5e1 / 0.1024e4 * t133 * t553 + 0.3e1 / 0.32768e5 * t388 * t1010 * t1018 * t1021) * t35 * t155 / 0.24e2 + t557 * t560 / 0.12e2 + 0.292e3 / 0.2025e4 * t1677 + 0.292e3 / 0.2025e4 * t179 * t1688 - 0.73e2 / 0.97200e5 * t1688 * t191 - 0.73e2 / 0.97200e5 * t1333 * t588 + 0.73e2 / 0.388800e6 * t1082 * t1695 - 0.73e2 / 0.194400e6 * t436 * (0.324e3 * t138 + 0.100e3 * t1685) + 0.25e2 / 0.472392e6 * t91 * t1703 + t96 * t135 * t137 / 0.360e3 + t100 * t102 * sigma[2] * t204 / 0.384e3;
  t1728 = t609 * t609;
  t1735 = my_piecewise3(t128, 0, 0.3e1 / 0.4e1 * t373 * t368 * params->kappa * (-t1713 * t213 * t90 + t1361 * t90 * t606 / 0.6e1 - t1117 * t90 * t1644 * t1703 / 0.96e2) * t216 + 0.3e1 / 0.4e1 * t373 * t368 * params->kappa * t1728 * t216);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t10 * t1735;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[4] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[5] = 0.0e0;

  t1765 = -0.3e1 / 0.8e1 * t632 * t1179 + 0.3e1 / 0.64e2 * t494 * t1425 + 0.81e2 / 0.80e2 * t801 * t641 * t503 + 0.15e2 / 0.32e2 * t1608 / t42 / t79 * t75 * t77;
  t1791 = t111 * t40;
  t1801 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t236 * t225 * ((-t478 * t619 / 0.16e2 + 0.3e1 / 0.512e3 * t481 * t625 - 0.3e1 / 0.32768e5 * t1155 * t758 * t1409 * t769) * t35 * t46 / 0.24e2 + t629 * t491 / 0.24e2 + 0.292e3 / 0.2025e4 * t508 * t644 + 0.292e3 / 0.2025e4 * t71 * t1765 - 0.73e2 / 0.97200e5 * t1765 * t87 - 0.73e2 / 0.194400e6 * t1443 * t519 + 0.73e2 / 0.600e3 * t1203 * t649 - 0.73e2 / 0.1200e4 * t1448 * t618 * t519 + 0.73e2 / 0.300e3 * t303 * t513 * t617 - t526 * t618 / 0.180e3) * t116 * t119 + t9 * t50 * t13 * t17 * t1467 * t1791 / 0.16e2 - 0.3e1 / 0.4e1 * t739 * t1387 * t116 * t540 * t119);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[0] = t10 * t1801;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[4] = 0.0e0;

  t1831 = -0.3e1 / 0.8e1 * t677 * t1309 + 0.3e1 / 0.64e2 * t563 * t1530 + 0.81e2 / 0.80e2 * t1053 * t686 * t572 + 0.15e2 / 0.32e2 * t1684 / t151 / t183 * t75 * t77;
  t1866 = my_piecewise3(t128, 0, -0.3e1 / 0.4e1 * t373 * t368 * ((-t547 * t664 / 0.16e2 + 0.3e1 / 0.512e3 * t550 * t670 - 0.3e1 / 0.32768e5 * t1285 * t1010 * t1514 * t1021) * t35 * t155 / 0.24e2 + t674 * t560 / 0.24e2 + 0.292e3 / 0.2025e4 * t577 * t689 + 0.292e3 / 0.2025e4 * t179 * t1831 - 0.73e2 / 0.97200e5 * t1831 * t191 - 0.73e2 / 0.194400e6 * t1548 * t588 + 0.73e2 / 0.600e3 * t1333 * t694 - 0.73e2 / 0.1200e4 * t1553 * t663 * t588 + 0.73e2 / 0.300e3 * t436 * t582 * t662 - t595 * t663 / 0.180e3) * t213 * t216 + t9 * t159 * t13 * t131 * t1572 * t1791 / 0.16e2 - 0.3e1 / 0.4e1 * t994 * t1495 * t213 * t609 * t216);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[5] = t10 * t1866;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[3] = 0.0e0;

  t1867 = t21 * t258;
  t1875 = t257 * t257;
  t1885 = t644 * t644;
  t1889 = t641 * t641;
  t1898 = -0.3e1 / 0.4e1 * t632 * t1425 + 0.81e2 / 0.80e2 * t801 * t1889 - 0.15e2 / 0.4e1 * t1608 / t42 / t248 * t75 * t77;
  t1919 = t654 * t654;
  t1927 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t236 * t225 * ((0.3e1 / 0.32e2 * t19 * t1867 * t30 - 0.7e1 / 0.1024e4 * t255 * t482 * t766 * t261 + 0.3e1 / 0.32768e5 * t764 * t758 / t1875 * t769) * t35 * t46 / 0.24e2 + 0.292e3 / 0.2025e4 * t1885 + 0.292e3 / 0.2025e4 * t71 * t1898 - 0.73e2 / 0.97200e5 * t1898 * t87 + 0.73e2 / 0.300e3 * t1443 * t649 + 0.1971e4 / 0.100e3 * t830 * t254 * t482 * t766 - 0.73e2 / 0.200e3 * t303 * t25 * t258 + t97 * t1867 / 0.120e3) * t116 * t119 + 0.3e1 / 0.4e1 * t739 * t17 * t1919 * t864 * t90 * t119);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[0] = t10 * t1927;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[1] = 0.0e0;

  t1928 = t135 * t391;
  t1936 = t390 * t390;
  t1946 = t689 * t689;
  t1950 = t686 * t686;
  t1959 = -0.3e1 / 0.4e1 * t677 * t1530 + 0.81e2 / 0.80e2 * t1053 * t1950 - 0.15e2 / 0.4e1 * t1684 / t151 / t381 * t75 * t77;
  t1980 = t699 * t699;
  t1988 = my_piecewise3(t128, 0, -0.3e1 / 0.4e1 * t373 * t368 * ((0.3e1 / 0.32e2 * t133 * t1928 * t144 - 0.7e1 / 0.1024e4 * t388 * t551 * t1018 * t394 + 0.3e1 / 0.32768e5 * t1016 * t1010 / t1936 * t1021) * t35 * t155 / 0.24e2 + 0.292e3 / 0.2025e4 * t1946 + 0.292e3 / 0.2025e4 * t179 * t1959 - 0.73e2 / 0.97200e5 * t1959 * t191 + 0.73e2 / 0.300e3 * t1548 * t694 + 0.1971e4 / 0.100e3 * t1082 * t387 * t551 * t1018 - 0.73e2 / 0.200e3 * t436 * t139 * t391 + t198 * t1928 / 0.120e3) * t213 * t216 + 0.3e1 / 0.4e1 * t994 * t131 * t1980 * t1116 * t90 * t216);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[2] = t10 * t1988;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

