/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/mgga_exc/mgga_x_mbr.mpl
  Type of functional: mgga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma, const double *lapl, const double *tau , double *zk MGGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t4, t5, t7, t8, t10, t11, t12, t13;
  double t14, t15, t16, t17, t19, t21, t22, t23;
  double t24, t25, t26, t27, t29, t30, t32, t33;
  double t39, t40, t41, t42, t45, t46, t47, t49;
  double t50, t51, t52, t56, t60, t61, t65, t66;
  double t72, t73, t74, t75, t76, t77, t78, t80;
  double t81, t84, t86, t87, t88, t91;

#ifndef XC_DONT_COMPILE_VXC
  double t94, t97, t98, t99, t101, t102, t104, t105;
  double t109, t110, t111, t117, t121, t125, t132, t133;
  double t134, t135, t136, t137, t139, t140, t141, t143;
  double t144, t145, t146, t147, t148, t149, t152, t153;
  double t154, t155, t158, t162, t163, t166, t167, t168;
  double t169, t173, t176, t177, t179, t183, t187, t191;
  double t195, t196, t197, t198, t201, t206, t207, t210;
  double t214, t218, t222, t223, t224, t225, t228, t233;
  double t234, t237, t241;

#ifndef XC_DONT_COMPILE_FXC
  double t253, t257, t259, t260, t265, t266, t290, t291;
  double t292, t296, t297, t299, t300, t304, t305, t306;
  double t307, t308, t309, t310, t311, t312, t313, t314;
  double t315, t316, t317, t320, t321, t322, t324, t327;
  double t330, t333, t334, t335, t338, t341, t346, t350;
  double t351, t352, t353, t356, t358, t360, t361, t365;
  double t372, t376, t384, t390, t401, t408, t409, t434;
  double t435, t436, t440, t443, t444, t447, t448, t449;
  double t450, t455, t462, t467, t472, t473, t474, t477;
  double t478, t482, t485, t486, t491, t495, t503, t511;
  double t519, t527, t531, t532, t542, t543, t544, t548;
  double t549, t552, t553, t554, t567, t572, t575, t595;
  double t617, t618, t621, t631, t632, t633, t637, t638;
  double t639, t643, t644, t645, t651, t654, t668, t672;
  double t682, t703, t710, t711, t713, t714, t715, t718;
  double t720, t742, t743, t754, t759, t782, t796, t797;
  double t799, t800, t801, t805, t806, t807, t813, t828;
  double t865, t866;
#endif

#endif

#endif


  mgga_x_mbr_params *params;

  assert(p->params != NULL);
  params = (mgga_x_mbr_params * ) (p->params);

  t4 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t5 = POW_1_3(rho[0]);
  t7 = POW_1_3(0.1e1 / M_PI);
  t8 = 0.1e1 / t7;
  t10 = M_CBRT4;
  t11 = t5 * t8 * t10;
  t12 = params->lambda * params->lambda;
  t13 = t12 - params->lambda + 0.1e1 / 0.2e1;
  t14 = M_CBRT2;
  t15 = t14 * t14;
  t16 = tau[0] * t15;
  t17 = t5 * t5;
  t19 = 0.1e1 / t17 / rho[0];
  t21 = 0.2e1 * t16 * t19;
  t22 = M_CBRT6;
  t23 = t22 * t22;
  t24 = M_PI * M_PI;
  t25 = POW_1_3(t24);
  t26 = t25 * t25;
  t27 = t23 * t26;
  t29 = sigma[0] * t15;
  t30 = rho[0] * rho[0];
  t32 = 0.1e1 / t17 / t30;
  t33 = t29 * t32;
  t39 = POW_2(0.2e1 * params->lambda - 0.1e1);
  t40 = t39 * t22;
  t41 = 0.1e1 / t26;
  t42 = t40 * t41;
  t45 = t39 * t39;
  t46 = params->beta * t45;
  t47 = t46 * t23;
  t49 = 0.1e1 / t25 / t24;
  t50 = sigma[0] * sigma[0];
  t51 = t49 * t50;
  t52 = t30 * t30;
  t56 = t14 / t5 / t52 / rho[0];
  t60 = 0.1e1 + 0.175e3 / 0.162e3 * t42 * t33 + t47 * t51 * t56 / 0.288e3;
  t61 = pow(t60, 0.1e1 / 0.5e1);
  t65 = t39 * sigma[0];
  t66 = t15 * t32;
  t72 = t13 * (t21 - 0.3e1 / 0.10e2 * t27 - t33 / 0.36e2) + t27 * (t61 - 0.1e1) / 0.5e1 - params->gamma * (t21 - t65 * t66 / 0.4e1) / 0.3e1;
  t73 = fabs(t72);
  t74 = t73 < 0.50e-12;
  t75 = 0.0e0 < t72;
  t76 = my_piecewise3(t75, 0.50e-12, -0.50e-12);
  t77 = my_piecewise3(t74, t76, t72);
  t78 = xc_mgga_x_br89_get_x(t77);
  t80 = exp(t78 / 0.3e1);
  t81 = exp(-t78);
  t84 = t81 * (0.1e1 + t78 / 0.2e1);
  t86 = t80 * (0.1e1 - t84);
  t87 = 0.1e1 / t78;
  t88 = t86 * t87;
  t91 = my_piecewise3(t4, 0, -t11 * t88 / 0.4e1);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t91;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t94 = 0.1e1 / t17 * t8 * t10;
  t97 = M_CBRTPI;
  t98 = t97 * t97;
  t99 = my_piecewise3(t75, 0, 0);
  t101 = 0.10e2 / 0.3e1 * t16 * t32;
  t102 = t30 * rho[0];
  t104 = 0.1e1 / t17 / t102;
  t105 = t29 * t104;
  t109 = t61 * t61;
  t110 = t109 * t109;
  t111 = 0.1e1 / t110;
  t117 = t14 / t5 / t52 / t30;
  t121 = -0.700e3 / 0.243e3 * t42 * t105 - t47 * t51 * t117 / 0.54e2;
  t125 = t15 * t104;
  t132 = my_piecewise3(t74, t99, t13 * (-t101 + 0.2e1 / 0.27e2 * t105) + t27 * t111 * t121 / 0.25e2 - params->gamma * (-t101 + 0.2e1 / 0.3e1 * t65 * t125) / 0.3e1);
  t133 = t98 * t132;
  t134 = t77 * t77;
  t135 = 0.1e1 / t134;
  t136 = t133 * t135;
  t137 = t11 * t136;
  t139 = exp(-0.2e1 / 0.3e1 * t78);
  t140 = 0.1e1 / t139;
  t141 = t78 * t78;
  t143 = t141 - 0.2e1 * t78 + 0.3e1;
  t144 = 0.1e1 / t143;
  t145 = t140 * t144;
  t146 = t78 - 0.2e1;
  t147 = t146 * t146;
  t148 = t145 * t147;
  t149 = t148 * t88;
  t152 = t135 * t140;
  t153 = t133 * t152;
  t154 = t144 * t147;
  t155 = t154 * t84;
  t158 = t145 * t147 * t81;
  t162 = t80 * (t153 * t155 - t136 * t158 / 0.2e1);
  t163 = t162 * t87;
  t166 = 0.1e1 / t141;
  t167 = t86 * t166;
  t168 = t11 * t167;
  t169 = t136 * t148;
  t173 = my_piecewise3(t4, 0, -t94 * t88 / 0.12e2 - t137 * t149 / 0.12e2 - t11 * t163 / 0.4e1 + t168 * t169 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t173 + 0.2e1 * t91;

  t176 = t13 * t15;
  t177 = t176 * t32;
  t179 = t41 * t15;
  t183 = t49 * sigma[0];
  t187 = 0.175e3 / 0.162e3 * t40 * t179 * t32 + t47 * t183 * t56 / 0.144e3;
  t191 = params->gamma * t39;
  t195 = my_piecewise3(t74, t99, -t177 / 0.36e2 + t27 * t111 * t187 / 0.25e2 + t191 * t66 / 0.12e2);
  t196 = t98 * t195;
  t197 = t196 * t135;
  t198 = t11 * t197;
  t201 = t196 * t152;
  t206 = t80 * (t201 * t155 - t197 * t158 / 0.2e1);
  t207 = t206 * t87;
  t210 = t197 * t148;
  t214 = my_piecewise3(t4, 0, -t198 * t149 / 0.12e2 - t11 * t207 / 0.4e1 + t168 * t210 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t214;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[0] = 0.0e0;

  t218 = params->gamma * t15;
  t222 = my_piecewise3(t74, t99, 0.2e1 * t176 * t19 - 0.2e1 / 0.3e1 * t218 * t19);
  t223 = t98 * t222;
  t224 = t223 * t135;
  t225 = t11 * t224;
  t228 = t223 * t152;
  t233 = t80 * (t228 * t155 - t224 * t158 / 0.2e1);
  t234 = t233 * t87;
  t237 = t224 * t148;
  t241 = my_piecewise3(t4, 0, -t225 * t149 / 0.12e2 - t11 * t234 / 0.4e1 + t168 * t237 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[0] = 0.2e1 * rho[0] * t241;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t253 = t94 * t167;
  t257 = 0.80e2 / 0.9e1 * t16 * t104;
  t259 = 0.1e1 / t17 / t52;
  t260 = t29 * t259;
  t265 = 0.1e1 / t110 / t60;
  t266 = t121 * t121;
  t290 = my_piecewise3(t74, t99, t13 * (t257 - 0.22e2 / 0.81e2 * t260) - 0.4e1 / 0.125e3 * t27 * t265 * t266 + t27 * t111 * (0.7700e4 / 0.729e3 * t42 * t260 + 0.19e2 / 0.162e3 * t47 * t51 * t14 / t5 / t52 / t102) / 0.25e2 - params->gamma * (t257 - 0.22e2 / 0.9e1 * t65 * t15 * t259) / 0.3e1);
  t291 = t98 * t290;
  t292 = t291 * t135;
  t296 = t132 * t132;
  t297 = t98 * t296;
  t299 = 0.1e1 / t134 / t77;
  t300 = t297 * t299;
  t304 = t97 * M_PI;
  t305 = t304 * t296;
  t306 = t134 * t134;
  t307 = 0.1e1 / t306;
  t308 = t305 * t307;
  t309 = t11 * t308;
  t310 = t139 * t139;
  t311 = 0.1e1 / t310;
  t312 = t143 * t143;
  t313 = 0.1e1 / t312;
  t314 = t311 * t313;
  t315 = t147 * t147;
  t316 = t314 * t315;
  t317 = t316 * t88;
  t320 = t140 * t313;
  t321 = t320 * t147;
  t322 = t78 * t98;
  t324 = t152 * t154;
  t327 = 0.2e1 * t322 * t132 * t324 - 0.2e1 * t169;
  t330 = t321 * t86 * t87 * t327;
  t333 = t147 * t146;
  t334 = t314 * t333;
  t335 = t334 * t88;
  t338 = t148 * t163;
  t341 = t316 * t167;
  t346 = t299 * t140;
  t350 = t307 * t311;
  t351 = t305 * t350;
  t352 = t313 * t315;
  t353 = t352 * t84;
  t356 = t313 * t147;
  t358 = t356 * t84 * t327;
  t360 = t313 * t333;
  t361 = t360 * t84;
  t365 = t314 * t315 * t81;
  t372 = t356 * t81 * t327;
  t376 = t314 * t333 * t81;
  t384 = t11 * t162 * t166;
  t390 = t11 * t86 / t141 / t78;
  t401 = t320 * t147 * t327;
  t408 = t19 * t8 * t10 * t88 / 0.18e2 - t94 * t136 * t149 / 0.18e2 - t94 * t163 / 0.6e1 + t253 * t169 / 0.6e1 - t11 * t292 * t149 / 0.12e2 + t11 * t300 * t149 / 0.6e1 - t309 * t317 / 0.12e2 + t137 * t330 / 0.12e2 - t309 * t335 / 0.6e1 - t137 * t338 / 0.6e1 + t309 * t341 / 0.3e1 - t11 * t80 * (t291 * t152 * t155 - 0.2e1 * t297 * t346 * t155 - t351 * t353 / 0.3e1 - t153 * t358 + 0.2e1 * t351 * t361 + 0.2e1 / 0.3e1 * t308 * t365 - t292 * t158 / 0.2e1 + t300 * t158 + t153 * t372 / 0.2e1 - t308 * t376) * t87 / 0.4e1 + t384 * t169 / 0.2e1 - t390 * t308 * t316 / 0.2e1 + t168 * t292 * t148 / 0.4e1 - t168 * t300 * t148 / 0.2e1 - t168 * t136 * t401 / 0.4e1 + t168 * t308 * t334 / 0.2e1;
  t409 = my_piecewise3(t4, 0, t408);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t409 + 0.4e1 * t173;

  t434 = my_piecewise3(t74, t99, 0.2e1 / 0.27e2 * t176 * t104 - 0.4e1 / 0.125e3 * t27 * t265 * t187 * t121 + t27 * t111 * (-0.700e3 / 0.243e3 * t40 * t179 * t104 - t47 * t183 * t117 / 0.27e2) / 0.25e2 - 0.2e1 / 0.9e1 * t191 * t125);
  t435 = t98 * t434;
  t436 = t435 * t135;
  t440 = t196 * t299;
  t443 = t86 * t87 * t132;
  t444 = t148 * t443;
  t447 = t304 * t195;
  t448 = t447 * t307;
  t449 = t11 * t448;
  t450 = t316 * t443;
  t455 = t334 * t443;
  t462 = t316 * t86 * t166 * t132;
  t467 = t148 * t207;
  t472 = t196 * t346;
  t473 = t84 * t132;
  t474 = t154 * t473;
  t477 = t447 * t350;
  t478 = t352 * t473;
  t482 = t360 * t473;
  t485 = t81 * t132;
  t486 = t352 * t485;
  t491 = t154 * t485;
  t495 = t360 * t485;
  t503 = t11 * t206 * t166;
  t511 = t314 * t315 * t132;
  t519 = t145 * t147 * t132;
  t527 = t314 * t333 * t132;
  t531 = -t94 * t197 * t149 / 0.36e2 - t11 * t436 * t149 / 0.12e2 + t11 * t440 * t444 / 0.6e1 - t449 * t450 / 0.12e2 + t198 * t330 / 0.12e2 - t449 * t455 / 0.6e1 - t198 * t338 / 0.12e2 + t449 * t462 / 0.3e1 - t94 * t207 / 0.12e2 - t137 * t467 / 0.12e2 - t11 * t80 * (t435 * t152 * t155 - 0.2e1 * t472 * t474 - t477 * t478 / 0.3e1 - t201 * t358 + 0.2e1 * t477 * t482 + 0.2e1 / 0.3e1 * t477 * t486 - t436 * t158 / 0.2e1 + t472 * t491 + t201 * t372 / 0.2e1 - t477 * t495) * t87 / 0.4e1 + t503 * t169 / 0.4e1 + t253 * t210 / 0.12e2 + t384 * t210 / 0.4e1 - t390 * t448 * t511 / 0.2e1 + t168 * t436 * t148 / 0.4e1 - t168 * t440 * t519 / 0.2e1 - t168 * t197 * t401 / 0.4e1 + t168 * t448 * t527 / 0.2e1;
  t532 = my_piecewise3(t4, 0, t531);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t532 + 0.2e1 * t214;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[0] = 0.0e0;

  t542 = my_piecewise3(t74, t99, -0.10e2 / 0.3e1 * t177 + 0.10e2 / 0.9e1 * t218 * t32);
  t543 = t98 * t542;
  t544 = t543 * t135;
  t548 = t223 * t299;
  t549 = t11 * t548;
  t552 = t304 * t222;
  t553 = t552 * t307;
  t554 = t11 * t553;
  t567 = t148 * t234;
  t572 = t223 * t346;
  t575 = t552 * t350;
  t595 = t11 * t233 * t166;
  t617 = -t94 * t224 * t149 / 0.36e2 - t11 * t544 * t149 / 0.12e2 + t549 * t444 / 0.6e1 - t554 * t450 / 0.12e2 + t225 * t330 / 0.12e2 - t554 * t455 / 0.6e1 - t225 * t338 / 0.12e2 + t554 * t462 / 0.3e1 - t94 * t234 / 0.12e2 - t137 * t567 / 0.12e2 - t11 * t80 * (t543 * t152 * t155 - 0.2e1 * t572 * t474 - t575 * t478 / 0.3e1 - t228 * t358 + 0.2e1 * t575 * t482 + 0.2e1 / 0.3e1 * t575 * t486 - t544 * t158 / 0.2e1 + t572 * t491 + t228 * t372 / 0.2e1 - t575 * t495) * t87 / 0.4e1 + t595 * t169 / 0.4e1 + t253 * t237 / 0.12e2 + t384 * t237 / 0.4e1 - t390 * t553 * t511 / 0.2e1 + t168 * t544 * t148 / 0.4e1 - t168 * t548 * t519 / 0.2e1 - t168 * t224 * t401 / 0.4e1 + t168 * t553 * t527 / 0.2e1;
  t618 = my_piecewise3(t4, 0, t617);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[0] = 0.2e1 * rho[0] * t618 + 0.2e1 * t241;

  t621 = t187 * t187;
  t631 = my_piecewise3(t74, t99, -0.4e1 / 0.125e3 * t27 * t265 * t621 + t22 * t41 * t111 * t46 * t56 / 0.600e3);
  t632 = t98 * t631;
  t633 = t632 * t135;
  t637 = t195 * t195;
  t638 = t98 * t637;
  t639 = t638 * t299;
  t643 = t304 * t637;
  t644 = t643 * t307;
  t645 = t11 * t644;
  t651 = 0.2e1 * t322 * t195 * t324 - 0.2e1 * t210;
  t654 = t321 * t86 * t87 * t651;
  t668 = t643 * t350;
  t672 = t356 * t84 * t651;
  t682 = t356 * t81 * t651;
  t703 = t320 * t147 * t651;
  t710 = -t11 * t633 * t149 / 0.12e2 + t11 * t639 * t149 / 0.6e1 - t645 * t317 / 0.12e2 + t198 * t654 / 0.12e2 - t645 * t335 / 0.6e1 - t198 * t467 / 0.6e1 + t645 * t341 / 0.3e1 - t11 * t80 * (t632 * t152 * t155 - 0.2e1 * t638 * t346 * t155 - t668 * t353 / 0.3e1 - t201 * t672 + 0.2e1 * t668 * t361 + 0.2e1 / 0.3e1 * t644 * t365 - t633 * t158 / 0.2e1 + t639 * t158 + t201 * t682 / 0.2e1 - t644 * t376) * t87 / 0.4e1 + t503 * t210 / 0.2e1 - t390 * t644 * t316 / 0.2e1 + t168 * t633 * t148 / 0.4e1 - t168 * t639 * t148 / 0.2e1 - t168 * t197 * t703 / 0.4e1 + t168 * t644 * t334 / 0.2e1;
  t711 = my_piecewise3(t4, 0, t710);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t711;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[0] = 0.0e0;

  t713 = my_piecewise3(t74, t99, 0);
  t714 = t98 * t713;
  t715 = t714 * t135;
  t718 = t11 * t715 * t149 / 0.12e2;
  t720 = t86 * t87 * t195;
  t742 = t714 * t152 * t155;
  t743 = t84 * t195;
  t754 = t81 * t195;
  t759 = t715 * t158 / 0.2e1;
  t782 = t168 * t715 * t148 / 0.4e1;
  t796 = -t718 + t549 * t148 * t720 / 0.6e1 - t554 * t316 * t720 / 0.12e2 + t225 * t654 / 0.12e2 - t554 * t334 * t720 / 0.6e1 - t225 * t467 / 0.12e2 + t554 * t316 * t86 * t166 * t195 / 0.3e1 - t198 * t567 / 0.12e2 - t11 * t80 * (t742 - 0.2e1 * t572 * t154 * t743 - t575 * t352 * t743 / 0.3e1 - t228 * t672 + 0.2e1 * t575 * t360 * t743 + 0.2e1 / 0.3e1 * t575 * t352 * t754 - t759 + t572 * t154 * t754 + t228 * t682 / 0.2e1 - t575 * t360 * t754) * t87 / 0.4e1 + t595 * t210 / 0.4e1 + t503 * t237 / 0.4e1 - t390 * t553 * t314 * t315 * t195 / 0.2e1 + t782 - t168 * t548 * t145 * t147 * t195 / 0.2e1 - t168 * t224 * t703 / 0.4e1 + t168 * t553 * t314 * t333 * t195 / 0.2e1;
  t797 = my_piecewise3(t4, 0, t796);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[0] = 0.2e1 * rho[0] * t797;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[0] = 0.0e0;

  t799 = t222 * t222;
  t800 = t98 * t799;
  t801 = t800 * t299;
  t805 = t304 * t799;
  t806 = t805 * t307;
  t807 = t11 * t806;
  t813 = 0.2e1 * t322 * t222 * t324 - 0.2e1 * t237;
  t828 = t805 * t350;
  t865 = -t718 + t11 * t801 * t149 / 0.6e1 - t807 * t317 / 0.12e2 + t225 * t321 * t86 * t87 * t813 / 0.12e2 - t807 * t335 / 0.6e1 - t225 * t567 / 0.6e1 + t807 * t341 / 0.3e1 - t11 * t80 * (t742 - 0.2e1 * t800 * t346 * t155 - t828 * t353 / 0.3e1 - t228 * t356 * t84 * t813 + 0.2e1 * t828 * t361 + 0.2e1 / 0.3e1 * t806 * t365 - t759 + t801 * t158 + t228 * t356 * t81 * t813 / 0.2e1 - t806 * t376) * t87 / 0.4e1 + t595 * t237 / 0.2e1 - t390 * t806 * t316 / 0.2e1 + t782 - t168 * t801 * t148 / 0.2e1 - t168 * t224 * t320 * t147 * t813 / 0.4e1 + t168 * t806 * t334 / 0.2e1;
  t866 = my_piecewise3(t4, 0, t865);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[0] = 0.2e1 * rho[0] * t866;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma, const double *lapl, const double *tau , double *zk MGGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t2, t3, t4, t5, t6, t7, t8, t9;
  double t10, t11, t12, t14, t16, t17, t18, t19;
  double t20, t21, t22, t23, t25, t27, t28, t29;
  double t30, t31, t32, t33, t34, t35, t37, t44;
  double t45, t46, t47, t51, t52, t53, t55, t56;
  double t57, t58, t61, t65, t66, t70, t76, t77;
  double t78, t79, t80, t81, t82, t83, t85, t86;
  double t89, t90, t91, t92, t94, t97, t98, t99;
  double t100, t101, t103, t104, t105, t107, t109, t110;
  double t112, t117, t121, t122, t123, t126, t130, t131;
  double t135, t141, t142, t143, t144, t145, t146, t147;
  double t148, t150, t151, t154, t155, t156, t157, t159;
  double t162;

#ifndef XC_DONT_COMPILE_VXC
  double t163, t164, t165, t166, t167, t168, t172, t174;
  double t176, t177, t178, t179, t181, t182, t183, t185;
  double t187, t190, t191, t192, t193, t194, t195, t196;
  double t198, t199, t201, t206, t207, t208, t214, t218;
  double t228, t229, t230, t231, t233, t234, t235, t237;
  double t238, t239, t240, t241, t242, t243, t244, t245;
  double t248, t249, t250, t251, t252, t254, t256, t259;
  double t262, t265, t266, t267, t268, t270, t271, t275;
  double t277, t279, t280, t282, t283, t284, t286, t290;
  double t293, t294, t295, t299, t300, t301, t302, t303;
  double t304, t307, t309, t311, t313, t316, t317, t318;
  double t319, t321, t322, t324, t329, t330, t331, t337;
  double t341, t351, t352, t353, t354, t356, t357, t358;
  double t360, t361, t362, t363, t364, t365, t366, t367;
  double t368, t371, t372, t373, t374, t375, t377, t379;
  double t382, t385, t388, t389, t390, t391, t393, t394;
  double t398, t401, t406, t410, t414, t418, t419, t420;
  double t421, t424, t425, t427, t430, t433, t437, t441;
  double t442, t447, t451, t458, t459, t460, t461, t464;
  double t465, t467, t470, t473, t477, t481, t487, t488;
  double t489, t490, t493, t494, t496, t499, t502, t506;
  double t510, t516, t517, t518, t519, t522, t523, t525;
  double t528, t531, t535, t539;

#ifndef XC_DONT_COMPILE_FXC
  double t545, t546, t550, t553, t555, t561, t562, t585;
  double t586, t589, t590, t592, t593, t597, t598, t599;
  double t600, t601, t602, t603, t604, t605, t606, t607;
  double t608, t609, t612, t613, t616, t619, t621, t623;
  double t624, t625, t628, t629, t631, t640, t644, t652;
  double t653, t656, t659, t660, t661, t665, t668, t670;
  double t673, t677, t685, t691, t692, t700, t704, t707;
  double t713, t714, t716, t718, t723, t726, t729, t731;
  double t733, t735, t739, t740, t745, t746, t748, t752;
  double t756, t764, t772, t773, t774, t776, t777, t784;
  double t788, t792, t794, t798, t800, t803, t806, t808;
  double t810, t816, t829, t836, t838, t844, t847, t848;
  double t850, t853, t863, t870, t877, t878, t879, t881;
  double t883, t886, t890, t891, t894, t897, t898, t910;
  double t911, t913, t914, t915, t916, t917, t920, t923;
  double t926, t929, t930, t931, t933, t935, t939, t943;
  double t946, t957, t959, t965, t966, t989, t990, t993;
  double t994, t996, t997, t1001, t1002, t1003, t1004, t1005;
  double t1006, t1007, t1008, t1009, t1010, t1014, t1016, t1017;
  double t1018, t1021, t1022, t1024, t1033, t1037, t1045, t1046;
  double t1052, t1056, t1068, t1073, t1088, t1093, t1095, t1096;
  double t1097, t1101, t1106, t1110, t1115, t1116, t1118, t1124;
  double t1128, t1136, t1138, t1141, t1142, t1145, t1147, t1149;
  double t1150, t1153, t1158, t1161, t1162, t1165, t1168, t1171;
  double t1174, t1176, t1183, t1192, t1214, t1215, t1218, t1219;
  double t1220, t1223, t1224, t1228, t1231, t1232, t1238, t1242;
  double t1250, t1252, t1260, t1280, t1285, t1287, t1288, t1297;
  double t1299, t1302, t1306, t1310, t1314, t1323, t1325, t1326;
  double t1329, t1332, t1334, t1336, t1337, t1342, t1345, t1348;
  double t1351, t1354, t1356, t1363, t1369, t1373, t1374, t1379;
  double t1399, t1400, t1403, t1404, t1405, t1408, t1409, t1413;
  double t1416, t1417, t1423, t1427, t1442, t1458, t1462, t1475;
  double t1477, t1479, t1483, t1488, t1490, t1495, t1496, t1499;
  double t1504, t1509, t1519, t1520, t1523, t1526, t1547, t1549;
  double t1557, t1570, t1572, t1581, t1585, t1594, t1596, t1599;
  double t1603, t1607, t1611, t1620, t1622, t1623, t1626, t1629;
  double t1631, t1638, t1643, t1649, t1653, t1658, t1663, t1664;
  double t1667, t1670, t1698, t1722, t1726, t1731, t1733, t1735;
  double t1739, t1745, t1751, t1758, t1766, t1769, t1781, t1784;
  double t1788, t1789, t1793, t1797, t1806, t1830, t1837, t1838;
  double t1839, t1848, t1854, t1861, t1869, t1872, t1884, t1887;
  double t1891, t1892, t1896, t1900, t1909, t1933, t1940, t1941;
  double t1942, t1947, t1949, t1972, t1974, t1975, t1986, t1992;
  double t2020, t2032, t2033, t2034, t2039, t2041, t2064, t2066;
  double t2067, t2078, t2084, t2112, t2124, t2125, t2126, t2133;
  double t2141, t2156, t2160, t2161, t2169, t2202, t2203, t2204;
  double t2211, t2219, t2234, t2238, t2239, t2247, t2280, t2281;
#endif

#endif

#endif


  mgga_x_mbr_params *params;

  assert(p->params != NULL);
  params = (mgga_x_mbr_params * ) (p->params);

  t2 = 0.101e1 * p->threshold_dens;
  t3 = rho[0] <= t2;
  t4 = M_CBRT2;
  t5 = t4 * rho[0];
  t6 = rho[0] + rho[1];
  t7 = POW_1_3(t6);
  t8 = t7 * t7;
  t9 = 0.1e1 / t8;
  t10 = 0.1e1 / t6;
  t11 = rho[0] * t10;
  t12 = POW_1_3(t11);
  t14 = t5 * t9 * t12;
  t16 = POW_1_3(0.1e1 / M_PI);
  t17 = 0.1e1 / t16;
  t18 = M_CBRT4;
  t19 = t17 * t18;
  t20 = params->lambda * params->lambda;
  t21 = t20 - params->lambda + 0.1e1 / 0.2e1;
  t22 = POW_1_3(rho[0]);
  t23 = t22 * t22;
  t25 = 0.1e1 / t23 / rho[0];
  t27 = 0.2e1 * tau[0] * t25;
  t28 = M_CBRT6;
  t29 = t28 * t28;
  t30 = M_PI * M_PI;
  t31 = POW_1_3(t30);
  t32 = t31 * t31;
  t33 = t29 * t32;
  t34 = 0.3e1 / 0.10e2 * t33;
  t35 = rho[0] * rho[0];
  t37 = 0.1e1 / t23 / t35;
  t44 = POW_2(0.2e1 * params->lambda - 0.1e1);
  t45 = t44 * t28;
  t46 = 0.1e1 / t32;
  t47 = t46 * sigma[0];
  t51 = t44 * t44;
  t52 = params->beta * t51;
  t53 = t52 * t29;
  t55 = 0.1e1 / t31 / t30;
  t56 = sigma[0] * sigma[0];
  t57 = t55 * t56;
  t58 = t35 * t35;
  t61 = 0.1e1 / t22 / t58 / rho[0];
  t65 = 0.1e1 + 0.175e3 / 0.162e3 * t45 * t47 * t37 + t53 * t57 * t61 / 0.576e3;
  t66 = pow(t65, 0.1e1 / 0.5e1);
  t70 = t44 * sigma[0];
  t76 = -t21 * (t27 - t34 - sigma[0] * t37 / 0.36e2) - t33 * (t66 - 0.1e1) / 0.5e1 + params->gamma * (t27 - t70 * t37 / 0.4e1) / 0.3e1;
  t77 = fabs(t76);
  t78 = t77 < 0.50e-12;
  t79 = -t76;
  t80 = 0.0e0 < t79;
  t81 = my_piecewise3(t80, 0.50e-12, -0.50e-12);
  t82 = my_piecewise3(t78, t81, t79);
  t83 = xc_mgga_x_br89_get_x(t82);
  t85 = exp(t83 / 0.3e1);
  t86 = exp(-t83);
  t89 = t86 * (0.1e1 + t83 / 0.2e1);
  t90 = 0.1e1 - t89;
  t91 = t85 * t90;
  t92 = 0.1e1 / t83;
  t94 = t19 * t91 * t92;
  t97 = my_piecewise3(t3, 0, -t14 * t94 / 0.2e1);
  t98 = rho[1] <= t2;
  t99 = t4 * rho[1];
  t100 = rho[1] * t10;
  t101 = POW_1_3(t100);
  t103 = t99 * t9 * t101;
  t104 = POW_1_3(rho[1]);
  t105 = t104 * t104;
  t107 = 0.1e1 / t105 / rho[1];
  t109 = 0.2e1 * tau[1] * t107;
  t110 = rho[1] * rho[1];
  t112 = 0.1e1 / t105 / t110;
  t117 = t46 * sigma[2];
  t121 = sigma[2] * sigma[2];
  t122 = t55 * t121;
  t123 = t110 * t110;
  t126 = 0.1e1 / t104 / t123 / rho[1];
  t130 = 0.1e1 + 0.175e3 / 0.162e3 * t45 * t117 * t112 + t53 * t122 * t126 / 0.576e3;
  t131 = pow(t130, 0.1e1 / 0.5e1);
  t135 = t44 * sigma[2];
  t141 = -t21 * (t109 - t34 - sigma[2] * t112 / 0.36e2) - t33 * (t131 - 0.1e1) / 0.5e1 + params->gamma * (t109 - t135 * t112 / 0.4e1) / 0.3e1;
  t142 = fabs(t141);
  t143 = t142 < 0.50e-12;
  t144 = -t141;
  t145 = 0.0e0 < t144;
  t146 = my_piecewise3(t145, 0.50e-12, -0.50e-12);
  t147 = my_piecewise3(t143, t146, t144);
  t148 = xc_mgga_x_br89_get_x(t147);
  t150 = exp(t148 / 0.3e1);
  t151 = exp(-t148);
  t154 = t151 * (0.1e1 + t148 / 0.2e1);
  t155 = 0.1e1 - t154;
  t156 = t150 * t155;
  t157 = 0.1e1 / t148;
  t159 = t19 * t156 * t157;
  t162 = my_piecewise3(t98, 0, -t103 * t159 / 0.2e1);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t97 + t162;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t163 = t4 * t9;
  t164 = t12 * t17;
  t165 = t163 * t164;
  t166 = t18 * t85;
  t167 = t90 * t92;
  t168 = t166 * t167;
  t172 = 0.1e1 / t8 / t6;
  t174 = t5 * t172 * t12;
  t176 = t174 * t94 / 0.3e1;
  t177 = t12 * t12;
  t178 = 0.1e1 / t177;
  t179 = t9 * t178;
  t181 = t5 * t179 * t17;
  t182 = t6 * t6;
  t183 = 0.1e1 / t182;
  t185 = -rho[0] * t183 + t10;
  t187 = t166 * t167 * t185;
  t190 = t5 * t9;
  t191 = M_CBRTPI;
  t192 = t191 * t191;
  t193 = t18 * t192;
  t194 = t164 * t193;
  t195 = t190 * t194;
  t196 = my_piecewise3(t80, 0, 0);
  t198 = 0.10e2 / 0.3e1 * tau[0] * t37;
  t199 = t35 * rho[0];
  t201 = 0.1e1 / t23 / t199;
  t206 = t66 * t66;
  t207 = t206 * t206;
  t208 = 0.1e1 / t207;
  t214 = 0.1e1 / t22 / t58 / t35;
  t218 = -0.700e3 / 0.243e3 * t45 * t47 * t201 - t53 * t57 * t214 / 0.108e3;
  t228 = my_piecewise3(t78, t196, t21 * (-t198 + 0.2e1 / 0.27e2 * sigma[0] * t201) + t33 * t208 * t218 / 0.25e2 - params->gamma * (-t198 + 0.2e1 / 0.3e1 * t70 * t201) / 0.3e1);
  t229 = t82 * t82;
  t230 = 0.1e1 / t229;
  t231 = t228 * t230;
  t233 = exp(-0.2e1 / 0.3e1 * t83);
  t234 = 0.1e1 / t233;
  t235 = t83 * t83;
  t237 = t235 - 0.2e1 * t83 + 0.3e1;
  t238 = 0.1e1 / t237;
  t239 = t234 * t238;
  t240 = t231 * t239;
  t241 = t83 - 0.2e1;
  t242 = t241 * t241;
  t243 = t242 * t85;
  t244 = t243 * t167;
  t245 = t240 * t244;
  t248 = t192 * t228;
  t249 = t230 * t234;
  t250 = t248 * t249;
  t251 = t238 * t242;
  t252 = t251 * t89;
  t254 = t248 * t230;
  t256 = t239 * t242 * t86;
  t259 = t250 * t252 - t254 * t256 / 0.2e1;
  t262 = t19 * t85 * t259 * t92;
  t265 = t164 * t166;
  t266 = t190 * t265;
  t267 = 0.1e1 / t235;
  t268 = t90 * t267;
  t270 = t249 * t251;
  t271 = t268 * t248 * t270;
  t275 = my_piecewise3(t3, 0, -t165 * t168 / 0.2e1 + t176 - t181 * t187 / 0.6e1 - t195 * t245 / 0.6e1 - t14 * t262 / 0.2e1 + t266 * t271 / 0.2e1);
  t277 = t99 * t172 * t101;
  t279 = t277 * t159 / 0.3e1;
  t280 = t4 * t110;
  t282 = 0.1e1 / t8 / t182;
  t283 = t101 * t101;
  t284 = 0.1e1 / t283;
  t286 = t280 * t282 * t284;
  t290 = my_piecewise3(t98, 0, t279 + t286 * t159 / 0.6e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t97 + t162 + t6 * (t275 + t290);

  t293 = t4 * t35;
  t294 = t282 * t178;
  t295 = t293 * t294;
  t299 = my_piecewise3(t3, 0, t176 + t295 * t94 / 0.6e1);
  t300 = t101 * t17;
  t301 = t163 * t300;
  t302 = t18 * t150;
  t303 = t155 * t157;
  t304 = t302 * t303;
  t307 = t9 * t284;
  t309 = t99 * t307 * t17;
  t311 = -rho[1] * t183 + t10;
  t313 = t302 * t303 * t311;
  t316 = t99 * t9;
  t317 = t300 * t193;
  t318 = t316 * t317;
  t319 = my_piecewise3(t145, 0, 0);
  t321 = 0.10e2 / 0.3e1 * tau[1] * t112;
  t322 = t110 * rho[1];
  t324 = 0.1e1 / t105 / t322;
  t329 = t131 * t131;
  t330 = t329 * t329;
  t331 = 0.1e1 / t330;
  t337 = 0.1e1 / t104 / t123 / t110;
  t341 = -0.700e3 / 0.243e3 * t45 * t117 * t324 - t53 * t122 * t337 / 0.108e3;
  t351 = my_piecewise3(t143, t319, t21 * (-t321 + 0.2e1 / 0.27e2 * sigma[2] * t324) + t33 * t331 * t341 / 0.25e2 - params->gamma * (-t321 + 0.2e1 / 0.3e1 * t135 * t324) / 0.3e1);
  t352 = t147 * t147;
  t353 = 0.1e1 / t352;
  t354 = t351 * t353;
  t356 = exp(-0.2e1 / 0.3e1 * t148);
  t357 = 0.1e1 / t356;
  t358 = t148 * t148;
  t360 = t358 - 0.2e1 * t148 + 0.3e1;
  t361 = 0.1e1 / t360;
  t362 = t357 * t361;
  t363 = t354 * t362;
  t364 = t148 - 0.2e1;
  t365 = t364 * t364;
  t366 = t365 * t150;
  t367 = t366 * t303;
  t368 = t363 * t367;
  t371 = t192 * t351;
  t372 = t353 * t357;
  t373 = t371 * t372;
  t374 = t361 * t365;
  t375 = t374 * t154;
  t377 = t371 * t353;
  t379 = t362 * t365 * t151;
  t382 = t373 * t375 - t377 * t379 / 0.2e1;
  t385 = t19 * t150 * t382 * t157;
  t388 = t300 * t302;
  t389 = t316 * t388;
  t390 = 0.1e1 / t358;
  t391 = t155 * t390;
  t393 = t372 * t374;
  t394 = t391 * t371 * t393;
  t398 = my_piecewise3(t98, 0, -t301 * t304 / 0.2e1 + t279 - t309 * t313 / 0.6e1 - t318 * t368 / 0.6e1 - t103 * t385 / 0.2e1 + t389 * t394 / 0.2e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t97 + t162 + t6 * (t299 + t398);

  t401 = t21 * t37;
  t406 = t55 * sigma[0];
  t410 = 0.175e3 / 0.162e3 * t45 * t46 * t37 + t53 * t406 * t61 / 0.288e3;
  t414 = params->gamma * t44;
  t418 = my_piecewise3(t78, t196, -t401 / 0.36e2 + t33 * t208 * t410 / 0.25e2 + t414 * t37 / 0.12e2);
  t419 = t418 * t230;
  t420 = t419 * t239;
  t421 = t420 * t244;
  t424 = t192 * t418;
  t425 = t424 * t249;
  t427 = t424 * t230;
  t430 = t425 * t252 - t427 * t256 / 0.2e1;
  t433 = t19 * t85 * t430 * t92;
  t437 = t268 * t424 * t270;
  t441 = my_piecewise3(t3, 0, -t195 * t421 / 0.6e1 - t14 * t433 / 0.2e1 + t266 * t437 / 0.2e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t6 * t441;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t442 = t21 * t112;
  t447 = t55 * sigma[2];
  t451 = 0.175e3 / 0.162e3 * t45 * t46 * t112 + t53 * t447 * t126 / 0.288e3;
  t458 = my_piecewise3(t143, t319, -t442 / 0.36e2 + t33 * t331 * t451 / 0.25e2 + t414 * t112 / 0.12e2);
  t459 = t458 * t353;
  t460 = t459 * t362;
  t461 = t460 * t367;
  t464 = t192 * t458;
  t465 = t464 * t372;
  t467 = t464 * t353;
  t470 = t465 * t375 - t467 * t379 / 0.2e1;
  t473 = t19 * t150 * t470 * t157;
  t477 = t391 * t464 * t393;
  t481 = my_piecewise3(t98, 0, -t318 * t461 / 0.6e1 - t103 * t473 / 0.2e1 + t389 * t477 / 0.2e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t6 * t481;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[0] = 0.0e0;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[1] = 0.0e0;

  t487 = my_piecewise3(t78, t196, 0.2e1 * t21 * t25 - 0.2e1 / 0.3e1 * params->gamma * t25);
  t488 = t487 * t230;
  t489 = t488 * t239;
  t490 = t489 * t244;
  t493 = t192 * t487;
  t494 = t493 * t249;
  t496 = t493 * t230;
  t499 = t494 * t252 - t496 * t256 / 0.2e1;
  t502 = t19 * t85 * t499 * t92;
  t506 = t268 * t493 * t270;
  t510 = my_piecewise3(t3, 0, -t195 * t490 / 0.6e1 - t14 * t502 / 0.2e1 + t266 * t506 / 0.2e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[0] = t6 * t510;

  t516 = my_piecewise3(t143, t319, 0.2e1 * t21 * t107 - 0.2e1 / 0.3e1 * params->gamma * t107);
  t517 = t516 * t353;
  t518 = t517 * t362;
  t519 = t518 * t367;
  t522 = t192 * t516;
  t523 = t522 * t372;
  t525 = t522 * t353;
  t528 = t523 * t375 - t525 * t379 / 0.2e1;
  t531 = t19 * t150 * t528 * t157;
  t535 = t391 * t522 * t393;
  t539 = my_piecewise3(t98, 0, -t318 * t519 / 0.6e1 - t103 * t531 / 0.2e1 + t389 * t535 / 0.2e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[1] = t6 * t539;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t545 = 0.5e1 / 0.9e1 * t5 * t282 * t12 * t94;
  t546 = t178 * t17;
  t550 = t174 * t262;
  t553 = 0.80e2 / 0.9e1 * tau[0] * t201;
  t555 = 0.1e1 / t23 / t58;
  t561 = 0.1e1 / t207 / t65;
  t562 = t218 * t218;
  t585 = my_piecewise3(t78, t196, t21 * (t553 - 0.22e2 / 0.81e2 * sigma[0] * t555) - 0.4e1 / 0.125e3 * t33 * t561 * t562 + t33 * t208 * (0.7700e4 / 0.729e3 * t45 * t47 * t555 + 0.19e2 / 0.324e3 * t53 * t57 / t22 / t58 / t199) / 0.25e2 - params->gamma * (t553 - 0.22e2 / 0.9e1 * t70 * t555) / 0.3e1);
  t586 = t192 * t585;
  t589 = t228 * t228;
  t590 = t192 * t589;
  t592 = 0.1e1 / t229 / t82;
  t593 = t592 * t234;
  t597 = t191 * M_PI;
  t598 = t597 * t589;
  t599 = t229 * t229;
  t600 = 0.1e1 / t599;
  t601 = t233 * t233;
  t602 = 0.1e1 / t601;
  t603 = t600 * t602;
  t604 = t598 * t603;
  t605 = t237 * t237;
  t606 = 0.1e1 / t605;
  t607 = t242 * t242;
  t608 = t606 * t607;
  t609 = t608 * t89;
  t612 = t606 * t242;
  t613 = t83 * t192;
  t616 = t239 * t242;
  t619 = 0.2e1 * t613 * t228 * t270 - 0.2e1 * t254 * t616;
  t621 = t612 * t89 * t619;
  t623 = t242 * t241;
  t624 = t606 * t623;
  t625 = t624 * t89;
  t628 = t598 * t600;
  t629 = t602 * t606;
  t631 = t629 * t607 * t86;
  t640 = t612 * t86 * t619;
  t644 = t629 * t623 * t86;
  t652 = t163 * t12;
  t653 = t19 * t248;
  t656 = t249 * t238 * t244;
  t659 = t19 * t91;
  t660 = t652 * t659;
  t661 = t267 * t192;
  t665 = t259 * t92;
  t668 = t4 * t172;
  t670 = t668 * t164 * t168;
  t673 = 0.1e1 / t177 / t11;
  t677 = t185 * t185;
  t685 = t5 * t172 * t178 * t17 * t187;
  t691 = t182 * t6;
  t692 = 0.1e1 / t691;
  t700 = t5 * t179;
  t704 = t270 * t91 * t92 * t185;
  t707 = t700 * t659;
  t713 = -t545 - t163 * t546 * t187 / 0.3e1 + 0.2e1 / 0.3e1 * t550 - t14 * t19 * t85 * (t586 * t249 * t252 - 0.2e1 * t590 * t593 * t252 - t604 * t609 / 0.3e1 - t250 * t621 + 0.2e1 * t604 * t625 + 0.2e1 / 0.3e1 * t628 * t631 - t586 * t230 * t256 / 0.2e1 + t590 * t592 * t256 + t250 * t640 / 0.2e1 - t628 * t644) * t92 / 0.2e1 - t652 * t653 * t656 / 0.3e1 + t660 * t661 * t228 * t270 - t165 * t166 * t665 + 0.2e1 / 0.3e1 * t670 + t5 * t9 * t673 * t17 * t166 * t167 * t677 / 0.9e1 + 0.2e1 / 0.9e1 * t685 - t181 * t166 * t665 * t185 / 0.3e1 - t181 * t166 * t167 * (0.2e1 * rho[0] * t692 - 0.2e1 * t183) / 0.6e1 - t700 * t653 * t704 / 0.9e1 + t707 * t267 * t185 * t248 * t270 / 0.3e1;
  t714 = t14 * t659;
  t716 = t234 * t606;
  t718 = t716 * t242 * t619;
  t723 = t249 * t612;
  t726 = t723 * t91 * t92 * t619;
  t729 = t18 * t597;
  t731 = t190 * t164 * t729;
  t733 = t589 * t600 * t629;
  t735 = t623 * t85 * t167;
  t739 = t607 * t85;
  t740 = t739 * t268;
  t745 = 0.1e1 / t235 / t83;
  t746 = t90 * t745;
  t748 = t603 * t608;
  t752 = t603 * t624;
  t756 = t593 * t251;
  t764 = t259 * t267;
  t772 = t5 * t172;
  t773 = t772 * t194;
  t774 = t773 * t245;
  t776 = t772 * t265;
  t777 = t776 * t271;
  t784 = t243 * t665;
  t788 = t739 * t167;
  t792 = -t714 * t661 * t231 * t718 / 0.2e1 + t14 * t653 * t726 / 0.6e1 - t731 * t733 * t735 / 0.3e1 + 0.2e1 / 0.3e1 * t731 * t733 * t740 - t266 * t746 * t598 * t748 + t266 * t268 * t598 * t752 - t266 * t268 * t590 * t756 + t195 * t589 * t592 * t239 * t244 / 0.3e1 + t266 * t764 * t248 * t270 + t266 * t268 * t586 * t270 / 0.2e1 + 0.2e1 / 0.9e1 * t774 - 0.2e1 / 0.3e1 * t777 - t195 * t585 * t230 * t239 * t244 / 0.6e1 - t195 * t240 * t784 / 0.3e1 - t731 * t733 * t788 / 0.6e1;
  t794 = my_piecewise3(t3, 0, t713 + t792);
  t798 = 0.5e1 / 0.9e1 * t99 * t282 * t101 * t159;
  t800 = 0.1e1 / t8 / t691;
  t803 = t280 * t800 * t284 * t159;
  t806 = t182 * t182;
  t808 = 0.1e1 / t8 / t806;
  t810 = 0.1e1 / t283 / t100;
  t816 = my_piecewise3(t98, 0, -t798 - 0.5e1 / 0.9e1 * t803 + t4 * t322 * t808 * t810 * t159 / 0.9e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t275 + 0.2e1 * t290 + t6 * (t794 + t816);

  t829 = t293 * t800 * t178 * t94;
  t836 = t293 * t282;
  t838 = t836 * t546 * t193;
  t844 = t836 * t546 * t166;
  t847 = t670 / 0.3e1 - t545 + t685 / 0.9e1 + t774 / 0.9e1 + t550 / 0.3e1 - t777 / 0.3e1 + t5 * t294 * t94 / 0.3e1 - 0.4e1 / 0.9e1 * t829 - t293 * t282 * t673 * t17 * t187 / 0.9e1 + t838 * t245 / 0.18e2 + t295 * t262 / 0.6e1 - t844 * t271 / 0.6e1;
  t848 = my_piecewise3(t3, 0, t847);
  t850 = t668 * t300 * t304;
  t853 = t284 * t17;
  t863 = t99 * t172 * t284 * t17 * t313;
  t870 = rho[1] * t692;
  t877 = t99 * t172;
  t878 = t877 * t317;
  t879 = t878 * t368;
  t881 = t280 * t282;
  t883 = t881 * t853 * t193;
  t886 = t277 * t385;
  t890 = t877 * t388;
  t891 = t890 * t394;
  t894 = t881 * t853 * t302;
  t897 = t850 / 0.3e1 + t4 * t282 * t853 * t302 * t303 * rho[1] / 0.6e1 - t798 - t803 / 0.9e1 + t863 / 0.9e1 - t280 * t282 * t810 * t17 * t313 / 0.9e1 - t309 * t302 * t303 * (-t183 + 0.2e1 * t870) / 0.6e1 + t879 / 0.9e1 + t883 * t368 / 0.18e2 + t886 / 0.3e1 + t286 * t385 / 0.6e1 - t891 / 0.3e1 - t894 * t394 / 0.6e1;
  t898 = my_piecewise3(t98, 0, t897);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t275 + t290 + t299 + t398 + t6 * (t848 + t898);

  t910 = my_piecewise3(t3, 0, -t545 - 0.5e1 / 0.9e1 * t829 + t4 * t199 * t808 * t673 * t94 / 0.9e1);
  t911 = t19 * t371;
  t913 = t360 * t360;
  t914 = 0.1e1 / t913;
  t915 = t914 * t365;
  t916 = t372 * t915;
  t917 = t148 * t192;
  t920 = t362 * t365;
  t923 = 0.2e1 * t917 * t351 * t393 - 0.2e1 * t377 * t920;
  t926 = t916 * t156 * t157 * t923;
  t929 = t19 * t156;
  t930 = t103 * t929;
  t931 = t390 * t192;
  t933 = t357 * t914;
  t935 = t933 * t365 * t923;
  t939 = t99 * t307;
  t943 = t393 * t156 * t157 * t311;
  t946 = t939 * t929;
  t957 = 0.80e2 / 0.9e1 * tau[1] * t324;
  t959 = 0.1e1 / t105 / t123;
  t965 = 0.1e1 / t330 / t130;
  t966 = t341 * t341;
  t989 = my_piecewise3(t143, t319, t21 * (t957 - 0.22e2 / 0.81e2 * sigma[2] * t959) - 0.4e1 / 0.125e3 * t33 * t965 * t966 + t33 * t331 * (0.7700e4 / 0.729e3 * t45 * t117 * t959 + 0.19e2 / 0.324e3 * t53 * t122 / t104 / t123 / t322) / 0.25e2 - params->gamma * (t957 - 0.22e2 / 0.9e1 * t135 * t959) / 0.3e1);
  t990 = t192 * t989;
  t993 = t351 * t351;
  t994 = t192 * t993;
  t996 = 0.1e1 / t352 / t147;
  t997 = t996 * t357;
  t1001 = t597 * t993;
  t1002 = t352 * t352;
  t1003 = 0.1e1 / t1002;
  t1004 = t356 * t356;
  t1005 = 0.1e1 / t1004;
  t1006 = t1003 * t1005;
  t1007 = t1001 * t1006;
  t1008 = t365 * t365;
  t1009 = t914 * t1008;
  t1010 = t1009 * t154;
  t1014 = t915 * t154 * t923;
  t1016 = t365 * t364;
  t1017 = t914 * t1016;
  t1018 = t1017 * t154;
  t1021 = t1001 * t1003;
  t1022 = t1005 * t914;
  t1024 = t1022 * t1008 * t151;
  t1033 = t915 * t151 * t923;
  t1037 = t1022 * t1016 * t151;
  t1045 = t163 * t101;
  t1046 = t1045 * t929;
  t1052 = t372 * t361 * t367;
  t1056 = t382 * t157;
  t1068 = t311 * t311;
  t1073 = t103 * t911 * t926 / 0.6e1 - t930 * t931 * t354 * t935 / 0.2e1 - t939 * t911 * t943 / 0.9e1 + t946 * t390 * t311 * t371 * t393 / 0.3e1 + 0.2e1 / 0.3e1 * t886 - t163 * t853 * t313 / 0.3e1 - t103 * t19 * t150 * (t990 * t372 * t375 - 0.2e1 * t994 * t997 * t375 - t1007 * t1010 / 0.3e1 - t373 * t1014 + 0.2e1 * t1007 * t1018 + 0.2e1 / 0.3e1 * t1021 * t1024 - t990 * t353 * t379 / 0.2e1 + t994 * t996 * t379 + t373 * t1033 / 0.2e1 - t1021 * t1037) * t157 / 0.2e1 - t798 + t1046 * t931 * t351 * t393 - t1045 * t911 * t1052 / 0.3e1 + 0.2e1 / 0.3e1 * t850 - t301 * t302 * t1056 - t309 * t302 * t303 * (-0.2e1 * t183 + 0.2e1 * t870) / 0.6e1 + t99 * t9 * t810 * t17 * t302 * t303 * t1068 / 0.9e1;
  t1088 = t366 * t1056;
  t1093 = t316 * t300 * t729;
  t1095 = t993 * t1003 * t1022;
  t1096 = t1008 * t150;
  t1097 = t1096 * t303;
  t1101 = t382 * t390;
  t1106 = t1016 * t150 * t303;
  t1110 = t1096 * t391;
  t1115 = 0.1e1 / t358 / t148;
  t1116 = t155 * t1115;
  t1118 = t1006 * t1009;
  t1124 = t1006 * t1017;
  t1128 = t997 * t374;
  t1136 = 0.2e1 / 0.9e1 * t863 - t309 * t302 * t1056 * t311 / 0.3e1 + t389 * t391 * t990 * t393 / 0.2e1 - t318 * t989 * t353 * t362 * t367 / 0.6e1 - t318 * t363 * t1088 / 0.3e1 - t1093 * t1095 * t1097 / 0.6e1 + t389 * t1101 * t371 * t393 - t1093 * t1095 * t1106 / 0.3e1 + 0.2e1 / 0.3e1 * t1093 * t1095 * t1110 - t389 * t1116 * t1001 * t1118 + 0.2e1 / 0.9e1 * t879 - 0.2e1 / 0.3e1 * t891 + t389 * t391 * t1001 * t1124 - t389 * t391 * t994 * t1128 + t318 * t993 * t996 * t362 * t367 / 0.3e1;
  t1138 = my_piecewise3(t98, 0, t1073 + t1136);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t299 + 0.2e1 * t398 + t6 * (t910 + t1138);

  t1141 = t19 * t424;
  t1142 = t14 * t1141;
  t1145 = t597 * t418;
  t1147 = t14 * t19 * t1145;
  t1149 = t91 * t92 * t228;
  t1150 = t748 * t1149;
  t1153 = t752 * t1149;
  t1158 = t748 * t91 * t267 * t228;
  t1161 = t745 * t597;
  t1162 = t418 * t600;
  t1165 = t629 * t607 * t228;
  t1168 = t267 * t597;
  t1171 = t629 * t623 * t228;
  t1174 = t661 * t419;
  t1176 = t239 * t242 * t185;
  t1183 = t239 * t242 * t228;
  t1192 = t756 * t1149;
  t1214 = my_piecewise3(t78, t196, 0.2e1 / 0.27e2 * t21 * t201 - 0.4e1 / 0.125e3 * t33 * t561 * t410 * t218 + t33 * t208 * (-0.700e3 / 0.243e3 * t45 * t46 * t201 - t53 * t406 * t214 / 0.54e2) / 0.25e2 - 0.2e1 / 0.9e1 * t414 * t201);
  t1215 = t192 * t1214;
  t1218 = t424 * t593;
  t1219 = t89 * t228;
  t1220 = t251 * t1219;
  t1223 = t1145 * t603;
  t1224 = t608 * t1219;
  t1228 = t624 * t1219;
  t1231 = t86 * t228;
  t1232 = t608 * t1231;
  t1238 = t251 * t1231;
  t1242 = t624 * t1231;
  t1250 = t1142 * t726 / 0.6e1 - t1147 * t1150 / 0.6e1 - t1147 * t1153 / 0.3e1 + 0.2e1 / 0.3e1 * t1147 * t1158 - t714 * t1161 * t1162 * t1165 + t714 * t1168 * t1162 * t1171 + t707 * t1174 * t1176 / 0.6e1 - t714 * t661 * t418 * t592 * t1183 - t714 * t1174 * t718 / 0.2e1 - t700 * t1141 * t704 / 0.18e2 + t1142 * t1192 / 0.3e1 - t14 * t19 * t85 * (t1215 * t249 * t252 - 0.2e1 * t1218 * t1220 - t1223 * t1224 / 0.3e1 - t425 * t621 + 0.2e1 * t1223 * t1228 + 0.2e1 / 0.3e1 * t1223 * t1232 - t1215 * t230 * t256 / 0.2e1 + t1218 * t1238 + t425 * t640 / 0.2e1 - t1223 * t1242) * t92 / 0.2e1;
  t1252 = t174 * t433 / 0.3e1;
  t1260 = t430 * t92;
  t1280 = t243 * t1260;
  t1285 = t776 * t437 / 0.3e1;
  t1287 = t773 * t421 / 0.9e1;
  t1288 = t430 * t267;
  t1297 = t1252 + t660 * t661 * t418 * t270 / 0.2e1 - t652 * t1141 * t656 / 0.6e1 - t165 * t166 * t1260 / 0.2e1 - t181 * t166 * t1260 * t185 / 0.6e1 + t266 * t268 * t1215 * t270 / 0.2e1 - t195 * t1214 * t230 * t239 * t244 / 0.6e1 - t195 * t420 * t784 / 0.6e1 - t195 * t240 * t1280 / 0.6e1 - t1285 + t1287 + t266 * t1288 * t248 * t270 / 0.2e1 + t266 * t764 * t424 * t270 / 0.2e1;
  t1299 = my_piecewise3(t3, 0, t1250 + t1297);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t6 * t1299 + t441;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t1302 = t878 * t461 / 0.9e1;
  t1306 = t277 * t473 / 0.3e1;
  t1310 = t890 * t477 / 0.3e1;
  t1314 = my_piecewise3(t98, 0, t1302 + t883 * t461 / 0.18e2 + t1306 + t286 * t473 / 0.6e1 - t1310 - t894 * t477 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t6 * t1314 + t481;

  t1323 = my_piecewise3(t3, 0, t1287 + t838 * t421 / 0.18e2 + t1252 + t295 * t433 / 0.6e1 - t1285 - t844 * t437 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t6 * t1323 + t441;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t1325 = t390 * t597;
  t1326 = t458 * t1003;
  t1329 = t1022 * t1016 * t351;
  t1332 = t597 * t458;
  t1334 = t103 * t19 * t1332;
  t1336 = t156 * t157 * t351;
  t1337 = t1124 * t1336;
  t1342 = t1118 * t156 * t390 * t351;
  t1345 = t1115 * t597;
  t1348 = t1022 * t1008 * t351;
  t1351 = t1118 * t1336;
  t1354 = t931 * t459;
  t1356 = t362 * t365 * t311;
  t1363 = t362 * t365 * t351;
  t1369 = t19 * t464;
  t1373 = t103 * t1369;
  t1374 = t1128 * t1336;
  t1379 = t930 * t1325 * t1326 * t1329 - t1334 * t1337 / 0.3e1 + 0.2e1 / 0.3e1 * t1334 * t1342 - t930 * t1345 * t1326 * t1348 - t1334 * t1351 / 0.6e1 + t946 * t1354 * t1356 / 0.6e1 - t930 * t931 * t458 * t996 * t1363 - t930 * t1354 * t935 / 0.2e1 - t939 * t1369 * t943 / 0.18e2 + t1373 * t1374 / 0.3e1 + t1373 * t926 / 0.6e1 + t1306;
  t1399 = my_piecewise3(t143, t319, 0.2e1 / 0.27e2 * t21 * t324 - 0.4e1 / 0.125e3 * t33 * t965 * t451 * t341 + t33 * t331 * (-0.700e3 / 0.243e3 * t45 * t46 * t324 - t53 * t447 * t337 / 0.54e2) / 0.25e2 - 0.2e1 / 0.9e1 * t414 * t324);
  t1400 = t192 * t1399;
  t1403 = t464 * t997;
  t1404 = t154 * t351;
  t1405 = t374 * t1404;
  t1408 = t1332 * t1006;
  t1409 = t1009 * t1404;
  t1413 = t1017 * t1404;
  t1416 = t151 * t351;
  t1417 = t1009 * t1416;
  t1423 = t374 * t1416;
  t1427 = t1017 * t1416;
  t1442 = t470 * t157;
  t1458 = t366 * t1442;
  t1462 = t470 * t390;
  t1475 = -t103 * t19 * t150 * (t1400 * t372 * t375 - 0.2e1 * t1403 * t1405 - t1408 * t1409 / 0.3e1 - t465 * t1014 + 0.2e1 * t1408 * t1413 + 0.2e1 / 0.3e1 * t1408 * t1417 - t1400 * t353 * t379 / 0.2e1 + t1403 * t1423 + t465 * t1033 / 0.2e1 - t1408 * t1427) * t157 / 0.2e1 - t1045 * t1369 * t1052 / 0.6e1 + t1046 * t931 * t458 * t393 / 0.2e1 - t301 * t302 * t1442 / 0.2e1 - t309 * t302 * t1442 * t311 / 0.6e1 - t318 * t1399 * t353 * t362 * t367 / 0.6e1 - t318 * t460 * t1088 / 0.6e1 - t318 * t363 * t1458 / 0.6e1 + t389 * t1462 * t371 * t393 / 0.2e1 + t389 * t1101 * t464 * t393 / 0.2e1 + t1302 - t1310 + t389 * t391 * t1400 * t393 / 0.2e1;
  t1477 = my_piecewise3(t98, 0, t1379 + t1475);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t6 * t1477 + t481;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[3] = 0.0e0;

  t1479 = t19 * t493;
  t1483 = t14 * t1479;
  t1488 = t597 * t487;
  t1490 = t14 * t19 * t1488;
  t1495 = t487 * t600;
  t1496 = t1161 * t1495;
  t1499 = t1168 * t1495;
  t1504 = t661 * t488;
  t1509 = t661 * t487 * t592;
  t1519 = my_piecewise3(t78, t196, -0.10e2 / 0.3e1 * t401 + 0.10e2 / 0.9e1 * params->gamma * t37);
  t1520 = t192 * t1519;
  t1523 = t493 * t593;
  t1526 = t1488 * t603;
  t1547 = -t700 * t1479 * t704 / 0.18e2 + t1483 * t1192 / 0.3e1 + t1483 * t726 / 0.6e1 - t1490 * t1153 / 0.3e1 + 0.2e1 / 0.3e1 * t1490 * t1158 - t714 * t1496 * t1165 + t714 * t1499 * t1171 - t1490 * t1150 / 0.6e1 + t707 * t1504 * t1176 / 0.6e1 - t714 * t1509 * t1183 - t714 * t1504 * t718 / 0.2e1 - t14 * t19 * t85 * (t1520 * t249 * t252 - 0.2e1 * t1523 * t1220 - t1526 * t1224 / 0.3e1 - t494 * t621 + 0.2e1 * t1526 * t1228 + 0.2e1 / 0.3e1 * t1526 * t1232 - t1520 * t230 * t256 / 0.2e1 + t1523 * t1238 + t494 * t640 / 0.2e1 - t1526 * t1242) * t92 / 0.2e1;
  t1549 = t174 * t502 / 0.3e1;
  t1557 = t499 * t92;
  t1570 = t776 * t506 / 0.3e1;
  t1572 = t773 * t490 / 0.9e1;
  t1581 = t243 * t1557;
  t1585 = t499 * t267;
  t1594 = t1549 - t652 * t1479 * t656 / 0.6e1 + t660 * t661 * t487 * t270 / 0.2e1 - t165 * t166 * t1557 / 0.2e1 - t181 * t166 * t1557 * t185 / 0.6e1 + t266 * t268 * t1520 * t270 / 0.2e1 - t1570 + t1572 - t195 * t1519 * t230 * t239 * t244 / 0.6e1 - t195 * t489 * t784 / 0.6e1 - t195 * t240 * t1581 / 0.6e1 + t266 * t1585 * t248 * t270 / 0.2e1 + t266 * t764 * t493 * t270 / 0.2e1;
  t1596 = my_piecewise3(t3, 0, t1547 + t1594);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[0] = t6 * t1596 + t510;

  t1599 = t878 * t519 / 0.9e1;
  t1603 = t277 * t531 / 0.3e1;
  t1607 = t890 * t535 / 0.3e1;
  t1611 = my_piecewise3(t98, 0, t1599 + t883 * t519 / 0.18e2 + t1603 + t286 * t531 / 0.6e1 - t1607 - t894 * t535 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[1] = t6 * t1611 + t539;

  t1620 = my_piecewise3(t3, 0, t1572 + t838 * t490 / 0.18e2 + t1549 + t295 * t502 / 0.6e1 - t1570 - t844 * t506 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[2] = t6 * t1620 + t510;

  t1622 = t516 * t1003;
  t1623 = t1345 * t1622;
  t1626 = t1325 * t1622;
  t1629 = t597 * t516;
  t1631 = t103 * t19 * t1629;
  t1638 = t931 * t517;
  t1643 = t931 * t516 * t996;
  t1649 = t19 * t522;
  t1653 = t103 * t1649;
  t1658 = -t930 * t1623 * t1348 + t930 * t1626 * t1329 - t1631 * t1337 / 0.3e1 + 0.2e1 / 0.3e1 * t1631 * t1342 - t1631 * t1351 / 0.6e1 + t946 * t1638 * t1356 / 0.6e1 - t930 * t1643 * t1363 - t930 * t1638 * t935 / 0.2e1 - t939 * t1649 * t943 / 0.18e2 + t1653 * t1374 / 0.3e1 + t1653 * t926 / 0.6e1 + t1603;
  t1663 = my_piecewise3(t143, t319, -0.10e2 / 0.3e1 * t442 + 0.10e2 / 0.9e1 * params->gamma * t112);
  t1664 = t192 * t1663;
  t1667 = t522 * t997;
  t1670 = t1629 * t1006;
  t1698 = t528 * t157;
  t1722 = t366 * t1698;
  t1726 = t528 * t390;
  t1731 = -t103 * t19 * t150 * (t1664 * t372 * t375 - 0.2e1 * t1667 * t1405 - t1670 * t1409 / 0.3e1 - t523 * t1014 + 0.2e1 * t1670 * t1413 + 0.2e1 / 0.3e1 * t1670 * t1417 - t1664 * t353 * t379 / 0.2e1 + t1667 * t1423 + t523 * t1033 / 0.2e1 - t1670 * t1427) * t157 / 0.2e1 + t1046 * t931 * t516 * t393 / 0.2e1 - t1045 * t1649 * t1052 / 0.6e1 - t301 * t302 * t1698 / 0.2e1 - t309 * t302 * t1698 * t311 / 0.6e1 + t389 * t1101 * t522 * t393 / 0.2e1 + t389 * t391 * t1664 * t393 / 0.2e1 + t1599 - t1607 - t318 * t1663 * t353 * t362 * t367 / 0.6e1 - t318 * t518 * t1088 / 0.6e1 - t318 * t363 * t1722 / 0.6e1 + t389 * t1726 * t371 * t393 / 0.2e1;
  t1733 = my_piecewise3(t98, 0, t1658 + t1731);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[3] = t6 * t1733 + t539;

  t1735 = t410 * t410;
  t1739 = t28 * t46;
  t1745 = my_piecewise3(t78, t196, -0.4e1 / 0.125e3 * t33 * t561 * t1735 + t1739 * t208 * t52 * t61 / 0.1200e4);
  t1751 = t418 * t418;
  t1758 = t1751 * t600 * t629;
  t1766 = 0.2e1 * t613 * t418 * t270 - 0.2e1 * t427 * t616;
  t1769 = t723 * t91 * t92 * t1766;
  t1781 = t192 * t1745;
  t1784 = t192 * t1751;
  t1788 = t597 * t1751;
  t1789 = t1788 * t603;
  t1793 = t612 * t89 * t1766;
  t1797 = t1788 * t600;
  t1806 = t612 * t86 * t1766;
  t1830 = t716 * t242 * t1766;
  t1837 = -t195 * t1745 * t230 * t239 * t244 / 0.6e1 + t195 * t1751 * t592 * t239 * t244 / 0.3e1 - t731 * t1758 * t788 / 0.6e1 + t1142 * t1769 / 0.6e1 - t731 * t1758 * t735 / 0.3e1 - t195 * t420 * t1280 / 0.3e1 + 0.2e1 / 0.3e1 * t731 * t1758 * t740 - t14 * t19 * t85 * (t1781 * t249 * t252 - 0.2e1 * t1784 * t593 * t252 - t1789 * t609 / 0.3e1 - t425 * t1793 + 0.2e1 * t1789 * t625 + 0.2e1 / 0.3e1 * t1797 * t631 - t1781 * t230 * t256 / 0.2e1 + t1784 * t592 * t256 + t425 * t1806 / 0.2e1 - t1797 * t644) * t92 / 0.2e1 + t266 * t1288 * t424 * t270 - t266 * t746 * t1788 * t748 + t266 * t268 * t1781 * t270 / 0.2e1 - t266 * t268 * t1784 * t756 - t714 * t1174 * t1830 / 0.2e1 + t266 * t268 * t1788 * t752;
  t1838 = my_piecewise3(t3, 0, t1837);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t6 * t1838;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t1839 = t451 * t451;
  t1848 = my_piecewise3(t143, t319, -0.4e1 / 0.125e3 * t33 * t965 * t1839 + t1739 * t331 * t52 * t126 / 0.1200e4);
  t1854 = t458 * t458;
  t1861 = t1854 * t1003 * t1022;
  t1869 = 0.2e1 * t917 * t458 * t393 - 0.2e1 * t467 * t920;
  t1872 = t916 * t156 * t157 * t1869;
  t1884 = t192 * t1848;
  t1887 = t192 * t1854;
  t1891 = t597 * t1854;
  t1892 = t1891 * t1006;
  t1896 = t915 * t154 * t1869;
  t1900 = t1891 * t1003;
  t1909 = t915 * t151 * t1869;
  t1933 = t933 * t365 * t1869;
  t1940 = -t318 * t1848 * t353 * t362 * t367 / 0.6e1 + t318 * t1854 * t996 * t362 * t367 / 0.3e1 - t1093 * t1861 * t1097 / 0.6e1 + t1373 * t1872 / 0.6e1 - t1093 * t1861 * t1106 / 0.3e1 - t318 * t460 * t1458 / 0.3e1 + 0.2e1 / 0.3e1 * t1093 * t1861 * t1110 - t103 * t19 * t150 * (t1884 * t372 * t375 - 0.2e1 * t1887 * t997 * t375 - t1892 * t1010 / 0.3e1 - t465 * t1896 + 0.2e1 * t1892 * t1018 + 0.2e1 / 0.3e1 * t1900 * t1024 - t1884 * t353 * t379 / 0.2e1 + t1887 * t996 * t379 + t465 * t1909 / 0.2e1 - t1900 * t1037) * t157 / 0.2e1 + t389 * t1462 * t464 * t393 - t389 * t1116 * t1891 * t1118 + t389 * t391 * t1884 * t393 / 0.2e1 - t389 * t391 * t1887 * t1128 - t930 * t1354 * t1933 / 0.2e1 + t389 * t391 * t1891 * t1124;
  t1941 = my_piecewise3(t98, 0, t1940);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t6 * t1941;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[4] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[5] = 0.0e0;

  t1942 = my_piecewise3(t78, t196, 0);
  t1947 = t195 * t1942 * t230 * t239 * t244 / 0.6e1;
  t1949 = t91 * t92 * t418;
  t1972 = t192 * t1942;
  t1974 = t1972 * t249 * t252;
  t1975 = t89 * t418;
  t1986 = t86 * t418;
  t1992 = t1972 * t230 * t256 / 0.2e1;
  t2020 = t266 * t268 * t1972 * t270 / 0.2e1;
  t2032 = -t1947 + t1483 * t756 * t1949 / 0.3e1 - t1490 * t748 * t1949 / 0.6e1 + t1483 * t1769 / 0.6e1 - t1490 * t752 * t1949 / 0.3e1 - t195 * t489 * t1280 / 0.6e1 + 0.2e1 / 0.3e1 * t1490 * t748 * t91 * t267 * t418 - t195 * t420 * t1581 / 0.6e1 - t14 * t19 * t85 * (t1974 - 0.2e1 * t1523 * t251 * t1975 - t1526 * t608 * t1975 / 0.3e1 - t494 * t1793 + 0.2e1 * t1526 * t624 * t1975 + 0.2e1 / 0.3e1 * t1526 * t608 * t1986 - t1992 + t1523 * t251 * t1986 + t494 * t1806 / 0.2e1 - t1526 * t624 * t1986) * t92 / 0.2e1 + t266 * t1585 * t424 * t270 / 0.2e1 + t266 * t1288 * t493 * t270 / 0.2e1 - t714 * t1496 * t629 * t607 * t418 + t2020 - t714 * t1509 * t239 * t242 * t418 - t714 * t1504 * t1830 / 0.2e1 + t714 * t1499 * t629 * t623 * t418;
  t2033 = my_piecewise3(t3, 0, t2032);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[0] = t6 * t2033;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[4] = 0.0e0;

  t2034 = my_piecewise3(t143, t319, 0);
  t2039 = t318 * t2034 * t353 * t362 * t367 / 0.6e1;
  t2041 = t156 * t157 * t458;
  t2064 = t192 * t2034;
  t2066 = t2064 * t372 * t375;
  t2067 = t154 * t458;
  t2078 = t151 * t458;
  t2084 = t2064 * t353 * t379 / 0.2e1;
  t2112 = t389 * t391 * t2064 * t393 / 0.2e1;
  t2124 = -t2039 + t1653 * t1128 * t2041 / 0.3e1 - t1631 * t1118 * t2041 / 0.6e1 + t1653 * t1872 / 0.6e1 - t1631 * t1124 * t2041 / 0.3e1 - t318 * t518 * t1458 / 0.6e1 + 0.2e1 / 0.3e1 * t1631 * t1118 * t156 * t390 * t458 - t318 * t460 * t1722 / 0.6e1 - t103 * t19 * t150 * (t2066 - 0.2e1 * t1667 * t374 * t2067 - t1670 * t1009 * t2067 / 0.3e1 - t523 * t1896 + 0.2e1 * t1670 * t1017 * t2067 + 0.2e1 / 0.3e1 * t1670 * t1009 * t2078 - t2084 + t1667 * t374 * t2078 + t523 * t1909 / 0.2e1 - t1670 * t1017 * t2078) * t157 / 0.2e1 + t389 * t1726 * t464 * t393 / 0.2e1 + t389 * t1462 * t522 * t393 / 0.2e1 - t930 * t1623 * t1022 * t1008 * t458 + t2112 - t930 * t1643 * t362 * t365 * t458 - t930 * t1638 * t1933 / 0.2e1 + t930 * t1626 * t1022 * t1016 * t458;
  t2125 = my_piecewise3(t98, 0, t2124);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[5] = t6 * t2125;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[3] = 0.0e0;

  t2126 = t487 * t487;
  t2133 = t2126 * t600 * t629;
  t2141 = 0.2e1 * t613 * t487 * t270 - 0.2e1 * t496 * t616;
  t2156 = t192 * t2126;
  t2160 = t597 * t2126;
  t2161 = t2160 * t603;
  t2169 = t2160 * t600;
  t2202 = -t1947 + t195 * t2126 * t592 * t239 * t244 / 0.3e1 - t731 * t2133 * t788 / 0.6e1 + t1483 * t723 * t91 * t92 * t2141 / 0.6e1 - t731 * t2133 * t735 / 0.3e1 - t195 * t489 * t1581 / 0.3e1 + 0.2e1 / 0.3e1 * t731 * t2133 * t740 - t14 * t19 * t85 * (t1974 - 0.2e1 * t2156 * t593 * t252 - t2161 * t609 / 0.3e1 - t494 * t612 * t89 * t2141 + 0.2e1 * t2161 * t625 + 0.2e1 / 0.3e1 * t2169 * t631 - t1992 + t2156 * t592 * t256 + t494 * t612 * t86 * t2141 / 0.2e1 - t2169 * t644) * t92 / 0.2e1 + t266 * t1585 * t493 * t270 - t266 * t746 * t2160 * t748 + t2020 - t266 * t268 * t2156 * t756 - t714 * t1504 * t716 * t242 * t2141 / 0.2e1 + t266 * t268 * t2160 * t752;
  t2203 = my_piecewise3(t3, 0, t2202);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[0] = t6 * t2203;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[1] = 0.0e0;

  t2204 = t516 * t516;
  t2211 = t2204 * t1003 * t1022;
  t2219 = 0.2e1 * t917 * t516 * t393 - 0.2e1 * t525 * t920;
  t2234 = t192 * t2204;
  t2238 = t597 * t2204;
  t2239 = t2238 * t1006;
  t2247 = t2238 * t1003;
  t2280 = -t2039 + t318 * t2204 * t996 * t362 * t367 / 0.3e1 - t1093 * t2211 * t1097 / 0.6e1 + t1653 * t916 * t156 * t157 * t2219 / 0.6e1 - t1093 * t2211 * t1106 / 0.3e1 - t318 * t518 * t1722 / 0.3e1 + 0.2e1 / 0.3e1 * t1093 * t2211 * t1110 - t103 * t19 * t150 * (t2066 - 0.2e1 * t2234 * t997 * t375 - t2239 * t1010 / 0.3e1 - t523 * t915 * t154 * t2219 + 0.2e1 * t2239 * t1018 + 0.2e1 / 0.3e1 * t2247 * t1024 - t2084 + t2234 * t996 * t379 + t523 * t915 * t151 * t2219 / 0.2e1 - t2247 * t1037) * t157 / 0.2e1 + t389 * t1726 * t522 * t393 - t389 * t1116 * t2238 * t1118 + t2112 - t389 * t391 * t2234 * t1128 - t930 * t1638 * t933 * t365 * t2219 / 0.2e1 + t389 * t391 * t2238 * t1124;
  t2281 = my_piecewise3(t98, 0, t2280);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[2] = t6 * t2281;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

