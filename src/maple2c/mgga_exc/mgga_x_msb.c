/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/mgga_exc/mgga_x_msb.mpl
  Type of functional: mgga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma, const double *lapl, const double *tau , double *zk MGGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t4, t5, t6, t8, t9, t10, t11, t12;
  double t13, t14, t16, t17, t18, t19, t20, t22;
  double t23, t25, t26, t30, t31, t33, t34, t36;
  double t37, t38, t41, t42, t43, t46, t47, t48;
  double t49, t50, t51, t54, t56, t57, t59, t62;
  double t63, t64, t65, t70, t72, t76;

#ifndef XC_DONT_COMPILE_VXC
  double t77, t81, t82, t85, t86, t87, t89, t90;
  double t91, t92, t94, t95, t96, t100, t103, t106;
  double t107, t110, t111, t112, t115, t116, t120, t125;
  double t126, t129, t132, t135, t138, t140, t145, t148;
  double t149, t150, t152, t153, t154, t157, t159, t161;
  double t163, t164, t168, t170, t174, t176, t178, t180;
  double t181, t190, t194, t195, t197, t201;

#ifndef XC_DONT_COMPILE_FXC
  double t213, t215, t216, t218, t223, t225, t227, t229;
  double t231, t232, t233, t237, t244, t247, t251, t255;
  double t258, t259, t263, t264, t275, t276, t292, t297;
  double t301, t309, t310, t311, t322, t334, t340, t345;
  double t347, t348, t350, t351, t353, t358, t366, t387;
  double t390, t391, t396, t418, t423, t441, t442, t443;
  double t447, t448, t450, t486, t494, t497, t498, t514;
  double t523, t538, t551, t571, t582, t584, t592, t593;
  double t596, t598, t604, t629;
#endif

#endif

#endif


  mgga_x_msb_params *params;

  assert(p->params != NULL);
  params = (mgga_x_msb_params * ) (p->params);

  t4 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t5 = M_CBRT3;
  t6 = M_CBRTPI;
  t8 = t5 / t6;
  t9 = POW_1_3(rho[0]);
  t10 = M_CBRT6;
  t11 = M_PI * M_PI;
  t12 = POW_1_3(t11);
  t13 = t12 * t12;
  t14 = 0.1e1 / t13;
  t16 = M_CBRT2;
  t17 = t16 * t16;
  t18 = sigma[0] * t17;
  t19 = rho[0] * rho[0];
  t20 = t9 * t9;
  t22 = 0.1e1 / t20 / t19;
  t23 = t18 * t22;
  t25 = 0.5e1 / 0.972e3 * t10 * t14 * t23;
  t26 = params->kappa + t25;
  t30 = params->kappa * (0.1e1 - params->kappa / t26);
  t31 = tau[0] * t17;
  t33 = 0.1e1 / t20 / rho[0];
  t34 = t31 * t33;
  t36 = t34 - t23 / 0.8e1;
  t37 = t36 * t36;
  t38 = t10 * t10;
  t41 = t34 + 0.3e1 / 0.10e2 * t38 * t13;
  t42 = t41 * t41;
  t43 = 0.1e1 / t42;
  t46 = -0.4e1 * t37 * t43 + 0.1e1;
  t47 = t46 * t46;
  t48 = t47 * t46;
  t49 = t37 * t36;
  t50 = t42 * t41;
  t51 = 0.1e1 / t50;
  t54 = t37 * t37;
  t56 = params->b * t54 * t37;
  t57 = t42 * t42;
  t59 = 0.1e1 / t57 / t42;
  t62 = 0.8e1 * t49 * t51 + 0.64e2 * t56 * t59 + 0.1e1;
  t63 = 0.1e1 / t62;
  t64 = t48 * t63;
  t65 = params->kappa + t25 + params->c;
  t70 = params->kappa * (0.1e1 - params->kappa / t65) - t30;
  t72 = t64 * t70 + t30 + 0.1e1;
  t76 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t8 * t9 * t72);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t76;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t77 = 0.1e1 / t20;
  t81 = params->kappa * params->kappa;
  t82 = t26 * t26;
  t85 = t81 / t82 * t10;
  t86 = t14 * sigma[0];
  t87 = t19 * rho[0];
  t89 = 0.1e1 / t20 / t87;
  t90 = t17 * t89;
  t91 = t86 * t90;
  t92 = t85 * t91;
  t94 = t47 * t63;
  t95 = t36 * t43;
  t96 = t31 * t22;
  t100 = -0.5e1 / 0.3e1 * t96 + t18 * t89 / 0.3e1;
  t103 = t37 * t51;
  t106 = -0.8e1 * t95 * t100 - 0.40e2 / 0.3e1 * t103 * t96;
  t107 = t70 * t106;
  t110 = t62 * t62;
  t111 = 0.1e1 / t110;
  t112 = t48 * t111;
  t115 = 0.1e1 / t57;
  t116 = t49 * t115;
  t120 = params->b * t54 * t36;
  t125 = 0.1e1 / t57 / t50;
  t126 = t56 * t125;
  t129 = 0.384e3 * t120 * t59 * t100 + 0.24e2 * t103 * t100 + 0.40e2 * t116 * t96 + 0.640e3 * t126 * t96;
  t132 = t65 * t65;
  t135 = t81 / t132 * t10;
  t138 = -0.10e2 / 0.729e3 * t135 * t91 + 0.10e2 / 0.729e3 * t92;
  t140 = -0.10e2 / 0.729e3 * t92 + 0.3e1 * t94 * t107 - t112 * t70 * t129 + t64 * t138;
  t145 = my_piecewise3(t4, 0, -t8 * t77 * t72 / 0.8e1 - 0.3e1 / 0.8e1 * t8 * t9 * t140);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t145 + 0.2e1 * t76;

  t148 = t14 * t17;
  t149 = t148 * t22;
  t150 = t85 * t149;
  t152 = t94 * t70;
  t153 = t17 * t22;
  t154 = t95 * t153;
  t157 = t103 * t153;
  t159 = t59 * t17;
  t161 = t120 * t159 * t22;
  t163 = -0.3e1 * t157 - 0.48e2 * t161;
  t164 = t70 * t163;
  t168 = 0.5e1 / 0.972e3 * t135 * t149 - 0.5e1 / 0.972e3 * t150;
  t170 = 0.5e1 / 0.972e3 * t150 + 0.3e1 * t152 * t154 - t112 * t164 + t64 * t168;
  t174 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t8 * t9 * t170);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t174;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[0] = 0.0e0;

  t176 = t17 * t33;
  t178 = t103 * t176;
  t180 = -0.8e1 * t95 * t176 + 0.8e1 * t178;
  t181 = t70 * t180;
  t190 = t125 * t17;
  t194 = 0.384e3 * t120 * t159 * t33 - 0.384e3 * t56 * t190 * t33 - 0.24e2 * t116 * t176 + 0.24e2 * t178;
  t195 = t70 * t194;
  t197 = -t112 * t195 + 0.3e1 * t94 * t181;
  t201 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t8 * t9 * t197);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[0] = 0.2e1 * rho[0] * t201;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t213 = t81 / t82 / t26 * t38;
  t215 = 0.1e1 / t12 / t11;
  t216 = sigma[0] * sigma[0];
  t218 = t19 * t19;
  t223 = t215 * t216 * t16 / t9 / t218 / t87;
  t225 = 0.400e3 / 0.531441e6 * t213 * t223;
  t227 = 0.1e1 / t20 / t218;
  t229 = t86 * t17 * t227;
  t231 = 0.110e3 / 0.2187e4 * t85 * t229;
  t232 = t46 * t63;
  t233 = t106 * t106;
  t237 = t47 * t111;
  t244 = t100 * t100;
  t247 = t36 * t51;
  t251 = t31 * t89;
  t255 = 0.40e2 / 0.9e1 * t251 - 0.11e2 / 0.9e1 * t18 * t227;
  t258 = t37 * t115;
  t259 = tau[0] * tau[0];
  t263 = 0.1e1 / t9 / t218 / rho[0];
  t264 = t259 * t16 * t263;
  t275 = t48 / t110 / t62;
  t276 = t129 * t129;
  t292 = t49 / t57 / t41;
  t297 = params->b * t54;
  t301 = t120 * t125;
  t309 = t57 * t57;
  t310 = 0.1e1 / t309;
  t311 = t56 * t310;
  t322 = t81 / t132 / t65 * t38;
  t334 = my_piecewise3(t4, 0, t8 * t33 * t72 / 0.12e2 - t8 * t77 * t140 / 0.4e1 - 0.3e1 / 0.8e1 * t8 * t9 * (-t225 + t231 + 0.6e1 * t232 * t70 * t233 - 0.6e1 * t237 * t107 * t129 + 0.6e1 * t94 * t138 * t106 + 0.3e1 * t94 * t70 * (-0.8e1 * t244 * t43 - 0.160e3 / 0.3e1 * t247 * t100 * t96 - 0.8e1 * t95 * t255 - 0.400e3 / 0.3e1 * t258 * t264 + 0.320e3 / 0.9e1 * t103 * t251) + 0.2e1 * t275 * t70 * t276 - 0.2e1 * t112 * t138 * t129 - t112 * t70 * (0.48e2 * t247 * t244 + 0.240e3 * t258 * t100 * t96 + 0.24e2 * t103 * t255 + 0.1600e4 / 0.3e1 * t292 * t264 - 0.320e3 / 0.3e1 * t116 * t251 + 0.1920e4 * t297 * t59 * t244 + 0.7680e4 * t301 * t100 * tau[0] * t153 + 0.384e3 * t120 * t59 * t255 + 0.44800e5 / 0.3e1 * t311 * t264 - 0.5120e4 / 0.3e1 * t126 * t251) + t64 * (-0.400e3 / 0.531441e6 * t322 * t223 + 0.110e3 / 0.2187e4 * t135 * t229 + t225 - t231)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t334 + 0.4e1 * t145;

  t340 = t215 * t16;
  t345 = t340 / t9 / t218 / t19 * sigma[0];
  t347 = 0.50e2 / 0.177147e6 * t213 * t345;
  t348 = t148 * t89;
  t350 = 0.10e2 / 0.729e3 * t85 * t348;
  t351 = t70 * t36;
  t353 = t43 * t17;
  t358 = t237 * t351;
  t366 = t100 * t43;
  t387 = t153 * t100;
  t390 = t16 * t263;
  t391 = t390 * tau[0];
  t396 = t297 * t59;
  t418 = t347 - t350 + 0.6e1 * t232 * t351 * t353 * t22 * t106 - 0.3e1 * t358 * t353 * t22 * t129 + 0.3e1 * t94 * t138 * t154 + 0.3e1 * t152 * t366 * t153 + 0.20e2 * t94 * t351 * t51 * t16 * t263 * tau[0] - 0.8e1 * t152 * t95 * t90 - 0.3e1 * t237 * t164 * t106 + 0.2e1 * t275 * t164 * t129 - t112 * t138 * t163 - t112 * t70 * (0.128e3 * t120 * t159 * t89 + 0.8e1 * t103 * t90 - 0.6e1 * t247 * t387 - 0.30e2 * t258 * t391 - 0.960e3 * t301 * t391 - 0.240e3 * t396 * t387) + 0.3e1 * t94 * t168 * t106 - t112 * t168 * t129 + t64 * (0.50e2 / 0.177147e6 * t322 * t345 - 0.10e2 / 0.729e3 * t135 * t348 - t347 + t350);
  t423 = my_piecewise3(t4, 0, -t8 * t77 * t170 / 0.8e1 - 0.3e1 / 0.8e1 * t8 * t9 * t418);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t423 + 0.2e1 * t174;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[0] = 0.0e0;

  t441 = 0.1e1 / t9 / t218;
  t442 = t16 * t441;
  t443 = t442 * tau[0];
  t447 = t176 * t100;
  t448 = t247 * t447;
  t450 = t258 * t443;
  t486 = 0.640e3 * t56 * t190 * t22 + 0.40e2 * t116 * t153 - 0.72e2 * t258 * t447 - 0.320e3 * t292 * t443 + 0.7680e4 * t301 * t443 - 0.2304e4 * t301 * t447 - 0.8960e4 * t311 * t443 + 0.1920e4 * t396 * t447 - 0.40e2 * t157 - 0.640e3 * t161 + 0.48e2 * t448 + 0.240e3 * t450;
  t494 = my_piecewise3(t4, 0, -t8 * t77 * t197 / 0.8e1 - 0.3e1 / 0.8e1 * t8 * t9 * (0.6e1 * t232 * t181 * t106 - 0.3e1 * t237 * t181 * t129 + 0.3e1 * t94 * t138 * t180 + 0.3e1 * t94 * t70 * (-0.8e1 * t366 * t176 - 0.160e3 / 0.3e1 * t247 * t443 + 0.40e2 / 0.3e1 * t154 + 0.16e2 * t448 + 0.80e2 * t450 - 0.40e2 / 0.3e1 * t157) - 0.3e1 * t237 * t195 * t106 + 0.2e1 * t275 * t195 * t129 - t112 * t138 * t194 - t112 * t70 * t486));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[0] = 0.2e1 * rho[0] * t494 + 0.2e1 * t201;

  t497 = t340 * t263;
  t498 = t213 * t497;
  t514 = t163 * t163;
  t523 = t59 * t16;
  t538 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t8 * t9 * (-0.25e2 / 0.236196e6 * t498 + 0.12e2 * t232 * t70 * t258 * t390 - 0.6e1 * t358 * t353 * t22 * t163 + 0.6e1 * t94 * t168 * t154 - 0.3e1 / 0.4e1 * t152 * t390 * t43 + 0.2e1 * t275 * t70 * t514 - 0.2e1 * t112 * t168 * t163 - t112 * t70 * (0.3e1 / 0.2e1 * t247 * t390 + 0.60e2 * t297 * t523 * t263) + t64 * (-0.25e2 / 0.236196e6 * t322 * t497 + 0.25e2 / 0.236196e6 * t498)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t538;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[0] = 0.0e0;

  t551 = t247 * t442;
  t571 = t125 * t16;
  t582 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t8 * t9 * (0.6e1 * t232 * t181 * t154 - 0.3e1 * t237 * t181 * t163 + 0.3e1 * t94 * t168 * t180 + 0.3e1 * t94 * t70 * (0.2e1 * t442 * t43 - 0.4e1 * t551) - 0.3e1 * t237 * t195 * t154 + 0.2e1 * t275 * t195 * t163 - t112 * t168 * t194 - t112 * t70 * (0.576e3 * t120 * t571 * t441 - 0.480e3 * t297 * t523 * t441 + 0.18e2 * t258 * t442 - 0.12e2 * t551)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[0] = 0.2e1 * rho[0] * t582;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[0] = 0.0e0;

  t584 = t180 * t180;
  t592 = 0.1e1 / t9 / t87;
  t593 = t16 * t592;
  t596 = t247 * t593;
  t598 = t258 * t593;
  t604 = t194 * t194;
  t629 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t8 * t9 * (0.6e1 * t232 * t70 * t584 - 0.6e1 * t237 * t181 * t194 + 0.3e1 * t94 * t70 * (-0.16e2 * t593 * t43 + 0.64e2 * t596 - 0.48e2 * t598) + 0.2e1 * t275 * t70 * t604 - t112 * t70 * (0.5376e4 * t56 * t310 * t16 * t592 - 0.9216e4 * t120 * t571 * t592 + 0.3840e4 * t297 * t523 * t592 + 0.192e3 * t292 * t593 + 0.96e2 * t596 - 0.288e3 * t598)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[0] = 0.2e1 * rho[0] * t629;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma, const double *lapl, const double *tau , double *zk MGGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t2, t3, t4, t5, t7, t8, t9, t10;
  double t11, t12, t13, t14, t15, t16, t17, t18;
  double t19, t20, t21, t22, t23, t24, t25, t26;
  double t28, t29, t31, t32, t36, t38, t39, t41;
  double t42, t43, t45, t46, t47, t48, t51, t52;
  double t53, t54, t55, t56, t59, t61, t62, t64;
  double t67, t68, t69, t70, t75, t77, t78, t82;
  double t83, t84, t85, t86, t87, t88, t89, t91;
  double t92, t94, t95, t99, t101, t102, t104, t105;
  double t106, t107, t108, t111, t112, t113, t114, t115;
  double t116, t119, t121, t122, t124, t127, t128, t129;
  double t130, t135, t137, t138, t142;

#ifndef XC_DONT_COMPILE_VXC
  double t143, t148, t149, t152, t154, t155, t156, t157;
  double t158, t159, t161, t162, t163, t166, t167, t169;
  double t170, t171, t172, t174, t175, t176, t178, t179;
  double t180, t184, t187, t190, t191, t194, t195, t196;
  double t199, t200, t204, t209, t210, t214, t217, t219;
  double t220, t223, t225, t226, t231, t232, t235, t237;
  double t238, t239, t240, t241, t246, t249, t250, t255;
  double t256, t261, t262, t264, t265, t266, t269, t271;
  double t272, t273, t274, t276, t277, t278, t280, t281;
  double t282, t286, t289, t292, t293, t296, t297, t298;
  double t301, t302, t306, t311, t312, t316, t319, t321;
  double t322, t325, t327, t328, t333, t336, t337, t339;
  double t340, t343, t345, t346, t348, t349, t353, t355;
  double t356, t360, t361, t362, t364, t365, t368, t370;
  double t371, t373, t374, t378, t380, t381, t385, t387;
  double t389, t390, t396, t399, t402, t403, t405, t406;
  double t410, t412, t414, t415, t421, t424, t427, t428;
  double t430, t431, t435;

#ifndef XC_DONT_COMPILE_FXC
  double t440, t446, t449, t452, t455, t457, t459, t468;
  double t469, t479, t480, t482, t483, t485, t489, t491;
  double t493, t494, t496, t497, t498, t502, t509, t512;
  double t514, t517, t521, t524, t525, t528, t529, t540;
  double t541, t556, t561, t571, t572, t585, t586, t599;
  double t603, t605, t608, t610, t612, t615, t621, t632;
  double t645, t648, t658, t666, t674, t681, t693, t701;
  double t718, t719, t720, t722, t726, t728, t730, t731;
  double t733, t734, t735, t739, t746, t749, t751, t754;
  double t758, t761, t762, t765, t766, t777, t778, t793;
  double t798, t808, t809, t822, t823, t836, t844, t853;
  double t855, t856, t858, t859, t864, t872, t876, t922;
  double t928, t932, t938, t945, t958, t960, t961, t963;
  double t964, t969, t977, t981, t1027, t1033, t1040, t1057;
  double t1058, t1062, t1063, t1065, t1092, t1107, t1116, t1120;
  double t1126, t1133, t1154, t1155, t1159, t1160, t1162, t1189;
  double t1204, t1213, t1215, t1216, t1217, t1233, t1257, t1258;
  double t1259, t1275, t1299, t1301, t1312, t1343, t1345, t1356;
  double t1387, t1388, t1396, t1399, t1401, t1407, t1432, t1433;
  double t1441, t1444, t1446, t1452, t1477;
#endif

#endif

#endif


  mgga_x_msb_params *params;

  assert(p->params != NULL);
  params = (mgga_x_msb_params * ) (p->params);

  t2 = 0.101e1 * p->threshold_dens;
  t3 = rho[0] <= t2;
  t4 = M_CBRT3;
  t5 = M_CBRTPI;
  t7 = t4 / t5;
  t8 = M_CBRT2;
  t9 = t7 * t8;
  t10 = rho[0] + rho[1];
  t11 = POW_1_3(t10);
  t12 = t11 * t11;
  t13 = 0.1e1 / t12;
  t14 = rho[0] * t13;
  t15 = 0.1e1 / t10;
  t16 = rho[0] * t15;
  t17 = POW_1_3(t16);
  t18 = M_CBRT6;
  t19 = M_PI * M_PI;
  t20 = POW_1_3(t19);
  t21 = t20 * t20;
  t22 = 0.1e1 / t21;
  t23 = t18 * t22;
  t24 = rho[0] * rho[0];
  t25 = POW_1_3(rho[0]);
  t26 = t25 * t25;
  t28 = 0.1e1 / t26 / t24;
  t29 = sigma[0] * t28;
  t31 = 0.5e1 / 0.972e3 * t23 * t29;
  t32 = params->kappa + t31;
  t36 = params->kappa * (0.1e1 - params->kappa / t32);
  t38 = 0.1e1 / t26 / rho[0];
  t39 = tau[0] * t38;
  t41 = t39 - t29 / 0.8e1;
  t42 = t41 * t41;
  t43 = t18 * t18;
  t45 = 0.3e1 / 0.10e2 * t43 * t21;
  t46 = t39 + t45;
  t47 = t46 * t46;
  t48 = 0.1e1 / t47;
  t51 = -0.4e1 * t42 * t48 + 0.1e1;
  t52 = t51 * t51;
  t53 = t52 * t51;
  t54 = t42 * t41;
  t55 = t47 * t46;
  t56 = 0.1e1 / t55;
  t59 = t42 * t42;
  t61 = params->b * t59 * t42;
  t62 = t47 * t47;
  t64 = 0.1e1 / t62 / t47;
  t67 = 0.8e1 * t54 * t56 + 0.64e2 * t61 * t64 + 0.1e1;
  t68 = 0.1e1 / t67;
  t69 = t53 * t68;
  t70 = params->kappa + t31 + params->c;
  t75 = params->kappa * (0.1e1 - params->kappa / t70) - t36;
  t77 = t69 * t75 + t36 + 0.1e1;
  t78 = t17 * t77;
  t82 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t14 * t78);
  t83 = rho[1] <= t2;
  t84 = rho[1] * t13;
  t85 = rho[1] * t15;
  t86 = POW_1_3(t85);
  t87 = rho[1] * rho[1];
  t88 = POW_1_3(rho[1]);
  t89 = t88 * t88;
  t91 = 0.1e1 / t89 / t87;
  t92 = sigma[2] * t91;
  t94 = 0.5e1 / 0.972e3 * t23 * t92;
  t95 = params->kappa + t94;
  t99 = params->kappa * (0.1e1 - params->kappa / t95);
  t101 = 0.1e1 / t89 / rho[1];
  t102 = tau[1] * t101;
  t104 = t102 - t92 / 0.8e1;
  t105 = t104 * t104;
  t106 = t102 + t45;
  t107 = t106 * t106;
  t108 = 0.1e1 / t107;
  t111 = -0.4e1 * t105 * t108 + 0.1e1;
  t112 = t111 * t111;
  t113 = t112 * t111;
  t114 = t105 * t104;
  t115 = t107 * t106;
  t116 = 0.1e1 / t115;
  t119 = t105 * t105;
  t121 = params->b * t119 * t105;
  t122 = t107 * t107;
  t124 = 0.1e1 / t122 / t107;
  t127 = 0.8e1 * t114 * t116 + 0.64e2 * t121 * t124 + 0.1e1;
  t128 = 0.1e1 / t127;
  t129 = t113 * t128;
  t130 = params->kappa + t94 + params->c;
  t135 = params->kappa * (0.1e1 - params->kappa / t130) - t99;
  t137 = t129 * t135 + t99 + 0.1e1;
  t138 = t86 * t137;
  t142 = my_piecewise3(t83, 0, -0.3e1 / 0.4e1 * t9 * t84 * t138);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t82 + t142;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t143 = t13 * t17;
  t148 = 0.1e1 / t12 / t10;
  t149 = rho[0] * t148;
  t152 = t9 * t149 * t78 / 0.2e1;
  t154 = t7 * t8 * rho[0];
  t155 = t17 * t17;
  t156 = 0.1e1 / t155;
  t157 = t13 * t156;
  t158 = t10 * t10;
  t159 = 0.1e1 / t158;
  t161 = -rho[0] * t159 + t15;
  t162 = t77 * t161;
  t163 = t157 * t162;
  t166 = params->kappa * params->kappa;
  t167 = t32 * t32;
  t169 = t166 / t167;
  t170 = t169 * t18;
  t171 = t22 * sigma[0];
  t172 = t24 * rho[0];
  t174 = 0.1e1 / t26 / t172;
  t175 = t171 * t174;
  t176 = t170 * t175;
  t178 = t52 * t68;
  t179 = t41 * t48;
  t180 = tau[0] * t28;
  t184 = -0.5e1 / 0.3e1 * t180 + sigma[0] * t174 / 0.3e1;
  t187 = t42 * t56;
  t190 = -0.8e1 * t179 * t184 - 0.40e2 / 0.3e1 * t187 * t180;
  t191 = t75 * t190;
  t194 = t67 * t67;
  t195 = 0.1e1 / t194;
  t196 = t53 * t195;
  t199 = 0.1e1 / t62;
  t200 = t54 * t199;
  t204 = params->b * t59 * t41;
  t209 = 0.1e1 / t62 / t55;
  t210 = t209 * tau[0];
  t214 = 0.384e3 * t204 * t64 * t184 + 0.640e3 * t61 * t210 * t28 + 0.40e2 * t200 * t180 + 0.24e2 * t187 * t184;
  t217 = t70 * t70;
  t219 = t166 / t217;
  t220 = t219 * t18;
  t223 = -0.10e2 / 0.729e3 * t220 * t175 + 0.10e2 / 0.729e3 * t176;
  t225 = -0.10e2 / 0.729e3 * t176 + 0.3e1 * t178 * t191 - t196 * t75 * t214 + t69 * t223;
  t226 = t17 * t225;
  t231 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t143 * t77 + t152 - t154 * t163 / 0.4e1 - 0.3e1 / 0.4e1 * t9 * t14 * t226);
  t232 = rho[1] * t148;
  t235 = t9 * t232 * t138 / 0.2e1;
  t237 = 0.1e1 / t12 / t158;
  t238 = t87 * t237;
  t239 = t86 * t86;
  t240 = 0.1e1 / t239;
  t241 = t240 * t137;
  t246 = my_piecewise3(t83, 0, t235 + t9 * t238 * t241 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t82 + t142 + t10 * (t231 + t246);

  t249 = t24 * t237;
  t250 = t156 * t77;
  t255 = my_piecewise3(t3, 0, t152 + t9 * t249 * t250 / 0.4e1);
  t256 = t13 * t86;
  t261 = t7 * t8 * rho[1];
  t262 = t13 * t240;
  t264 = -rho[1] * t159 + t15;
  t265 = t137 * t264;
  t266 = t262 * t265;
  t269 = t95 * t95;
  t271 = t166 / t269;
  t272 = t271 * t18;
  t273 = t22 * sigma[2];
  t274 = t87 * rho[1];
  t276 = 0.1e1 / t89 / t274;
  t277 = t273 * t276;
  t278 = t272 * t277;
  t280 = t112 * t128;
  t281 = t104 * t108;
  t282 = tau[1] * t91;
  t286 = -0.5e1 / 0.3e1 * t282 + sigma[2] * t276 / 0.3e1;
  t289 = t105 * t116;
  t292 = -0.8e1 * t281 * t286 - 0.40e2 / 0.3e1 * t289 * t282;
  t293 = t135 * t292;
  t296 = t127 * t127;
  t297 = 0.1e1 / t296;
  t298 = t113 * t297;
  t301 = 0.1e1 / t122;
  t302 = t114 * t301;
  t306 = params->b * t119 * t104;
  t311 = 0.1e1 / t122 / t115;
  t312 = t311 * tau[1];
  t316 = 0.640e3 * t121 * t312 * t91 + 0.384e3 * t306 * t124 * t286 + 0.40e2 * t302 * t282 + 0.24e2 * t289 * t286;
  t319 = t130 * t130;
  t321 = t166 / t319;
  t322 = t321 * t18;
  t325 = -0.10e2 / 0.729e3 * t322 * t277 + 0.10e2 / 0.729e3 * t278;
  t327 = -0.10e2 / 0.729e3 * t278 + 0.3e1 * t280 * t293 - t298 * t135 * t316 + t129 * t325;
  t328 = t86 * t327;
  t333 = my_piecewise3(t83, 0, -0.3e1 / 0.4e1 * t9 * t256 * t137 + t235 - t261 * t266 / 0.4e1 - 0.3e1 / 0.4e1 * t9 * t84 * t328);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t82 + t142 + t10 * (t255 + t333);

  t336 = t23 * t28;
  t337 = t169 * t336;
  t339 = t178 * t75;
  t340 = t179 * t28;
  t343 = t187 * t28;
  t345 = t64 * t28;
  t346 = t204 * t345;
  t348 = -0.3e1 * t343 - 0.48e2 * t346;
  t349 = t75 * t348;
  t353 = 0.5e1 / 0.972e3 * t219 * t336 - 0.5e1 / 0.972e3 * t337;
  t355 = 0.5e1 / 0.972e3 * t337 + 0.3e1 * t339 * t340 - t196 * t349 + t69 * t353;
  t356 = t17 * t355;
  t360 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t14 * t356);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t10 * t360;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t361 = t23 * t91;
  t362 = t271 * t361;
  t364 = t280 * t135;
  t365 = t281 * t91;
  t368 = t289 * t91;
  t370 = t124 * t91;
  t371 = t306 * t370;
  t373 = -0.3e1 * t368 - 0.48e2 * t371;
  t374 = t135 * t373;
  t378 = 0.5e1 / 0.972e3 * t321 * t361 - 0.5e1 / 0.972e3 * t362;
  t380 = 0.5e1 / 0.972e3 * t362 + 0.3e1 * t364 * t365 - t298 * t374 + t129 * t378;
  t381 = t86 * t380;
  t385 = my_piecewise3(t83, 0, -0.3e1 / 0.4e1 * t9 * t84 * t381);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t10 * t385;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[0] = 0.0e0;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[1] = 0.0e0;

  t387 = t187 * t38;
  t389 = -0.8e1 * t179 * t38 + 0.8e1 * t387;
  t390 = t75 * t389;
  t396 = t64 * t38;
  t399 = t209 * t38;
  t402 = -0.24e2 * t200 * t38 + 0.384e3 * t204 * t396 - 0.384e3 * t61 * t399 + 0.24e2 * t387;
  t403 = t75 * t402;
  t405 = 0.3e1 * t178 * t390 - t196 * t403;
  t406 = t17 * t405;
  t410 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t14 * t406);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[0] = t10 * t410;

  t412 = t289 * t101;
  t414 = -0.8e1 * t281 * t101 + 0.8e1 * t412;
  t415 = t135 * t414;
  t421 = t124 * t101;
  t424 = t311 * t101;
  t427 = -0.24e2 * t302 * t101 - 0.384e3 * t121 * t424 + 0.384e3 * t306 * t421 + 0.24e2 * t412;
  t428 = t135 * t427;
  t430 = 0.3e1 * t280 * t415 - t298 * t428;
  t431 = t86 * t430;
  t435 = my_piecewise3(t83, 0, -0.3e1 / 0.4e1 * t9 * t84 * t431);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[1] = t10 * t435;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t440 = t9 * t148 * t17 * t77;
  t446 = rho[0] * t237;
  t449 = 0.5e1 / 0.6e1 * t9 * t446 * t78;
  t452 = t154 * t148 * t156 * t162;
  t455 = t9 * t149 * t226;
  t457 = 0.1e1 / t155 / t16;
  t459 = t161 * t161;
  t468 = t158 * t10;
  t469 = 0.1e1 / t468;
  t479 = t166 / t167 / t32;
  t480 = t479 * t43;
  t482 = 0.1e1 / t20 / t19;
  t483 = sigma[0] * sigma[0];
  t485 = t24 * t24;
  t489 = t482 * t483 / t25 / t485 / t172;
  t491 = 0.200e3 / 0.531441e6 * t480 * t489;
  t493 = 0.1e1 / t26 / t485;
  t494 = t171 * t493;
  t496 = 0.110e3 / 0.2187e4 * t170 * t494;
  t497 = t51 * t68;
  t498 = t190 * t190;
  t502 = t52 * t195;
  t509 = t184 * t184;
  t512 = t41 * t56;
  t514 = t184 * tau[0] * t28;
  t517 = tau[0] * t174;
  t521 = 0.40e2 / 0.9e1 * t517 - 0.11e2 / 0.9e1 * sigma[0] * t493;
  t524 = t42 * t199;
  t525 = tau[0] * tau[0];
  t528 = 0.1e1 / t25 / t485 / rho[0];
  t529 = t525 * t528;
  t540 = t53 / t194 / t67;
  t541 = t214 * t214;
  t556 = t54 / t62 / t46;
  t561 = params->b * t59;
  t571 = t62 * t62;
  t572 = 0.1e1 / t571;
  t585 = t166 / t217 / t70;
  t586 = t585 * t43;
  t599 = my_piecewise3(t3, 0, t440 - t9 * t163 / 0.2e1 - 0.3e1 / 0.2e1 * t9 * t143 * t225 - t449 + t452 / 0.3e1 + t455 + t154 * t13 * t457 * t77 * t459 / 0.6e1 - t154 * t157 * t225 * t161 / 0.2e1 - t154 * t157 * t77 * (0.2e1 * rho[0] * t469 - 0.2e1 * t159) / 0.4e1 - 0.3e1 / 0.4e1 * t9 * t14 * t17 * (-t491 + t496 + 0.6e1 * t497 * t75 * t498 - 0.6e1 * t502 * t191 * t214 + 0.6e1 * t178 * t223 * t190 + 0.3e1 * t178 * t75 * (-0.8e1 * t509 * t48 - 0.160e3 / 0.3e1 * t512 * t514 - 0.8e1 * t179 * t521 - 0.200e3 / 0.3e1 * t524 * t529 + 0.320e3 / 0.9e1 * t187 * t517) + 0.2e1 * t540 * t75 * t541 - 0.2e1 * t196 * t223 * t214 - t196 * t75 * (0.48e2 * t512 * t509 + 0.240e3 * t524 * t514 + 0.24e2 * t187 * t521 + 0.800e3 / 0.3e1 * t556 * t529 - 0.320e3 / 0.3e1 * t200 * t517 + 0.1920e4 * t561 * t64 * t509 + 0.7680e4 * t204 * t209 * t514 + 0.384e3 * t204 * t64 * t521 + 0.22400e5 / 0.3e1 * t61 * t572 * t525 * t528 - 0.5120e4 / 0.3e1 * t61 * t210 * t174) + t69 * (-0.200e3 / 0.531441e6 * t586 * t489 + 0.110e3 / 0.2187e4 * t220 * t494 + t491 - t496)));
  t603 = 0.5e1 / 0.6e1 * t9 * rho[1] * t237 * t138;
  t605 = 0.1e1 / t12 / t468;
  t608 = t9 * t87 * t605 * t241;
  t610 = t158 * t158;
  t612 = 0.1e1 / t12 / t610;
  t615 = 0.1e1 / t239 / t85;
  t621 = my_piecewise3(t83, 0, -t603 - 0.5e1 / 0.6e1 * t608 + t9 * t274 * t612 * t615 * t137 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t231 + 0.2e1 * t246 + t10 * (t599 + t621);

  t632 = t9 * t24 * t605 * t250;
  t645 = my_piecewise3(t3, 0, t440 / 0.2e1 - t449 + t452 / 0.6e1 + t455 / 0.2e1 + t9 * t446 * t250 / 0.2e1 - 0.2e1 / 0.3e1 * t632 - t7 * t8 * t24 * t237 * t457 * t162 / 0.6e1 + t9 * t249 * t156 * t225 / 0.4e1);
  t648 = t9 * t148 * t86 * t137;
  t658 = t261 * t148 * t240 * t265;
  t666 = rho[1] * t469;
  t674 = t9 * t232 * t328;
  t681 = my_piecewise3(t83, 0, t648 / 0.2e1 + t9 * t237 * t240 * t137 * rho[1] / 0.4e1 - t603 - t608 / 0.6e1 + t658 / 0.6e1 - t7 * t8 * t87 * t237 * t615 * t265 / 0.6e1 - t261 * t262 * t137 * (-t159 + 0.2e1 * t666) / 0.4e1 + t674 / 0.2e1 + t9 * t238 * t240 * t327 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t231 + t246 + t255 + t333 + t10 * (t645 + t681);

  t693 = my_piecewise3(t3, 0, -t449 - 0.5e1 / 0.6e1 * t632 + t9 * t172 * t612 * t457 * t77 / 0.6e1);
  t701 = t264 * t264;
  t718 = t166 / t269 / t95;
  t719 = t718 * t43;
  t720 = sigma[2] * sigma[2];
  t722 = t87 * t87;
  t726 = t482 * t720 / t88 / t722 / t274;
  t728 = 0.200e3 / 0.531441e6 * t719 * t726;
  t730 = 0.1e1 / t89 / t722;
  t731 = t273 * t730;
  t733 = 0.110e3 / 0.2187e4 * t272 * t731;
  t734 = t111 * t128;
  t735 = t292 * t292;
  t739 = t112 * t297;
  t746 = t286 * t286;
  t749 = t104 * t116;
  t751 = t286 * tau[1] * t91;
  t754 = tau[1] * t276;
  t758 = 0.40e2 / 0.9e1 * t754 - 0.11e2 / 0.9e1 * sigma[2] * t730;
  t761 = t105 * t301;
  t762 = tau[1] * tau[1];
  t765 = 0.1e1 / t88 / t722 / rho[1];
  t766 = t762 * t765;
  t777 = t113 / t296 / t127;
  t778 = t316 * t316;
  t793 = t114 / t122 / t106;
  t798 = params->b * t119;
  t808 = t122 * t122;
  t809 = 0.1e1 / t808;
  t822 = t166 / t319 / t130;
  t823 = t822 * t43;
  t836 = my_piecewise3(t83, 0, t648 - t9 * t266 / 0.2e1 - 0.3e1 / 0.2e1 * t9 * t256 * t327 - t603 + t658 / 0.3e1 + t674 + t261 * t13 * t615 * t137 * t701 / 0.6e1 - t261 * t262 * t327 * t264 / 0.2e1 - t261 * t262 * t137 * (-0.2e1 * t159 + 0.2e1 * t666) / 0.4e1 - 0.3e1 / 0.4e1 * t9 * t84 * t86 * (-t728 + t733 + 0.6e1 * t734 * t135 * t735 - 0.6e1 * t739 * t293 * t316 + 0.6e1 * t280 * t325 * t292 + 0.3e1 * t280 * t135 * (-0.8e1 * t746 * t108 - 0.160e3 / 0.3e1 * t749 * t751 - 0.8e1 * t281 * t758 - 0.200e3 / 0.3e1 * t761 * t766 + 0.320e3 / 0.9e1 * t289 * t754) + 0.2e1 * t777 * t135 * t778 - 0.2e1 * t298 * t325 * t316 - t298 * t135 * (0.48e2 * t749 * t746 + 0.240e3 * t761 * t751 + 0.24e2 * t289 * t758 + 0.800e3 / 0.3e1 * t793 * t766 - 0.320e3 / 0.3e1 * t302 * t754 + 0.1920e4 * t798 * t124 * t746 + 0.7680e4 * t306 * t311 * t751 + 0.384e3 * t306 * t124 * t758 + 0.22400e5 / 0.3e1 * t121 * t809 * t762 * t765 - 0.5120e4 / 0.3e1 * t121 * t312 * t276) + t129 * (-0.200e3 / 0.531441e6 * t823 * t726 + 0.110e3 / 0.2187e4 * t322 * t731 + t728 - t733)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t255 + 0.2e1 * t333 + t10 * (t693 + t836);

  t844 = t9 * t149 * t356 / 0.2e1;
  t853 = t482 / t25 / t485 / t24 * sigma[0];
  t855 = 0.25e2 / 0.177147e6 * t480 * t853;
  t856 = t23 * t174;
  t858 = 0.10e2 / 0.729e3 * t169 * t856;
  t859 = t497 * t75;
  t864 = t502 * t75;
  t872 = t184 * t48;
  t876 = t528 * tau[0];
  t922 = t855 - t858 + 0.6e1 * t859 * t179 * t28 * t190 - 0.3e1 * t864 * t179 * t28 * t214 + 0.3e1 * t178 * t223 * t340 + 0.3e1 * t339 * t872 * t28 + 0.10e2 * t339 * t512 * t876 - 0.8e1 * t339 * t179 * t174 - 0.3e1 * t502 * t349 * t190 + 0.2e1 * t540 * t349 * t214 - t196 * t223 * t348 - t196 * t75 * (-0.480e3 * t204 * t209 * t528 * tau[0] + 0.128e3 * t204 * t64 * t174 - 0.6e1 * t512 * t28 * t184 - 0.240e3 * t561 * t345 * t184 + 0.8e1 * t187 * t174 - 0.15e2 * t524 * t876) + 0.3e1 * t178 * t353 * t190 - t196 * t353 * t214 + t69 * (0.25e2 / 0.177147e6 * t586 * t853 - 0.10e2 / 0.729e3 * t219 * t856 - t855 + t858);
  t928 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t143 * t355 + t844 - t154 * t157 * t355 * t161 / 0.4e1 - 0.3e1 / 0.4e1 * t9 * t14 * t17 * t922);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t10 * t928 + t360;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t932 = t9 * t232 * t381 / 0.2e1;
  t938 = my_piecewise3(t83, 0, t932 + t9 * t238 * t240 * t380 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t10 * t938 + t385;

  t945 = my_piecewise3(t3, 0, t844 + t9 * t249 * t156 * t355 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t10 * t945 + t360;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t958 = t482 / t88 / t722 / t87 * sigma[2];
  t960 = 0.25e2 / 0.177147e6 * t719 * t958;
  t961 = t23 * t276;
  t963 = 0.10e2 / 0.729e3 * t271 * t961;
  t964 = t734 * t135;
  t969 = t739 * t135;
  t977 = t286 * t108;
  t981 = t765 * tau[1];
  t1027 = t960 - t963 + 0.6e1 * t964 * t281 * t91 * t292 - 0.3e1 * t969 * t281 * t91 * t316 + 0.3e1 * t280 * t325 * t365 + 0.3e1 * t364 * t977 * t91 + 0.10e2 * t364 * t749 * t981 - 0.8e1 * t364 * t281 * t276 - 0.3e1 * t739 * t374 * t292 + 0.2e1 * t777 * t374 * t316 - t298 * t325 * t373 - t298 * t135 * (-0.480e3 * t306 * t311 * t765 * tau[1] + 0.128e3 * t306 * t124 * t276 - 0.240e3 * t798 * t370 * t286 - 0.6e1 * t749 * t91 * t286 + 0.8e1 * t289 * t276 - 0.15e2 * t761 * t981) + 0.3e1 * t280 * t378 * t292 - t298 * t378 * t316 + t129 * (0.25e2 / 0.177147e6 * t823 * t958 - 0.10e2 / 0.729e3 * t321 * t961 - t960 + t963);
  t1033 = my_piecewise3(t83, 0, -0.3e1 / 0.4e1 * t9 * t256 * t380 + t932 - t261 * t262 * t380 * t264 / 0.4e1 - 0.3e1 / 0.4e1 * t9 * t84 * t86 * t1027);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t10 * t1033 + t385;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[3] = 0.0e0;

  t1040 = t9 * t149 * t406 / 0.2e1;
  t1057 = 0.1e1 / t25 / t485;
  t1058 = t1057 * tau[0];
  t1062 = t38 * t184;
  t1063 = t512 * t1062;
  t1065 = t524 * t1058;
  t1092 = t209 * t1057;
  t1107 = -0.4480e4 * t61 * t572 * t1057 * tau[0] + 0.3840e4 * t204 * t1092 * tau[0] - 0.2304e4 * t204 * t399 * t184 + 0.1920e4 * t561 * t396 * t184 + 0.640e3 * t61 * t209 * t28 - 0.160e3 * t556 * t1058 - 0.72e2 * t524 * t1062 + 0.40e2 * t200 * t28 + 0.48e2 * t1063 + 0.120e3 * t1065 - 0.40e2 * t343 - 0.640e3 * t346;
  t1116 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t143 * t405 + t1040 - t154 * t157 * t405 * t161 / 0.4e1 - 0.3e1 / 0.4e1 * t9 * t14 * t17 * (0.6e1 * t497 * t390 * t190 - 0.3e1 * t502 * t390 * t214 + 0.3e1 * t178 * t223 * t389 + 0.3e1 * t178 * t75 * (-0.8e1 * t872 * t38 - 0.80e2 / 0.3e1 * t512 * t1058 + 0.40e2 / 0.3e1 * t340 + 0.16e2 * t1063 + 0.40e2 * t1065 - 0.40e2 / 0.3e1 * t343) - 0.3e1 * t502 * t403 * t190 + 0.2e1 * t540 * t403 * t214 - t196 * t223 * t402 - t196 * t75 * t1107));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[0] = t10 * t1116 + t410;

  t1120 = t9 * t232 * t431 / 0.2e1;
  t1126 = my_piecewise3(t83, 0, t1120 + t9 * t238 * t240 * t430 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[1] = t10 * t1126 + t435;

  t1133 = my_piecewise3(t3, 0, t1040 + t9 * t249 * t156 * t405 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[2] = t10 * t1133 + t410;

  t1154 = 0.1e1 / t88 / t722;
  t1155 = t1154 * tau[1];
  t1159 = t101 * t286;
  t1160 = t749 * t1159;
  t1162 = t761 * t1155;
  t1189 = t311 * t1154;
  t1204 = -0.4480e4 * t121 * t809 * t1154 * tau[1] + 0.3840e4 * t306 * t1189 * tau[1] + 0.640e3 * t121 * t311 * t91 - 0.2304e4 * t306 * t424 * t286 + 0.1920e4 * t798 * t421 * t286 - 0.160e3 * t793 * t1155 - 0.72e2 * t761 * t1159 + 0.40e2 * t302 * t91 + 0.48e2 * t1160 + 0.120e3 * t1162 - 0.40e2 * t368 - 0.640e3 * t371;
  t1213 = my_piecewise3(t83, 0, -0.3e1 / 0.4e1 * t9 * t256 * t430 + t1120 - t261 * t262 * t430 * t264 / 0.4e1 - 0.3e1 / 0.4e1 * t9 * t84 * t86 * (0.6e1 * t734 * t415 * t292 - 0.3e1 * t739 * t415 * t316 + 0.3e1 * t280 * t325 * t414 + 0.3e1 * t280 * t135 * (-0.8e1 * t977 * t101 - 0.80e2 / 0.3e1 * t749 * t1155 + 0.40e2 / 0.3e1 * t365 + 0.16e2 * t1160 + 0.40e2 * t1162 - 0.40e2 / 0.3e1 * t368) - 0.3e1 * t739 * t428 * t292 + 0.2e1 * t777 * t428 * t316 - t298 * t325 * t427 - t298 * t135 * t1204));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[3] = t10 * t1213 + t435;

  t1215 = t43 * t482;
  t1216 = t1215 * t528;
  t1217 = t479 * t1216;
  t1233 = t348 * t348;
  t1257 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t14 * t17 * (-0.25e2 / 0.472392e6 * t1217 + 0.6e1 * t859 * t524 * t528 - 0.6e1 * t864 * t179 * t28 * t348 + 0.6e1 * t178 * t353 * t340 - 0.3e1 / 0.8e1 * t178 * t75 * t528 * t48 + 0.2e1 * t540 * t75 * t1233 - 0.2e1 * t196 * t353 * t348 - t196 * t75 * (0.3e1 / 0.4e1 * t512 * t528 + 0.30e2 * t561 * t64 * t528) + t69 * (-0.25e2 / 0.472392e6 * t585 * t1216 + 0.25e2 / 0.472392e6 * t1217)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t10 * t1257;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t1258 = t1215 * t765;
  t1259 = t718 * t1258;
  t1275 = t373 * t373;
  t1299 = my_piecewise3(t83, 0, -0.3e1 / 0.4e1 * t9 * t84 * t86 * (-0.25e2 / 0.472392e6 * t1259 + 0.6e1 * t964 * t761 * t765 - 0.6e1 * t969 * t281 * t91 * t373 + 0.6e1 * t280 * t378 * t365 - 0.3e1 / 0.8e1 * t280 * t135 * t765 * t108 + 0.2e1 * t777 * t135 * t1275 - 0.2e1 * t298 * t378 * t373 - t298 * t135 * (0.3e1 / 0.4e1 * t749 * t765 + 0.30e2 * t798 * t124 * t765) + t129 * (-0.25e2 / 0.472392e6 * t822 * t1258 + 0.25e2 / 0.472392e6 * t1259)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t10 * t1299;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[4] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[5] = 0.0e0;

  t1301 = t48 * t28;
  t1312 = t512 * t1057;
  t1343 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t14 * t17 * (0.6e1 * t859 * t389 * t41 * t1301 - 0.3e1 * t502 * t390 * t348 + 0.3e1 * t178 * t353 * t389 + 0.3e1 * t178 * t75 * (t1057 * t48 - 0.2e1 * t1312) - 0.3e1 * t864 * t402 * t41 * t1301 + 0.2e1 * t540 * t403 * t348 - t196 * t353 * t402 - t196 * t75 * (-0.240e3 * t561 * t64 * t1057 + 0.9e1 * t524 * t1057 + 0.288e3 * t204 * t1092 - 0.6e1 * t1312)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[0] = t10 * t1343;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[4] = 0.0e0;

  t1345 = t108 * t91;
  t1356 = t749 * t1154;
  t1387 = my_piecewise3(t83, 0, -0.3e1 / 0.4e1 * t9 * t84 * t86 * (0.6e1 * t964 * t414 * t104 * t1345 - 0.3e1 * t739 * t415 * t373 + 0.3e1 * t280 * t378 * t414 + 0.3e1 * t280 * t135 * (t1154 * t108 - 0.2e1 * t1356) - 0.3e1 * t969 * t427 * t104 * t1345 + 0.2e1 * t777 * t428 * t373 - t298 * t378 * t427 - t298 * t135 * (-0.240e3 * t798 * t124 * t1154 + 0.9e1 * t761 * t1154 + 0.288e3 * t306 * t1189 - 0.6e1 * t1356)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[5] = t10 * t1387;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[3] = 0.0e0;

  t1388 = t389 * t389;
  t1396 = 0.1e1 / t25 / t172;
  t1399 = t512 * t1396;
  t1401 = t524 * t1396;
  t1407 = t402 * t402;
  t1432 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t14 * t17 * (0.6e1 * t497 * t75 * t1388 - 0.6e1 * t502 * t390 * t402 + 0.3e1 * t178 * t75 * (-0.8e1 * t1396 * t48 + 0.32e2 * t1399 - 0.24e2 * t1401) + 0.2e1 * t540 * t75 * t1407 - t196 * t75 * (-0.4608e4 * t204 * t209 * t1396 + 0.1920e4 * t561 * t64 * t1396 + 0.2688e4 * t61 * t572 * t1396 + 0.96e2 * t556 * t1396 + 0.48e2 * t1399 - 0.144e3 * t1401)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[0] = t10 * t1432;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[1] = 0.0e0;

  t1433 = t414 * t414;
  t1441 = 0.1e1 / t88 / t274;
  t1444 = t749 * t1441;
  t1446 = t761 * t1441;
  t1452 = t427 * t427;
  t1477 = my_piecewise3(t83, 0, -0.3e1 / 0.4e1 * t9 * t84 * t86 * (0.6e1 * t734 * t135 * t1433 - 0.6e1 * t739 * t415 * t427 + 0.3e1 * t280 * t135 * (-0.8e1 * t1441 * t108 + 0.32e2 * t1444 - 0.24e2 * t1446) + 0.2e1 * t777 * t135 * t1452 - t298 * t135 * (0.2688e4 * t121 * t809 * t1441 + 0.1920e4 * t798 * t124 * t1441 - 0.4608e4 * t306 * t311 * t1441 + 0.96e2 * t793 * t1441 + 0.48e2 * t1444 - 0.144e3 * t1446)));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[2] = t10 * t1477;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

