/* 
  This file was generated automatically with ./scripts/maple2c.pl.
  Do not edit this file directly as it can be overwritten!!

  This Source Code Form is subject to the terms of the Mozilla Public
  License, v. 2.0. If a copy of the MPL was not distributed with this
  file, You can obtain one at http://mozilla.org/MPL/2.0/.

  Maple version     : Maple 2016 (X86 64 LINUX)
  Maple source      : ./maple/mgga_exc/mgga_x_tpss.mpl
  Type of functional: mgga_exc
*/

#define maple2c_order 2
#define MAPLE2C_FLAGS (XC_FLAGS_I_HAVE_EXC | XC_FLAGS_I_HAVE_VXC | XC_FLAGS_I_HAVE_FXC)


static inline void
func_unpol(const xc_func_type *p, int order, const double *rho, const double *sigma, const double *lapl, const double *tau , double *zk MGGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t4, t5, t6, t8, t9, t10, t12, t14;
  double t15, t19, t20, t21, t22, t23, t24, t25;
  double t26, t27, t28, t30, t31, t32, t35, t36;
  double t37, t38, t39, t40, t41, t42, t43, t44;
  double t45, t47, t48, t51, t53, t56, t60, t61;
  double t62, t63, t66, t67, t68, t73, t74, t77;
  double t79, t80, t81, t82, t83, t85, t86, t89;
  double t90, t94, t95, t98, t99, t100, t103, t104;
  double t105, t106, t107, t108, t109, t113, t114, t118;
  double t119, t120, t122, t127, t131;

#ifndef XC_DONT_COMPILE_VXC
  double t132, t136, t137, t138, t139, t140, t142, t147;
  double t151, t152, t153, t154, t155, t156, t160, t161;
  double t165, t166, t172, t173, t174, t178, t179, t183;
  double t186, t191, t196, t197, t199, t201, t202, t205;
  double t210, t214, t218, t221, t222, t223, t224, t225;
  double t226, t229, t230, t234, t237, t238, t241, t243;
  double t246, t247, t251, t252, t255, t256, t259, t260;
  double t261, t263, t264, t265, t267, t268, t270, t272;
  double t275, t277, t283, t284, t287, t292, t295, t299;
  double t301, t304, t305, t308, t315, t319, t320, t324;
  double t325, t328, t331, t337, t340, t347, t350, t352;
  double t355;

#ifndef XC_DONT_COMPILE_FXC
  double t361, t365, t366, t367, t371, t374, t384, t385;
  double t386, t389, t391, t392, t395, t396, t400, t401;
  double t402, t413, t414, t417, t422, t426, t427, t430;
  double t433, t434, t440, t452, t457, t462, t463, t469;
  double t470, t486, t488, t492, t493, t494, t496, t511;
  double t523, t531, t535, t538, t544, t563, t566, t583;
  double t585, t590, t599, t612, t614, t621, t633, t639;
  double t640, t656, t659, t664, t668, t681, t684, t697;
  double t702, t707, t722, t733, t736, t740, t767, t771;
  double t774, t776, t779, t786, t804, t817, t842, t867;
  double t900, t902, t907, t910, t925, t928, t936, t940;
  double t947, t967;
#endif

#endif

#endif


  mgga_x_tpss_params *params;

  assert(p->params != NULL);
  params = (mgga_x_tpss_params * ) (p->params);

  t4 = rho[0] / 0.2e1 <= 0.101e1 * p->threshold_dens;
  t5 = M_CBRT3;
  t6 = M_CBRTPI;
  t8 = t5 / t6;
  t9 = POW_1_3(rho[0]);
  t10 = 0.1e1 / rho[0];
  t12 = 0.1e1 / tau[0];
  t14 = sigma[0] * t10 * t12 / 0.8e1;
  t15 = params->BLOC_b * sigma[0];
  t19 = params->BLOC_a + t15 * t10 * t12 / 0.8e1;
  t20 = pow(t14, t19);
  t21 = params->c * t20;
  t22 = sigma[0] * sigma[0];
  t23 = rho[0] * rho[0];
  t24 = 0.1e1 / t23;
  t25 = t22 * t24;
  t26 = tau[0] * tau[0];
  t27 = 0.1e1 / t26;
  t28 = t25 * t27;
  t30 = 0.1e1 + t28 / 0.64e2;
  t31 = t30 * t30;
  t32 = 0.1e1 / t31;
  t35 = M_CBRT6;
  t36 = (0.10e2 / 0.81e2 + t21 * t32) * t35;
  t37 = M_PI * M_PI;
  t38 = POW_1_3(t37);
  t39 = t38 * t38;
  t40 = 0.1e1 / t39;
  t41 = t36 * t40;
  t42 = M_CBRT2;
  t43 = t42 * t42;
  t44 = sigma[0] * t43;
  t45 = t9 * t9;
  t47 = 0.1e1 / t45 / t23;
  t48 = t44 * t47;
  t51 = tau[0] * t43;
  t53 = 0.1e1 / t45 / rho[0];
  t56 = t51 * t53 - t48 / 0.8e1;
  t60 = 0.5e1 / 0.9e1 * t56 * t35 * t40 - 0.1e1;
  t61 = params->b * t56;
  t62 = t35 * t40;
  t63 = t62 * t60;
  t66 = 0.5e1 * t61 * t63 + 0.9e1;
  t67 = sqrt(t66);
  t68 = 0.1e1 / t67;
  t73 = 0.27e2 / 0.20e2 * t60 * t68 + t62 * t48 / 0.36e2;
  t74 = t73 * t73;
  t77 = t35 * t35;
  t79 = 0.1e1 / t38 / t37;
  t80 = t77 * t79;
  t81 = t22 * t42;
  t82 = t23 * t23;
  t83 = t82 * rho[0];
  t85 = 0.1e1 / t9 / t83;
  t86 = t81 * t85;
  t89 = 0.100e3 * t80 * t86 + 0.162e3 * t28;
  t90 = sqrt(t89);
  t94 = 0.1e1 / params->kappa * t77;
  t95 = t94 * t79;
  t98 = sqrt(params->e);
  t99 = t98 * t22;
  t100 = t24 * t27;
  t103 = params->e * params->mu;
  t104 = t37 * t37;
  t105 = 0.1e1 / t104;
  t106 = t22 * sigma[0];
  t107 = t105 * t106;
  t108 = t82 * t82;
  t109 = 0.1e1 / t108;
  t113 = t41 * t48 / 0.24e2 + 0.146e3 / 0.2025e4 * t74 - 0.73e2 / 0.97200e5 * t73 * t90 + 0.25e2 / 0.472392e6 * t95 * t86 + t99 * t100 / 0.720e3 + t103 * t107 * t109 / 0.576e3;
  t114 = t98 * t35;
  t118 = 0.1e1 + t114 * t40 * t48 / 0.24e2;
  t119 = t118 * t118;
  t120 = 0.1e1 / t119;
  t122 = t113 * t120 + params->kappa;
  t127 = 0.1e1 + params->kappa * (0.1e1 - params->kappa / t122);
  t131 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t8 * t9 * t127);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = 0.2e1 * t131;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t132 = 0.1e1 / t45;
  t136 = t8 * t9;
  t137 = params->kappa * params->kappa;
  t138 = t122 * t122;
  t139 = 0.1e1 / t138;
  t140 = t137 * t139;
  t142 = log(t14);
  t147 = -t15 * t24 * t12 * t142 / 0.8e1 - t19 * t10;
  t151 = 0.1e1 / t31 / t30;
  t152 = t21 * t151;
  t153 = t23 * rho[0];
  t154 = 0.1e1 / t153;
  t155 = t22 * t154;
  t156 = t155 * t27;
  t160 = (t21 * t147 * t32 + t152 * t156 / 0.16e2) * t35;
  t161 = t160 * t40;
  t165 = 0.1e1 / t45 / t153;
  t166 = t44 * t165;
  t172 = -0.5e1 / 0.3e1 * t51 * t47 + t166 / 0.3e1;
  t173 = t172 * t35;
  t174 = t40 * t68;
  t178 = 0.1e1 / t67 / t66;
  t179 = t60 * t178;
  t183 = t80 * t172;
  t186 = 0.5e1 * params->b * t172 * t63 + 0.25e2 / 0.9e1 * t61 * t183;
  t191 = 0.3e1 / 0.4e1 * t173 * t174 - 0.27e2 / 0.40e2 * t179 * t186 - 0.2e1 / 0.27e2 * t62 * t166;
  t196 = 0.1e1 / t90;
  t197 = t73 * t196;
  t199 = t82 * t23;
  t201 = 0.1e1 / t9 / t199;
  t202 = t81 * t201;
  t205 = -0.324e3 * t156 - 0.1600e4 / 0.3e1 * t80 * t202;
  t210 = t154 * t27;
  t214 = 0.1e1 / t108 / rho[0];
  t218 = t161 * t48 / 0.24e2 - t41 * t166 / 0.9e1 + 0.292e3 / 0.2025e4 * t73 * t191 - 0.73e2 / 0.97200e5 * t191 * t90 - 0.73e2 / 0.194400e6 * t197 * t205 - 0.50e2 / 0.177147e6 * t95 * t202 - t99 * t210 / 0.360e3 - t103 * t107 * t214 / 0.72e2;
  t221 = 0.1e1 / t119 / t118;
  t222 = t113 * t221;
  t223 = t222 * t114;
  t224 = t40 * sigma[0];
  t225 = t43 * t165;
  t226 = t224 * t225;
  t229 = t218 * t120 + 0.2e1 / 0.9e1 * t223 * t226;
  t230 = t140 * t229;
  t234 = my_piecewise3(t4, 0, -t8 * t132 * t127 / 0.8e1 - 0.3e1 / 0.8e1 * t136 * t230);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = 0.2e1 * rho[0] * t234 + 0.2e1 * t131;

  t237 = params->BLOC_b * t10;
  t238 = t12 * t142;
  t241 = 0.1e1 / sigma[0];
  t243 = t237 * t238 / 0.8e1 + t19 * t241;
  t246 = sigma[0] * t24;
  t247 = t246 * t27;
  t251 = (t21 * t243 * t32 - t152 * t247 / 0.16e2) * t35;
  t252 = t251 * t40;
  t255 = t40 * t43;
  t256 = t255 * t47;
  t259 = t43 * t47;
  t260 = t62 * t68;
  t261 = t259 * t260;
  t263 = params->b * t43;
  t264 = t263 * t47;
  t265 = t264 * t63;
  t267 = t61 * t77;
  t268 = t79 * t43;
  t270 = t267 * t268 * t47;
  t272 = -0.5e1 / 0.8e1 * t265 - 0.25e2 / 0.72e2 * t270;
  t275 = t259 * t62;
  t277 = -0.3e1 / 0.32e2 * t261 - 0.27e2 / 0.40e2 * t179 * t272 + t275 / 0.36e2;
  t283 = sigma[0] * t42;
  t284 = t283 * t85;
  t287 = 0.200e3 * t80 * t284 + 0.324e3 * t247;
  t292 = t98 * sigma[0];
  t295 = t105 * t22;
  t299 = t252 * t48 / 0.24e2 + t36 * t256 / 0.24e2 + 0.292e3 / 0.2025e4 * t73 * t277 - 0.73e2 / 0.97200e5 * t277 * t90 - 0.73e2 / 0.194400e6 * t197 * t287 + 0.25e2 / 0.236196e6 * t95 * t284 + t292 * t100 / 0.360e3 + t103 * t295 * t109 / 0.192e3;
  t301 = t222 * t98;
  t304 = t299 * t120 - t301 * t275 / 0.12e2;
  t305 = t140 * t304;
  t308 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t136 * t305);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = 0.2e1 * rho[0] * t308;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[0] = 0.0e0;

  t315 = -t15 * t10 * t27 * t142 / 0.8e1 - t19 * t12;
  t319 = 0.1e1 / t26 / tau[0];
  t320 = t25 * t319;
  t324 = (t21 * t315 * t32 + t152 * t320 / 0.16e2) * t35;
  t325 = t324 * t40;
  t328 = t43 * t53;
  t331 = t263 * t53;
  t337 = 0.5e1 * t331 * t63 + 0.25e2 / 0.9e1 * t267 * t268 * t53;
  t340 = 0.3e1 / 0.4e1 * t328 * t260 - 0.27e2 / 0.40e2 * t179 * t337;
  t347 = t24 * t319;
  t350 = t325 * t48 / 0.24e2 + 0.292e3 / 0.2025e4 * t73 * t340 - 0.73e2 / 0.97200e5 * t340 * t90 + 0.73e2 / 0.600e3 * t197 * t320 - t99 * t347 / 0.360e3;
  t352 = t140 * t350 * t120;
  t355 = my_piecewise3(t4, 0, -0.3e1 / 0.8e1 * t136 * t352);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[0] = 0.2e1 * rho[0] * t355;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t361 = t8 * t132;
  t365 = 0.1e1 / t138 / t122;
  t366 = t137 * t365;
  t367 = t229 * t229;
  t371 = t147 * t147;
  t374 = t154 * t12;
  t384 = t21 * t147;
  t385 = t151 * t22;
  t386 = t385 * t210;
  t389 = t31 * t31;
  t391 = t21 / t389;
  t392 = t22 * t22;
  t395 = t26 * t26;
  t396 = 0.1e1 / t395;
  t400 = 0.1e1 / t82;
  t401 = t22 * t400;
  t402 = t401 * t27;
  t413 = 0.1e1 / t45 / t82;
  t414 = t44 * t413;
  t417 = t191 * t191;
  t422 = 0.40e2 / 0.9e1 * t51 * t165 - 0.11e2 / 0.9e1 * t414;
  t426 = t40 * t178;
  t427 = t426 * t186;
  t430 = t66 * t66;
  t433 = t60 / t67 / t430;
  t434 = t186 * t186;
  t440 = t172 * t172;
  t452 = 0.3e1 / 0.4e1 * t422 * t35 * t174 - 0.3e1 / 0.4e1 * t173 * t427 + 0.81e2 / 0.80e2 * t433 * t434 - 0.27e2 / 0.40e2 * t179 * (0.5e1 * params->b * t422 * t63 + 0.50e2 / 0.9e1 * params->b * t440 * t80 + 0.25e2 / 0.9e1 * t61 * t80 * t422) + 0.22e2 / 0.81e2 * t62 * t414;
  t457 = t191 * t196;
  t462 = t73 / t90 / t89;
  t463 = t205 * t205;
  t469 = 0.1e1 / t9 / t82 / t153;
  t470 = t81 * t469;
  t486 = (t21 * t371 * t32 + t21 * (t15 * t374 * t142 / 0.4e1 + t15 * t374 / 0.4e1 + t19 * t24) * t32 + t384 * t386 / 0.8e1 + 0.3e1 / 0.512e3 * t391 * t392 / t199 * t396 - 0.3e1 / 0.16e2 * t152 * t402) * t35 * t40 * t48 / 0.24e2 - 0.2e1 / 0.9e1 * t161 * t166 + 0.11e2 / 0.27e2 * t41 * t414 + 0.292e3 / 0.2025e4 * t417 + 0.292e3 / 0.2025e4 * t73 * t452 - 0.73e2 / 0.97200e5 * t452 * t90 - 0.73e2 / 0.97200e5 * t457 * t205 + 0.73e2 / 0.388800e6 * t462 * t463 - 0.73e2 / 0.194400e6 * t197 * (0.972e3 * t402 + 0.30400e5 / 0.9e1 * t80 * t470) + 0.950e3 / 0.531441e6 * t95 * t470 + t99 * t400 * t27 / 0.120e3 + t103 * t107 / t108 / t23 / 0.8e1;
  t488 = t218 * t221;
  t492 = t119 * t119;
  t493 = 0.1e1 / t492;
  t494 = t113 * t493;
  t496 = t494 * params->e * t77;
  t511 = my_piecewise3(t4, 0, t8 * t53 * t127 / 0.12e2 - t361 * t230 / 0.4e1 + 0.3e1 / 0.4e1 * t136 * t366 * t367 - 0.3e1 / 0.8e1 * t136 * t140 * (t486 * t120 + 0.4e1 / 0.9e1 * t488 * t114 * t226 + 0.4e1 / 0.27e2 * t496 * t79 * t22 * t42 * t469 - 0.22e2 / 0.27e2 * t223 * t224 * t43 * t413));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * rho[0] * t511 + 0.4e1 * t234;

  t523 = params->BLOC_b * t24;
  t531 = t21 * t243;
  t535 = t151 * sigma[0] * t100;
  t538 = 0.1e1 / t83;
  t544 = sigma[0] * t154 * t27;
  t563 = t259 * t35;
  t566 = t426 * t272;
  t583 = t225 * t62;
  t585 = t225 * t260 / 0.4e1 + 0.3e1 / 0.64e2 * t563 * t427 - 0.3e1 / 0.8e1 * t173 * t566 + 0.81e2 / 0.80e2 * t433 * t272 * t186 - 0.27e2 / 0.40e2 * t179 * (0.5e1 / 0.3e1 * t263 * t165 * t63 - 0.25e2 / 0.36e2 * t264 * t183 + 0.25e2 / 0.27e2 * t267 * t268 * t165) - 0.2e1 / 0.27e2 * t583;
  t590 = t277 * t196;
  t599 = t283 * t201;
  t612 = (t21 * t147 * t243 * t32 + t21 * (-t523 * t238 / 0.8e1 - t523 * t12 / 0.4e1) * t32 + t531 * t386 / 0.16e2 - t384 * t535 / 0.16e2 - 0.3e1 / 0.512e3 * t391 * t106 * t538 * t396 + t152 * t544 / 0.8e1) * t35 * t40 * t48 / 0.24e2 - t252 * t166 / 0.9e1 + t160 * t256 / 0.24e2 - t36 * t255 * t165 / 0.9e1 + 0.292e3 / 0.2025e4 * t191 * t277 + 0.292e3 / 0.2025e4 * t73 * t585 - 0.73e2 / 0.97200e5 * t585 * t90 - 0.73e2 / 0.194400e6 * t590 * t205 - 0.73e2 / 0.194400e6 * t457 * t287 + 0.73e2 / 0.388800e6 * t462 * t287 * t205 - 0.73e2 / 0.194400e6 * t197 * (-0.648e3 * t544 - 0.3200e4 / 0.3e1 * t80 * t599) - 0.100e3 / 0.177147e6 * t95 * t599 - t292 * t210 / 0.180e3 - t103 * t295 * t214 / 0.24e2;
  t614 = t299 * t221;
  t621 = t79 * t42;
  t633 = my_piecewise3(t4, 0, -t361 * t305 / 0.8e1 + 0.3e1 / 0.4e1 * t136 * t366 * t304 * t229 - 0.3e1 / 0.8e1 * t136 * t140 * (t612 * t120 + 0.2e1 / 0.9e1 * t614 * t114 * t226 - t488 * t98 * t275 / 0.12e2 - t496 * t621 * t201 * sigma[0] / 0.18e2 + 0.2e1 / 0.9e1 * t301 * t583));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = 0.2e1 * rho[0] * t633 + 0.2e1 * t308;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[0] = 0.0e0;

  t639 = t8 * t9 * t137;
  t640 = t365 * t350;
  t656 = t21 * t315;
  t659 = t385 * t347;
  t664 = 0.1e1 / t395 / tau[0];
  t668 = t155 * t319;
  t681 = t328 * t35;
  t684 = t426 * t337;
  t697 = -0.5e1 / 0.4e1 * t261 - 0.3e1 / 0.8e1 * t681 * t427 - 0.3e1 / 0.8e1 * t173 * t684 + 0.81e2 / 0.80e2 * t433 * t337 * t186 - 0.27e2 / 0.40e2 * t179 * (-0.25e2 / 0.3e1 * t265 + 0.50e2 / 0.9e1 * t331 * t183 - 0.125e3 / 0.27e2 * t270);
  t702 = t340 * t196;
  t707 = t462 * t22;
  t722 = 0.1e1 / t9 / t153;
  t733 = my_piecewise3(t4, 0, -t361 * t352 / 0.8e1 + 0.3e1 / 0.4e1 * t639 * t640 * t120 * t229 - 0.3e1 / 0.8e1 * t136 * t140 * ((t21 * t147 * t315 * t32 + t21 * (t15 * t100 * t142 / 0.8e1 + t15 * t100 / 0.4e1) * t32 + t656 * t386 / 0.16e2 + t384 * t659 / 0.16e2 + 0.3e1 / 0.512e3 * t391 * t392 * t538 * t664 - t152 * t668 / 0.8e1) * t35 * t40 * t48 / 0.24e2 - t325 * t166 / 0.9e1 + 0.292e3 / 0.2025e4 * t191 * t340 + 0.292e3 / 0.2025e4 * t73 * t697 - 0.73e2 / 0.97200e5 * t697 * t90 - 0.73e2 / 0.194400e6 * t702 * t205 + 0.73e2 / 0.600e3 * t457 * t320 - 0.73e2 / 0.1200e4 * t707 * t347 * t205 - 0.73e2 / 0.300e3 * t197 * t668 + t99 * t154 * t319 / 0.180e3) * t120 - t8 * t722 * t140 * t350 * t221 * t98 * t35 * t224 * t43 / 0.12e2);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[0] = 0.2e1 * rho[0] * t733 + 0.2e1 * t355;

  t736 = t304 * t304;
  t740 = t243 * t243;
  t767 = t277 * t277;
  t771 = t272 * t272;
  t774 = t179 * params->b;
  t776 = t80 * t42 * t85;
  t779 = 0.3e1 / 0.32e2 * t563 * t566 + 0.81e2 / 0.80e2 * t433 * t771 - 0.15e2 / 0.128e3 * t774 * t776;
  t786 = t287 * t287;
  t804 = (t21 * t740 * t32 + t21 * (t237 * t12 * t241 / 0.4e1 - t19 / t22) * t32 - t531 * t535 / 0.8e1 + 0.3e1 / 0.512e3 * t391 * t401 * t396 - t21 * t151 * t24 * t27 / 0.16e2) * t35 * t40 * t48 / 0.24e2 + t251 * t256 / 0.12e2 + 0.292e3 / 0.2025e4 * t767 + 0.292e3 / 0.2025e4 * t73 * t779 - 0.73e2 / 0.97200e5 * t779 * t90 - 0.73e2 / 0.97200e5 * t590 * t287 + 0.73e2 / 0.388800e6 * t462 * t786 - 0.73e2 / 0.194400e6 * t197 * (0.324e3 * t100 + 0.200e3 * t776) + 0.25e2 / 0.236196e6 * t94 * t621 * t85 + t98 * t24 * t27 / 0.360e3 + t103 * t105 * sigma[0] * t109 / 0.96e2;
  t817 = my_piecewise3(t4, 0, 0.3e1 / 0.4e1 * t136 * t366 * t736 - 0.3e1 / 0.8e1 * t136 * t140 * (t804 * t120 - t614 * t98 * t275 / 0.6e1 + t494 * params->e * t776 / 0.48e2));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = 0.2e1 * rho[0] * t817;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[0] = 0.0e0;

  t842 = t246 * t319;
  t867 = -0.3e1 / 0.8e1 * t681 * t566 + 0.3e1 / 0.64e2 * t563 * t684 + 0.81e2 / 0.80e2 * t433 * t337 * t272 + 0.15e2 / 0.16e2 * t774 * t42 / t9 / t82 * t80;
  t900 = my_piecewise3(t4, 0, 0.3e1 / 0.4e1 * t639 * t640 * t120 * t304 - 0.3e1 / 0.8e1 * t136 * t140 * ((t21 * t243 * t315 * t32 + t21 * (-t237 * t27 * t142 / 0.8e1 - t237 * t27 / 0.4e1) * t32 - t656 * t535 / 0.16e2 + t531 * t659 / 0.16e2 - 0.3e1 / 0.512e3 * t391 * t106 * t400 * t664 + t152 * t842 / 0.8e1) * t35 * t40 * t48 / 0.24e2 + t324 * t256 / 0.24e2 + 0.292e3 / 0.2025e4 * t277 * t340 + 0.292e3 / 0.2025e4 * t73 * t867 - 0.73e2 / 0.97200e5 * t867 * t90 - 0.73e2 / 0.194400e6 * t702 * t287 + 0.73e2 / 0.600e3 * t590 * t320 - 0.73e2 / 0.1200e4 * t707 * t347 * t287 + 0.73e2 / 0.300e3 * t197 * t842 - t292 * t347 / 0.180e3) * t120 + t8 / t9 / t23 * t137 * t139 * t350 * t221 * t98 * t62 * t43 / 0.32e2);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[0] = 0.2e1 * rho[0] * t900;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[0] = 0.0e0;

  t902 = t350 * t350;
  t907 = t315 * t315;
  t910 = t10 * t319;
  t925 = t392 * t400 / t395 / t26;
  t928 = t25 * t396;
  t936 = t340 * t340;
  t940 = t337 * t337;
  t947 = -0.3e1 / 0.4e1 * t681 * t684 + 0.81e2 / 0.80e2 * t433 * t940 - 0.15e2 / 0.2e1 * t774 * t42 * t722 * t80;
  t967 = my_piecewise3(t4, 0, 0.3e1 / 0.4e1 * t136 * t366 * t902 * t493 - 0.3e1 / 0.8e1 * t136 * t140 * ((t21 * t907 * t32 + t21 * (t15 * t910 * t142 / 0.4e1 + t15 * t910 / 0.4e1 + t19 * t27) * t32 + t656 * t659 / 0.8e1 + 0.3e1 / 0.512e3 * t391 * t925 - 0.3e1 / 0.16e2 * t152 * t928) * t35 * t40 * t48 / 0.24e2 + 0.292e3 / 0.2025e4 * t936 + 0.292e3 / 0.2025e4 * t73 * t947 - 0.73e2 / 0.97200e5 * t947 * t90 + 0.73e2 / 0.300e3 * t702 * t320 + 0.1971e4 / 0.100e3 * t462 * t925 - 0.73e2 / 0.200e3 * t197 * t928 + t99 * t24 * t396 / 0.120e3) * t120);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[0] = 0.2e1 * rho[0] * t967;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}


static inline void
func_pol(const xc_func_type *p, int order, const double *rho, const double *sigma, const double *lapl, const double *tau , double *zk MGGA_OUT_PARAMS_NO_EXC(XC_COMMA double *, ))
{

#ifndef XC_DONT_COMPILE_EXC
  double t2, t3, t4, t5, t7, t8, t9, t10;
  double t11, t12, t13, t15, t16, t17, t18, t20;
  double t22, t23, t27, t28, t29, t30, t31, t32;
  double t33, t34, t35, t36, t38, t39, t40, t43;
  double t44, t45, t46, t47, t48, t49, t50, t51;
  double t53, t54, t58, t60, t62, t66, t67, t68;
  double t69, t72, t73, t74, t79, t80, t83, t85;
  double t86, t87, t88, t90, t94, t95, t99, t100;
  double t104, t105, t106, t109, t110, t111, t112, t113;
  double t114, t115, t119, t120, t123, t124, t125, t127;
  double t132, t133, t137, t138, t140, t141, t142, t144;
  double t146, t147, t151, t152, t153, t154, t155, t156;
  double t157, t158, t159, t160, t162, t163, t164, t167;
  double t168, t169, t170, t172, t173, t177, t179, t181;
  double t185, t186, t187, t190, t191, t192, t197, t198;
  double t201, t202, t204, t208, t209, t212, t216, t217;
  double t220, t221, t222, t223, t227, t230, t231, t232;
  double t234, t239, t240, t244;

#ifndef XC_DONT_COMPILE_VXC
  double t245, t250, t254, t255, t256, t257, t258, t259;
  double t260, t261, t263, t264, t265, t268, t269, t270;
  double t271, t273, t278, t282, t283, t284, t285, t286;
  double t287, t291, t295, t296, t301, t303, t304, t305;
  double t309, t310, t314, t317, t320, t322, t327, t328;
  double t330, t332, t336, t342, t346, t350, t353, t355;
  double t358, t359, t364, t368, t370, t372, t373, t374;
  double t379, t383, t388, t389, t393, t394, t395, t397;
  double t398, t399, t402, t403, t404, t406, t411, t415;
  double t416, t417, t418, t419, t420, t424, t428, t429;
  double t434, t436, t437, t438, t442, t443, t447, t450;
  double t453, t455, t460, t461, t463, t465, t469, t475;
  double t479, t483, t486, t488, t491, t492, t497, t500;
  double t501, t504, t506, t509, t510, t514, t517, t520;
  double t521, t523, t524, t527, t529, t532, t534, t543;
  double t546, t550, t553, t557, t561, t562, t566, t567;
  double t568, t571, t573, t576, t577, t581, t584, t587;
  double t588, t590, t591, t594, t596, t599, t601, t610;
  double t613, t617, t620, t624, t628, t629, t633, t635;
  double t636, t642, t646, t647, t651, t654, t657, t663;
  double t666, t673, t676, t677, t678, t679, t682, t684;
  double t685, t691, t695, t696, t700, t703, t706, t712;
  double t715, t722, t725, t726, t727, t728, t731;

#ifndef XC_DONT_COMPILE_FXC
  double t734, t736, t740, t741, t745, t748, t751, t754;
  double t756, t758, t763, t768, t769, t778, t779, t780;
  double t785, t788, t798, t799, t800, t803, t805, t806;
  double t809, t810, t814, t815, t816, t826, t830, t834;
  double t836, t840, t841, t844, t847, t848, t854, t864;
  double t866, t871, t876, t877, t883, t885, t901, t904;
  double t907, t908, t910, t920, t921, t925, t927, t930;
  double t932, t934, t937, t943, t954, t956, t957, t962;
  double t967, t968, t970, t972, t980, t982, t983, t988;
  double t996, t1002, t1014, t1017, t1023, t1028, t1040, t1041;
  double t1042, t1047, t1050, t1060, t1061, t1062, t1065, t1067;
  double t1068, t1071, t1072, t1076, t1077, t1078, t1088, t1092;
  double t1096, t1098, t1102, t1103, t1106, t1109, t1110, t1116;
  double t1126, t1128, t1133, t1138, t1139, t1145, t1147, t1163;
  double t1166, t1169, t1170, t1172, t1182, t1183, t1186, t1192;
  double t1205, t1213, t1217, t1220, t1226, t1242, t1247, t1264;
  double t1266, t1271, t1281, t1294, t1297, t1312, t1316, t1321;
  double t1327, t1329, t1345, t1353, t1357, t1360, t1366, t1382;
  double t1387, t1404, t1406, t1411, t1421, t1434, t1437, t1452;
  double t1459, t1461, t1466, t1482, t1485, t1490, t1494, t1508;
  double t1521, t1526, t1531, t1555, t1560, t1567, t1575, t1580;
  double t1585, t1601, t1604, t1609, t1613, t1627, t1640, t1645;
  double t1650, t1674, t1676, t1681, t1707, t1711, t1714, t1715;
  double t1718, t1725, t1743, t1755, t1756, t1761, t1787, t1791;
  double t1794, t1795, t1798, t1805, t1823, t1835, t1859, t1883;
  double t1915, t1939, t1963, t1995, t1996, t2002, t2005, t2020;
  double t2023, t2030, t2034, t2043, t2064, t2065, t2071, t2074;
  double t2089, t2092, t2099, t2103, t2112, t2133;
#endif

#endif

#endif


  mgga_x_tpss_params *params;

  assert(p->params != NULL);
  params = (mgga_x_tpss_params * ) (p->params);

  t2 = 0.101e1 * p->threshold_dens;
  t3 = rho[0] <= t2;
  t4 = M_CBRT3;
  t5 = M_CBRTPI;
  t7 = t4 / t5;
  t8 = M_CBRT2;
  t9 = t7 * t8;
  t10 = rho[0] + rho[1];
  t11 = POW_1_3(t10);
  t12 = t11 * t11;
  t13 = 0.1e1 / t12;
  t15 = 0.1e1 / t10;
  t16 = rho[0] * t15;
  t17 = POW_1_3(t16);
  t18 = 0.1e1 / rho[0];
  t20 = 0.1e1 / tau[0];
  t22 = sigma[0] * t18 * t20 / 0.8e1;
  t23 = params->BLOC_b * sigma[0];
  t27 = params->BLOC_a + t23 * t18 * t20 / 0.8e1;
  t28 = pow(t22, t27);
  t29 = params->c * t28;
  t30 = sigma[0] * sigma[0];
  t31 = rho[0] * rho[0];
  t32 = 0.1e1 / t31;
  t33 = t30 * t32;
  t34 = tau[0] * tau[0];
  t35 = 0.1e1 / t34;
  t36 = t33 * t35;
  t38 = 0.1e1 + t36 / 0.64e2;
  t39 = t38 * t38;
  t40 = 0.1e1 / t39;
  t43 = M_CBRT6;
  t44 = (0.10e2 / 0.81e2 + t29 * t40) * t43;
  t45 = M_PI * M_PI;
  t46 = POW_1_3(t45);
  t47 = t46 * t46;
  t48 = 0.1e1 / t47;
  t49 = t48 * sigma[0];
  t50 = POW_1_3(rho[0]);
  t51 = t50 * t50;
  t53 = 0.1e1 / t51 / t31;
  t54 = t49 * t53;
  t58 = 0.1e1 / t51 / rho[0];
  t60 = sigma[0] * t53;
  t62 = tau[0] * t58 - t60 / 0.8e1;
  t66 = 0.5e1 / 0.9e1 * t62 * t43 * t48 - 0.1e1;
  t67 = params->b * t62;
  t68 = t43 * t48;
  t69 = t68 * t66;
  t72 = 0.5e1 * t67 * t69 + 0.9e1;
  t73 = sqrt(t72);
  t74 = 0.1e1 / t73;
  t79 = 0.27e2 / 0.20e2 * t66 * t74 + t68 * t60 / 0.36e2;
  t80 = t79 * t79;
  t83 = t43 * t43;
  t85 = 0.1e1 / t46 / t45;
  t86 = t83 * t85;
  t87 = t31 * t31;
  t88 = t87 * rho[0];
  t90 = 0.1e1 / t50 / t88;
  t94 = 0.50e2 * t86 * t30 * t90 + 0.162e3 * t36;
  t95 = sqrt(t94);
  t99 = 0.1e1 / params->kappa * t83;
  t100 = t85 * t30;
  t104 = sqrt(params->e);
  t105 = t104 * t30;
  t106 = t32 * t35;
  t109 = params->e * params->mu;
  t110 = t45 * t45;
  t111 = 0.1e1 / t110;
  t112 = t30 * sigma[0];
  t113 = t111 * t112;
  t114 = t87 * t87;
  t115 = 0.1e1 / t114;
  t119 = t44 * t54 / 0.24e2 + 0.146e3 / 0.2025e4 * t80 - 0.73e2 / 0.97200e5 * t79 * t95 + 0.25e2 / 0.944784e6 * t99 * t100 * t90 + t105 * t106 / 0.720e3 + t109 * t113 * t115 / 0.2304e4;
  t120 = t104 * t43;
  t123 = 0.1e1 + t120 * t54 / 0.24e2;
  t124 = t123 * t123;
  t125 = 0.1e1 / t124;
  t127 = t119 * t125 + params->kappa;
  t132 = 0.1e1 + params->kappa * (0.1e1 - params->kappa / t127);
  t133 = t17 * t132;
  t137 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * rho[0] * t13 * t133);
  t138 = rho[1] <= t2;
  t140 = rho[1] * t15;
  t141 = POW_1_3(t140);
  t142 = 0.1e1 / rho[1];
  t144 = 0.1e1 / tau[1];
  t146 = sigma[2] * t142 * t144 / 0.8e1;
  t147 = params->BLOC_b * sigma[2];
  t151 = params->BLOC_a + t147 * t142 * t144 / 0.8e1;
  t152 = pow(t146, t151);
  t153 = params->c * t152;
  t154 = sigma[2] * sigma[2];
  t155 = rho[1] * rho[1];
  t156 = 0.1e1 / t155;
  t157 = t154 * t156;
  t158 = tau[1] * tau[1];
  t159 = 0.1e1 / t158;
  t160 = t157 * t159;
  t162 = 0.1e1 + t160 / 0.64e2;
  t163 = t162 * t162;
  t164 = 0.1e1 / t163;
  t167 = (0.10e2 / 0.81e2 + t153 * t164) * t43;
  t168 = t48 * sigma[2];
  t169 = POW_1_3(rho[1]);
  t170 = t169 * t169;
  t172 = 0.1e1 / t170 / t155;
  t173 = t168 * t172;
  t177 = 0.1e1 / t170 / rho[1];
  t179 = sigma[2] * t172;
  t181 = tau[1] * t177 - t179 / 0.8e1;
  t185 = 0.5e1 / 0.9e1 * t181 * t43 * t48 - 0.1e1;
  t186 = params->b * t181;
  t187 = t68 * t185;
  t190 = 0.5e1 * t186 * t187 + 0.9e1;
  t191 = sqrt(t190);
  t192 = 0.1e1 / t191;
  t197 = 0.27e2 / 0.20e2 * t185 * t192 + t68 * t179 / 0.36e2;
  t198 = t197 * t197;
  t201 = t155 * t155;
  t202 = t201 * rho[1];
  t204 = 0.1e1 / t169 / t202;
  t208 = 0.50e2 * t86 * t154 * t204 + 0.162e3 * t160;
  t209 = sqrt(t208);
  t212 = t85 * t154;
  t216 = t104 * t154;
  t217 = t156 * t159;
  t220 = t154 * sigma[2];
  t221 = t111 * t220;
  t222 = t201 * t201;
  t223 = 0.1e1 / t222;
  t227 = t167 * t173 / 0.24e2 + 0.146e3 / 0.2025e4 * t198 - 0.73e2 / 0.97200e5 * t197 * t209 + 0.25e2 / 0.944784e6 * t99 * t212 * t204 + t216 * t217 / 0.720e3 + t109 * t221 * t223 / 0.2304e4;
  t230 = 0.1e1 + t120 * t173 / 0.24e2;
  t231 = t230 * t230;
  t232 = 0.1e1 / t231;
  t234 = t227 * t232 + params->kappa;
  t239 = 0.1e1 + params->kappa * (0.1e1 - params->kappa / t234);
  t240 = t141 * t239;
  t244 = my_piecewise3(t138, 0, -0.3e1 / 0.4e1 * t9 * rho[1] * t13 * t240);
  if(zk != NULL && (p->info->flags & XC_FLAGS_HAVE_EXC))
    zk[0] = t137 + t244;

#ifndef XC_DONT_COMPILE_VXC

  if(order < 1) return;


  t245 = t13 * t17;
  t250 = 0.1e1 / t12 / t10;
  t254 = t9 * rho[0] * t250 * t133 / 0.2e1;
  t255 = t8 * rho[0];
  t256 = t7 * t255;
  t257 = t17 * t17;
  t258 = 0.1e1 / t257;
  t259 = t13 * t258;
  t260 = t10 * t10;
  t261 = 0.1e1 / t260;
  t263 = -rho[0] * t261 + t15;
  t264 = t132 * t263;
  t265 = t259 * t264;
  t268 = params->kappa * params->kappa;
  t269 = t127 * t127;
  t270 = 0.1e1 / t269;
  t271 = t268 * t270;
  t273 = log(t22);
  t278 = -t23 * t32 * t20 * t273 / 0.8e1 - t27 * t18;
  t282 = 0.1e1 / t39 / t38;
  t283 = t29 * t282;
  t284 = t31 * rho[0];
  t285 = 0.1e1 / t284;
  t286 = t30 * t285;
  t287 = t286 * t35;
  t291 = (t29 * t278 * t40 + t283 * t287 / 0.16e2) * t43;
  t295 = 0.1e1 / t51 / t284;
  t296 = t49 * t295;
  t301 = sigma[0] * t295;
  t303 = -0.5e1 / 0.3e1 * tau[0] * t53 + t301 / 0.3e1;
  t304 = t303 * t43;
  t305 = t48 * t74;
  t309 = 0.1e1 / t73 / t72;
  t310 = t66 * t309;
  t314 = t86 * t303;
  t317 = 0.5e1 * params->b * t303 * t69 + 0.25e2 / 0.9e1 * t67 * t314;
  t320 = t68 * t301;
  t322 = 0.3e1 / 0.4e1 * t304 * t305 - 0.27e2 / 0.40e2 * t310 * t317 - 0.2e1 / 0.27e2 * t320;
  t327 = 0.1e1 / t95;
  t328 = t79 * t327;
  t330 = t87 * t31;
  t332 = 0.1e1 / t50 / t330;
  t336 = -0.324e3 * t287 - 0.800e3 / 0.3e1 * t86 * t30 * t332;
  t342 = t285 * t35;
  t346 = 0.1e1 / t114 / rho[0];
  t350 = t291 * t54 / 0.24e2 - t44 * t296 / 0.9e1 + 0.292e3 / 0.2025e4 * t79 * t322 - 0.73e2 / 0.97200e5 * t322 * t95 - 0.73e2 / 0.194400e6 * t328 * t336 - 0.25e2 / 0.177147e6 * t99 * t100 * t332 - t105 * t342 / 0.360e3 - t109 * t113 * t346 / 0.288e3;
  t353 = 0.1e1 / t124 / t123;
  t355 = t119 * t353 * t104;
  t358 = t350 * t125 + 0.2e1 / 0.9e1 * t355 * t320;
  t359 = t271 * t358;
  t364 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t9 * t245 * t132 + t254 - t256 * t265 / 0.4e1 - 0.3e1 / 0.4e1 * t256 * t245 * t359);
  t368 = t9 * rho[1] * t250 * t240 / 0.2e1;
  t370 = 0.1e1 / t12 / t260;
  t372 = t141 * t141;
  t373 = 0.1e1 / t372;
  t374 = t373 * t239;
  t379 = my_piecewise3(t138, 0, t368 + t9 * t155 * t370 * t374 / 0.4e1);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[0] = t137 + t244 + t10 * (t364 + t379);

  t383 = t258 * t132;
  t388 = my_piecewise3(t3, 0, t254 + t9 * t31 * t370 * t383 / 0.4e1);
  t389 = t13 * t141;
  t393 = t8 * rho[1];
  t394 = t7 * t393;
  t395 = t13 * t373;
  t397 = -rho[1] * t261 + t15;
  t398 = t239 * t397;
  t399 = t395 * t398;
  t402 = t234 * t234;
  t403 = 0.1e1 / t402;
  t404 = t268 * t403;
  t406 = log(t146);
  t411 = -t147 * t156 * t144 * t406 / 0.8e1 - t151 * t142;
  t415 = 0.1e1 / t163 / t162;
  t416 = t153 * t415;
  t417 = t155 * rho[1];
  t418 = 0.1e1 / t417;
  t419 = t154 * t418;
  t420 = t419 * t159;
  t424 = (t153 * t411 * t164 + t416 * t420 / 0.16e2) * t43;
  t428 = 0.1e1 / t170 / t417;
  t429 = t168 * t428;
  t434 = sigma[2] * t428;
  t436 = -0.5e1 / 0.3e1 * tau[1] * t172 + t434 / 0.3e1;
  t437 = t436 * t43;
  t438 = t48 * t192;
  t442 = 0.1e1 / t191 / t190;
  t443 = t185 * t442;
  t447 = t86 * t436;
  t450 = 0.5e1 * params->b * t436 * t187 + 0.25e2 / 0.9e1 * t186 * t447;
  t453 = t68 * t434;
  t455 = 0.3e1 / 0.4e1 * t437 * t438 - 0.27e2 / 0.40e2 * t443 * t450 - 0.2e1 / 0.27e2 * t453;
  t460 = 0.1e1 / t209;
  t461 = t197 * t460;
  t463 = t201 * t155;
  t465 = 0.1e1 / t169 / t463;
  t469 = -0.324e3 * t420 - 0.800e3 / 0.3e1 * t86 * t154 * t465;
  t475 = t418 * t159;
  t479 = 0.1e1 / t222 / rho[1];
  t483 = t424 * t173 / 0.24e2 - t167 * t429 / 0.9e1 + 0.292e3 / 0.2025e4 * t197 * t455 - 0.73e2 / 0.97200e5 * t455 * t209 - 0.73e2 / 0.194400e6 * t461 * t469 - 0.25e2 / 0.177147e6 * t99 * t212 * t465 - t216 * t475 / 0.360e3 - t109 * t221 * t479 / 0.288e3;
  t486 = 0.1e1 / t231 / t230;
  t488 = t227 * t486 * t104;
  t491 = t483 * t232 + 0.2e1 / 0.9e1 * t488 * t453;
  t492 = t404 * t491;
  t497 = my_piecewise3(t138, 0, -0.3e1 / 0.4e1 * t9 * t389 * t239 + t368 - t394 * t399 / 0.4e1 - 0.3e1 / 0.4e1 * t394 * t389 * t492);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vrho[1] = t137 + t244 + t10 * (t388 + t497);

  t500 = params->BLOC_b * t18;
  t501 = t20 * t273;
  t504 = 0.1e1 / sigma[0];
  t506 = t500 * t501 / 0.8e1 + t27 * t504;
  t509 = sigma[0] * t32;
  t510 = t509 * t35;
  t514 = (t29 * t506 * t40 - t283 * t510 / 0.16e2) * t43;
  t517 = t48 * t53;
  t520 = t53 * t43;
  t521 = t520 * t305;
  t523 = params->b * t53;
  t524 = t523 * t69;
  t527 = t67 * t86 * t53;
  t529 = -0.5e1 / 0.8e1 * t524 - 0.25e2 / 0.72e2 * t527;
  t532 = t520 * t48;
  t534 = -0.3e1 / 0.32e2 * t521 - 0.27e2 / 0.40e2 * t310 * t529 + t532 / 0.36e2;
  t543 = 0.100e3 * t86 * sigma[0] * t90 + 0.324e3 * t510;
  t546 = t85 * sigma[0];
  t550 = t104 * sigma[0];
  t553 = t111 * t30;
  t557 = t514 * t54 / 0.24e2 + t44 * t517 / 0.24e2 + 0.292e3 / 0.2025e4 * t79 * t534 - 0.73e2 / 0.97200e5 * t534 * t95 - 0.73e2 / 0.194400e6 * t328 * t543 + 0.25e2 / 0.472392e6 * t99 * t546 * t90 + t550 * t106 / 0.360e3 + t109 * t553 * t115 / 0.768e3;
  t561 = t557 * t125 - t355 * t532 / 0.12e2;
  t562 = t271 * t561;
  t566 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t256 * t245 * t562);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[0] = t10 * t566;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[1] = 0.0e0;

  t567 = params->BLOC_b * t142;
  t568 = t144 * t406;
  t571 = 0.1e1 / sigma[2];
  t573 = t567 * t568 / 0.8e1 + t151 * t571;
  t576 = sigma[2] * t156;
  t577 = t576 * t159;
  t581 = (t153 * t573 * t164 - t416 * t577 / 0.16e2) * t43;
  t584 = t48 * t172;
  t587 = t172 * t43;
  t588 = t587 * t438;
  t590 = params->b * t172;
  t591 = t590 * t187;
  t594 = t186 * t86 * t172;
  t596 = -0.5e1 / 0.8e1 * t591 - 0.25e2 / 0.72e2 * t594;
  t599 = t587 * t48;
  t601 = -0.3e1 / 0.32e2 * t588 - 0.27e2 / 0.40e2 * t443 * t596 + t599 / 0.36e2;
  t610 = 0.100e3 * t86 * sigma[2] * t204 + 0.324e3 * t577;
  t613 = t85 * sigma[2];
  t617 = t104 * sigma[2];
  t620 = t111 * t154;
  t624 = t581 * t173 / 0.24e2 + t167 * t584 / 0.24e2 + 0.292e3 / 0.2025e4 * t197 * t601 - 0.73e2 / 0.97200e5 * t601 * t209 - 0.73e2 / 0.194400e6 * t461 * t610 + 0.25e2 / 0.472392e6 * t99 * t613 * t204 + t617 * t217 / 0.360e3 + t109 * t620 * t223 / 0.768e3;
  t628 = t624 * t232 - t488 * t599 / 0.12e2;
  t629 = t404 * t628;
  t633 = my_piecewise3(t138, 0, -0.3e1 / 0.4e1 * t394 * t389 * t629);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vsigma[2] = t10 * t633;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[0] = 0.0e0;

  if(vrho != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vlapl[1] = 0.0e0;

  t635 = t7 * t255 * t13;
  t636 = t17 * t268;
  t642 = -t23 * t18 * t35 * t273 / 0.8e1 - t27 * t20;
  t646 = 0.1e1 / t34 / tau[0];
  t647 = t33 * t646;
  t651 = (t29 * t642 * t40 + t283 * t647 / 0.16e2) * t43;
  t654 = t58 * t43;
  t657 = params->b * t58;
  t663 = 0.5e1 * t657 * t69 + 0.25e2 / 0.9e1 * t67 * t86 * t58;
  t666 = 0.3e1 / 0.4e1 * t654 * t305 - 0.27e2 / 0.40e2 * t310 * t663;
  t673 = t32 * t646;
  t676 = t651 * t54 / 0.24e2 + 0.292e3 / 0.2025e4 * t79 * t666 - 0.73e2 / 0.97200e5 * t666 * t95 + 0.73e2 / 0.600e3 * t328 * t647 - t105 * t673 / 0.360e3;
  t677 = t270 * t676;
  t678 = t677 * t125;
  t679 = t636 * t678;
  t682 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t635 * t679);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[0] = t10 * t682;

  t684 = t7 * t393 * t13;
  t685 = t141 * t268;
  t691 = -t147 * t142 * t159 * t406 / 0.8e1 - t151 * t144;
  t695 = 0.1e1 / t158 / tau[1];
  t696 = t157 * t695;
  t700 = (t153 * t691 * t164 + t416 * t696 / 0.16e2) * t43;
  t703 = t177 * t43;
  t706 = params->b * t177;
  t712 = 0.5e1 * t706 * t187 + 0.25e2 / 0.9e1 * t186 * t86 * t177;
  t715 = 0.3e1 / 0.4e1 * t703 * t438 - 0.27e2 / 0.40e2 * t443 * t712;
  t722 = t156 * t695;
  t725 = t700 * t173 / 0.24e2 + 0.292e3 / 0.2025e4 * t197 * t715 - 0.73e2 / 0.97200e5 * t715 * t209 + 0.73e2 / 0.600e3 * t461 * t696 - t216 * t722 / 0.360e3;
  t726 = t403 * t725;
  t727 = t726 * t232;
  t728 = t685 * t727;
  t731 = my_piecewise3(t138, 0, -0.3e1 / 0.4e1 * t684 * t728);
  if(vrho != NULL && (p->info->flags & XC_FLAGS_HAVE_VXC))
    vtau[1] = t10 * t731;

#ifndef XC_DONT_COMPILE_FXC

  if(order < 2) return;


  t734 = t250 * t17;
  t736 = t9 * t734 * t132;
  t740 = t7 * t8 * t13;
  t741 = t270 * t358;
  t745 = rho[0] * t370;
  t748 = 0.5e1 / 0.6e1 * t9 * t745 * t133;
  t751 = t256 * t250 * t258 * t264;
  t754 = t256 * t734 * t359;
  t756 = 0.1e1 / t257 / t16;
  t758 = t263 * t263;
  t763 = t258 * t268;
  t768 = t260 * t10;
  t769 = 0.1e1 / t768;
  t778 = 0.1e1 / t269 / t127;
  t779 = t268 * t778;
  t780 = t358 * t358;
  t785 = t278 * t278;
  t788 = t285 * t20;
  t798 = t29 * t278;
  t799 = t282 * t30;
  t800 = t799 * t342;
  t803 = t39 * t39;
  t805 = t29 / t803;
  t806 = t30 * t30;
  t809 = t34 * t34;
  t810 = 0.1e1 / t809;
  t814 = 0.1e1 / t87;
  t815 = t30 * t814;
  t816 = t815 * t35;
  t826 = 0.1e1 / t51 / t87;
  t830 = t322 * t322;
  t834 = sigma[0] * t826;
  t836 = 0.40e2 / 0.9e1 * tau[0] * t295 - 0.11e2 / 0.9e1 * t834;
  t840 = t48 * t309;
  t841 = t840 * t317;
  t844 = t72 * t72;
  t847 = t66 / t73 / t844;
  t848 = t317 * t317;
  t854 = t303 * t303;
  t864 = t68 * t834;
  t866 = 0.3e1 / 0.4e1 * t836 * t43 * t305 - 0.3e1 / 0.4e1 * t304 * t841 + 0.81e2 / 0.80e2 * t847 * t848 - 0.27e2 / 0.40e2 * t310 * (0.5e1 * params->b * t836 * t69 + 0.50e2 / 0.9e1 * params->b * t854 * t86 + 0.25e2 / 0.9e1 * t67 * t86 * t836) + 0.22e2 / 0.81e2 * t864;
  t871 = t322 * t327;
  t876 = t79 / t95 / t94;
  t877 = t336 * t336;
  t883 = 0.1e1 / t50 / t87 / t284;
  t885 = t86 * t30 * t883;
  t901 = (t29 * t785 * t40 + t29 * (t23 * t788 * t273 / 0.4e1 + t23 * t788 / 0.4e1 + t27 * t32) * t40 + t798 * t800 / 0.8e1 + 0.3e1 / 0.512e3 * t805 * t806 / t330 * t810 - 0.3e1 / 0.16e2 * t283 * t816) * t43 * t54 / 0.24e2 - 0.2e1 / 0.9e1 * t291 * t296 + 0.11e2 / 0.27e2 * t44 * t49 * t826 + 0.292e3 / 0.2025e4 * t830 + 0.292e3 / 0.2025e4 * t79 * t866 - 0.73e2 / 0.97200e5 * t866 * t95 - 0.73e2 / 0.97200e5 * t871 * t336 + 0.73e2 / 0.388800e6 * t876 * t877 - 0.73e2 / 0.194400e6 * t328 * (0.972e3 * t816 + 0.15200e5 / 0.9e1 * t885) + 0.475e3 / 0.531441e6 * t99 * t100 * t883 + t105 * t814 * t35 / 0.120e3 + t109 * t113 / t114 / t31 / 0.32e2;
  t904 = t350 * t353 * t104;
  t907 = t124 * t124;
  t908 = 0.1e1 / t907;
  t910 = t119 * t908 * params->e;
  t920 = t736 - t9 * t265 / 0.2e1 - 0.3e1 / 0.2e1 * t740 * t636 * t741 - t748 + t751 / 0.3e1 + t754 + t256 * t13 * t756 * t132 * t758 / 0.6e1 - t635 * t763 * t741 * t263 / 0.2e1 - t256 * t259 * t132 * (0.2e1 * rho[0] * t769 - 0.2e1 * t261) / 0.4e1 + 0.3e1 / 0.2e1 * t256 * t245 * t779 * t780 - 0.3e1 / 0.4e1 * t256 * t245 * t271 * (t901 * t125 + 0.4e1 / 0.9e1 * t904 * t320 + 0.2e1 / 0.27e2 * t910 * t885 - 0.22e2 / 0.27e2 * t355 * t864);
  t921 = my_piecewise3(t3, 0, t920);
  t925 = 0.5e1 / 0.6e1 * t9 * rho[1] * t370 * t240;
  t927 = 0.1e1 / t12 / t768;
  t930 = t9 * t155 * t927 * t374;
  t932 = t260 * t260;
  t934 = 0.1e1 / t12 / t932;
  t937 = 0.1e1 / t372 / t140;
  t943 = my_piecewise3(t138, 0, -t925 - 0.5e1 / 0.6e1 * t930 + t9 * t417 * t934 * t937 * t239 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[0] = 0.2e1 * t364 + 0.2e1 * t379 + t10 * (t921 + t943);

  t954 = t9 * t31 * t927 * t383;
  t956 = t8 * t31;
  t957 = t7 * t956;
  t962 = t370 * t258;
  t967 = my_piecewise3(t3, 0, t736 / 0.2e1 - t748 + t751 / 0.6e1 + t754 / 0.2e1 + t9 * t745 * t383 / 0.2e1 - 0.2e1 / 0.3e1 * t954 - t957 * t370 * t756 * t264 / 0.6e1 + t957 * t962 * t359 / 0.4e1);
  t968 = t250 * t141;
  t970 = t9 * t968 * t239;
  t972 = t370 * t373;
  t980 = t394 * t250 * t373 * t398;
  t982 = t8 * t155;
  t983 = t7 * t982;
  t988 = rho[1] * t769;
  t996 = t394 * t968 * t492;
  t1002 = my_piecewise3(t138, 0, t970 / 0.2e1 + t9 * t972 * t239 * rho[1] / 0.4e1 - t925 - t930 / 0.6e1 + t980 / 0.6e1 - t983 * t370 * t937 * t398 / 0.6e1 - t394 * t395 * t239 * (-t261 + 0.2e1 * t988) / 0.4e1 + t996 / 0.2e1 + t983 * t972 * t492 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[1] = t364 + t379 + t388 + t497 + t10 * (t967 + t1002);

  t1014 = my_piecewise3(t3, 0, -t748 - 0.5e1 / 0.6e1 * t954 + t9 * t284 * t934 * t756 * t132 / 0.6e1);
  t1017 = t403 * t491;
  t1023 = t397 * t397;
  t1028 = t373 * t268;
  t1040 = 0.1e1 / t402 / t234;
  t1041 = t268 * t1040;
  t1042 = t491 * t491;
  t1047 = t411 * t411;
  t1050 = t418 * t144;
  t1060 = t153 * t411;
  t1061 = t415 * t154;
  t1062 = t1061 * t475;
  t1065 = t163 * t163;
  t1067 = t153 / t1065;
  t1068 = t154 * t154;
  t1071 = t158 * t158;
  t1072 = 0.1e1 / t1071;
  t1076 = 0.1e1 / t201;
  t1077 = t154 * t1076;
  t1078 = t1077 * t159;
  t1088 = 0.1e1 / t170 / t201;
  t1092 = t455 * t455;
  t1096 = sigma[2] * t1088;
  t1098 = 0.40e2 / 0.9e1 * tau[1] * t428 - 0.11e2 / 0.9e1 * t1096;
  t1102 = t48 * t442;
  t1103 = t1102 * t450;
  t1106 = t190 * t190;
  t1109 = t185 / t191 / t1106;
  t1110 = t450 * t450;
  t1116 = t436 * t436;
  t1126 = t68 * t1096;
  t1128 = 0.3e1 / 0.4e1 * t1098 * t43 * t438 - 0.3e1 / 0.4e1 * t437 * t1103 + 0.81e2 / 0.80e2 * t1109 * t1110 - 0.27e2 / 0.40e2 * t443 * (0.5e1 * params->b * t1098 * t187 + 0.50e2 / 0.9e1 * params->b * t1116 * t86 + 0.25e2 / 0.9e1 * t186 * t86 * t1098) + 0.22e2 / 0.81e2 * t1126;
  t1133 = t455 * t460;
  t1138 = t197 / t209 / t208;
  t1139 = t469 * t469;
  t1145 = 0.1e1 / t169 / t201 / t417;
  t1147 = t86 * t154 * t1145;
  t1163 = (t153 * t1047 * t164 + t153 * (t147 * t1050 * t406 / 0.4e1 + t147 * t1050 / 0.4e1 + t151 * t156) * t164 + t1060 * t1062 / 0.8e1 + 0.3e1 / 0.512e3 * t1067 * t1068 / t463 * t1072 - 0.3e1 / 0.16e2 * t416 * t1078) * t43 * t173 / 0.24e2 - 0.2e1 / 0.9e1 * t424 * t429 + 0.11e2 / 0.27e2 * t167 * t168 * t1088 + 0.292e3 / 0.2025e4 * t1092 + 0.292e3 / 0.2025e4 * t197 * t1128 - 0.73e2 / 0.97200e5 * t1128 * t209 - 0.73e2 / 0.97200e5 * t1133 * t469 + 0.73e2 / 0.388800e6 * t1138 * t1139 - 0.73e2 / 0.194400e6 * t461 * (0.972e3 * t1078 + 0.15200e5 / 0.9e1 * t1147) + 0.475e3 / 0.531441e6 * t99 * t212 * t1145 + t216 * t1076 * t159 / 0.120e3 + t109 * t221 / t222 / t155 / 0.32e2;
  t1166 = t483 * t486 * t104;
  t1169 = t231 * t231;
  t1170 = 0.1e1 / t1169;
  t1172 = t227 * t1170 * params->e;
  t1182 = t970 - t9 * t399 / 0.2e1 - 0.3e1 / 0.2e1 * t740 * t685 * t1017 - t925 + t980 / 0.3e1 + t996 + t394 * t13 * t937 * t239 * t1023 / 0.6e1 - t684 * t1028 * t1017 * t397 / 0.2e1 - t394 * t395 * t239 * (-0.2e1 * t261 + 0.2e1 * t988) / 0.4e1 + 0.3e1 / 0.2e1 * t394 * t389 * t1041 * t1042 - 0.3e1 / 0.4e1 * t394 * t389 * t404 * (t1163 * t232 + 0.4e1 / 0.9e1 * t1166 * t453 + 0.2e1 / 0.27e2 * t1172 * t1147 - 0.22e2 / 0.27e2 * t488 * t1126);
  t1183 = my_piecewise3(t138, 0, t1182);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rho2[2] = 0.2e1 * t388 + 0.2e1 * t497 + t10 * (t1014 + t1183);

  t1186 = t270 * t561;
  t1192 = t256 * t734 * t562 / 0.2e1;
  t1205 = params->BLOC_b * t32;
  t1213 = t29 * t506;
  t1217 = t282 * sigma[0] * t106;
  t1220 = 0.1e1 / t88;
  t1226 = sigma[0] * t285 * t35;
  t1242 = t295 * t43;
  t1247 = t840 * t529;
  t1264 = t1242 * t48;
  t1266 = t1242 * t305 / 0.4e1 + 0.3e1 / 0.64e2 * t520 * t841 - 0.3e1 / 0.8e1 * t304 * t1247 + 0.81e2 / 0.80e2 * t847 * t529 * t317 - 0.27e2 / 0.40e2 * t310 * (0.5e1 / 0.3e1 * params->b * t295 * t69 - 0.25e2 / 0.36e2 * t523 * t314 + 0.25e2 / 0.27e2 * t67 * t86 * t295) - 0.2e1 / 0.27e2 * t1264;
  t1271 = t534 * t327;
  t1281 = t86 * sigma[0] * t332;
  t1294 = (t29 * t278 * t506 * t40 + t29 * (-t1205 * t501 / 0.8e1 - t1205 * t20 / 0.4e1) * t40 + t1213 * t800 / 0.16e2 - t798 * t1217 / 0.16e2 - 0.3e1 / 0.512e3 * t805 * t112 * t1220 * t810 + t283 * t1226 / 0.8e1) * t43 * t54 / 0.24e2 - t514 * t296 / 0.9e1 + t291 * t517 / 0.24e2 - t44 * t48 * t295 / 0.9e1 + 0.292e3 / 0.2025e4 * t322 * t534 + 0.292e3 / 0.2025e4 * t79 * t1266 - 0.73e2 / 0.97200e5 * t1266 * t95 - 0.73e2 / 0.194400e6 * t1271 * t336 - 0.73e2 / 0.194400e6 * t871 * t543 + 0.73e2 / 0.388800e6 * t876 * t543 * t336 - 0.73e2 / 0.194400e6 * t328 * (-0.648e3 * t1226 - 0.1600e4 / 0.3e1 * t1281) - 0.50e2 / 0.177147e6 * t99 * t546 * t332 - t550 * t342 / 0.180e3 - t109 * t553 * t346 / 0.96e2;
  t1297 = t557 * t353 * t104;
  t1312 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t740 * t636 * t1186 + t1192 - t635 * t763 * t1186 * t263 / 0.4e1 + 0.3e1 / 0.2e1 * t635 * t636 * t778 * t561 * t358 - 0.3e1 / 0.4e1 * t256 * t245 * t271 * (t1294 * t125 + 0.2e1 / 0.9e1 * t1297 * t320 - t904 * t532 / 0.12e2 - t910 * t1281 / 0.36e2 + 0.2e1 / 0.9e1 * t355 * t1264));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[0] = t10 * t1312 + t566;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[1] = 0.0e0;

  t1316 = t394 * t968 * t629 / 0.2e1;
  t1321 = my_piecewise3(t138, 0, t1316 + t983 * t972 * t629 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[2] = t10 * t1321 + t633;

  t1327 = my_piecewise3(t3, 0, t1192 + t957 * t962 * t562 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[3] = t10 * t1327 + t566;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[4] = 0.0e0;

  t1329 = t403 * t628;
  t1345 = params->BLOC_b * t156;
  t1353 = t153 * t573;
  t1357 = t415 * sigma[2] * t217;
  t1360 = 0.1e1 / t202;
  t1366 = sigma[2] * t418 * t159;
  t1382 = t428 * t43;
  t1387 = t1102 * t596;
  t1404 = t1382 * t48;
  t1406 = t1382 * t438 / 0.4e1 + 0.3e1 / 0.64e2 * t587 * t1103 - 0.3e1 / 0.8e1 * t437 * t1387 + 0.81e2 / 0.80e2 * t1109 * t596 * t450 - 0.27e2 / 0.40e2 * t443 * (0.5e1 / 0.3e1 * params->b * t428 * t187 - 0.25e2 / 0.36e2 * t590 * t447 + 0.25e2 / 0.27e2 * t186 * t86 * t428) - 0.2e1 / 0.27e2 * t1404;
  t1411 = t601 * t460;
  t1421 = t86 * sigma[2] * t465;
  t1434 = (t153 * t411 * t573 * t164 + t153 * (-t1345 * t568 / 0.8e1 - t1345 * t144 / 0.4e1) * t164 + t1353 * t1062 / 0.16e2 - t1060 * t1357 / 0.16e2 - 0.3e1 / 0.512e3 * t1067 * t220 * t1360 * t1072 + t416 * t1366 / 0.8e1) * t43 * t173 / 0.24e2 - t581 * t429 / 0.9e1 + t424 * t584 / 0.24e2 - t167 * t48 * t428 / 0.9e1 + 0.292e3 / 0.2025e4 * t455 * t601 + 0.292e3 / 0.2025e4 * t197 * t1406 - 0.73e2 / 0.97200e5 * t1406 * t209 - 0.73e2 / 0.194400e6 * t1411 * t469 - 0.73e2 / 0.194400e6 * t1133 * t610 + 0.73e2 / 0.388800e6 * t1138 * t610 * t469 - 0.73e2 / 0.194400e6 * t461 * (-0.648e3 * t1366 - 0.1600e4 / 0.3e1 * t1421) - 0.50e2 / 0.177147e6 * t99 * t613 * t465 - t617 * t475 / 0.180e3 - t109 * t620 * t479 / 0.96e2;
  t1437 = t624 * t486 * t104;
  t1452 = my_piecewise3(t138, 0, -0.3e1 / 0.4e1 * t740 * t685 * t1329 + t1316 - t684 * t1028 * t1329 * t397 / 0.4e1 + 0.3e1 / 0.2e1 * t684 * t685 * t1040 * t628 * t491 - 0.3e1 / 0.4e1 * t394 * t389 * t404 * (t1434 * t232 + 0.2e1 / 0.9e1 * t1437 * t453 - t1166 * t599 / 0.12e2 - t1172 * t1421 / 0.36e2 + 0.2e1 / 0.9e1 * t488 * t1404));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhosigma[5] = t10 * t1452 + t633;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rholapl[3] = 0.0e0;

  t1459 = t7 * t255 * t250 * t679 / 0.2e1;
  t1461 = t676 * t125;
  t1466 = t636 * t778;
  t1482 = t29 * t642;
  t1485 = t799 * t673;
  t1490 = 0.1e1 / t809 / tau[0];
  t1494 = t286 * t646;
  t1508 = t840 * t663;
  t1521 = -0.5e1 / 0.4e1 * t521 - 0.3e1 / 0.8e1 * t654 * t841 - 0.3e1 / 0.8e1 * t304 * t1508 + 0.81e2 / 0.80e2 * t847 * t663 * t317 - 0.27e2 / 0.40e2 * t310 * (-0.25e2 / 0.3e1 * t524 + 0.50e2 / 0.9e1 * t657 * t314 - 0.125e3 / 0.27e2 * t527);
  t1526 = t666 * t327;
  t1531 = t876 * t30;
  t1555 = my_piecewise3(t3, 0, -0.3e1 / 0.4e1 * t740 * t679 + t1459 - t635 * t763 * t270 * t1461 * t263 / 0.4e1 + 0.3e1 / 0.2e1 * t635 * t1466 * t1461 * t358 - 0.3e1 / 0.4e1 * t635 * t636 * t270 * ((t29 * t278 * t642 * t40 + t29 * (t23 * t106 * t273 / 0.8e1 + t23 * t106 / 0.4e1) * t40 + t1482 * t800 / 0.16e2 + t798 * t1485 / 0.16e2 + 0.3e1 / 0.512e3 * t805 * t806 * t1220 * t1490 - t283 * t1494 / 0.8e1) * t43 * t54 / 0.24e2 - t651 * t296 / 0.9e1 + 0.292e3 / 0.2025e4 * t322 * t666 + 0.292e3 / 0.2025e4 * t79 * t1521 - 0.73e2 / 0.97200e5 * t1521 * t95 - 0.73e2 / 0.194400e6 * t1526 * t336 + 0.73e2 / 0.600e3 * t871 * t647 - 0.73e2 / 0.1200e4 * t1531 * t673 * t336 - 0.73e2 / 0.300e3 * t328 * t1494 + t105 * t285 * t646 / 0.180e3) * t125 - t9 * t53 * t13 * t636 * t677 * t353 * t120 * t49 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[0] = t10 * t1555 + t682;

  t1560 = t7 * t393 * t250 * t728 / 0.2e1;
  t1567 = my_piecewise3(t138, 0, t1560 + t7 * t982 * t370 * t1028 * t727 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[1] = t10 * t1567 + t731;

  t1575 = my_piecewise3(t3, 0, t1459 + t7 * t956 * t370 * t763 * t678 / 0.4e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[2] = t10 * t1575 + t682;

  t1580 = t725 * t232;
  t1585 = t685 * t1040;
  t1601 = t153 * t691;
  t1604 = t1061 * t722;
  t1609 = 0.1e1 / t1071 / tau[1];
  t1613 = t419 * t695;
  t1627 = t1102 * t712;
  t1640 = -0.5e1 / 0.4e1 * t588 - 0.3e1 / 0.8e1 * t703 * t1103 - 0.3e1 / 0.8e1 * t437 * t1627 + 0.81e2 / 0.80e2 * t1109 * t712 * t450 - 0.27e2 / 0.40e2 * t443 * (-0.25e2 / 0.3e1 * t591 + 0.50e2 / 0.9e1 * t706 * t447 - 0.125e3 / 0.27e2 * t594);
  t1645 = t715 * t460;
  t1650 = t1138 * t154;
  t1674 = my_piecewise3(t138, 0, -0.3e1 / 0.4e1 * t740 * t728 + t1560 - t684 * t1028 * t403 * t1580 * t397 / 0.4e1 + 0.3e1 / 0.2e1 * t684 * t1585 * t1580 * t491 - 0.3e1 / 0.4e1 * t684 * t685 * t403 * ((t153 * t411 * t691 * t164 + t153 * (t147 * t217 * t406 / 0.8e1 + t147 * t217 / 0.4e1) * t164 + t1601 * t1062 / 0.16e2 + t1060 * t1604 / 0.16e2 + 0.3e1 / 0.512e3 * t1067 * t1068 * t1360 * t1609 - t416 * t1613 / 0.8e1) * t43 * t173 / 0.24e2 - t700 * t429 / 0.9e1 + 0.292e3 / 0.2025e4 * t455 * t715 + 0.292e3 / 0.2025e4 * t197 * t1640 - 0.73e2 / 0.97200e5 * t1640 * t209 - 0.73e2 / 0.194400e6 * t1645 * t469 + 0.73e2 / 0.600e3 * t1133 * t696 - 0.73e2 / 0.1200e4 * t1650 * t722 * t469 - 0.73e2 / 0.300e3 * t461 * t1613 + t216 * t418 * t695 / 0.180e3) * t232 - t9 * t172 * t13 * t685 * t726 * t486 * t120 * t168 / 0.6e1);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2rhotau[3] = t10 * t1674 + t731;

  t1676 = t561 * t561;
  t1681 = t506 * t506;
  t1707 = t534 * t534;
  t1711 = t529 * t529;
  t1714 = t310 * params->b;
  t1715 = t86 * t90;
  t1718 = 0.3e1 / 0.32e2 * t520 * t1247 + 0.81e2 / 0.80e2 * t847 * t1711 - 0.15e2 / 0.256e3 * t1714 * t1715;
  t1725 = t543 * t543;
  t1743 = (t29 * t1681 * t40 + t29 * (t500 * t20 * t504 / 0.4e1 - t27 / t30) * t40 - t1213 * t1217 / 0.8e1 + 0.3e1 / 0.512e3 * t805 * t815 * t810 - t29 * t282 * t32 * t35 / 0.16e2) * t43 * t54 / 0.24e2 + t514 * t517 / 0.12e2 + 0.292e3 / 0.2025e4 * t1707 + 0.292e3 / 0.2025e4 * t79 * t1718 - 0.73e2 / 0.97200e5 * t1718 * t95 - 0.73e2 / 0.97200e5 * t1271 * t543 + 0.73e2 / 0.388800e6 * t876 * t1725 - 0.73e2 / 0.194400e6 * t328 * (0.324e3 * t106 + 0.100e3 * t1715) + 0.25e2 / 0.472392e6 * t99 * t85 * t90 + t104 * t32 * t35 / 0.360e3 + t109 * t111 * sigma[0] * t115 / 0.384e3;
  t1755 = my_piecewise3(t3, 0, 0.3e1 / 0.2e1 * t256 * t245 * t779 * t1676 - 0.3e1 / 0.4e1 * t256 * t245 * t271 * (t1743 * t125 - t1297 * t532 / 0.6e1 + t910 * t1715 / 0.96e2));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[0] = t10 * t1755;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[4] = 0.0e0;

  t1756 = t628 * t628;
  t1761 = t573 * t573;
  t1787 = t601 * t601;
  t1791 = t596 * t596;
  t1794 = t443 * params->b;
  t1795 = t86 * t204;
  t1798 = 0.3e1 / 0.32e2 * t587 * t1387 + 0.81e2 / 0.80e2 * t1109 * t1791 - 0.15e2 / 0.256e3 * t1794 * t1795;
  t1805 = t610 * t610;
  t1823 = (t153 * t1761 * t164 + t153 * (t567 * t144 * t571 / 0.4e1 - t151 / t154) * t164 - t1353 * t1357 / 0.8e1 + 0.3e1 / 0.512e3 * t1067 * t1077 * t1072 - t153 * t415 * t156 * t159 / 0.16e2) * t43 * t173 / 0.24e2 + t581 * t584 / 0.12e2 + 0.292e3 / 0.2025e4 * t1787 + 0.292e3 / 0.2025e4 * t197 * t1798 - 0.73e2 / 0.97200e5 * t1798 * t209 - 0.73e2 / 0.97200e5 * t1411 * t610 + 0.73e2 / 0.388800e6 * t1138 * t1805 - 0.73e2 / 0.194400e6 * t461 * (0.324e3 * t217 + 0.100e3 * t1795) + 0.25e2 / 0.472392e6 * t99 * t85 * t204 + t104 * t156 * t159 / 0.360e3 + t109 * t111 * sigma[2] * t223 / 0.384e3;
  t1835 = my_piecewise3(t138, 0, 0.3e1 / 0.2e1 * t394 * t389 * t1041 * t1756 - 0.3e1 / 0.4e1 * t394 * t389 * t404 * (t1823 * t232 - t1437 * t599 / 0.6e1 + t1172 * t1795 / 0.96e2));
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigma2[5] = t10 * t1835;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[4] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmalapl[5] = 0.0e0;

  t1859 = t509 * t646;
  t1883 = -0.3e1 / 0.8e1 * t654 * t1247 + 0.3e1 / 0.64e2 * t520 * t1508 + 0.81e2 / 0.80e2 * t847 * t663 * t529 + 0.15e2 / 0.32e2 * t1714 / t50 / t87 * t83 * t85;
  t1915 = my_piecewise3(t3, 0, 0.3e1 / 0.2e1 * t635 * t1466 * t1461 * t561 - 0.3e1 / 0.4e1 * t635 * t636 * t270 * ((t29 * t506 * t642 * t40 + t29 * (-t500 * t35 * t273 / 0.8e1 - t500 * t35 / 0.4e1) * t40 - t1482 * t1217 / 0.16e2 + t1213 * t1485 / 0.16e2 - 0.3e1 / 0.512e3 * t805 * t112 * t814 * t1490 + t283 * t1859 / 0.8e1) * t43 * t54 / 0.24e2 + t651 * t517 / 0.24e2 + 0.292e3 / 0.2025e4 * t534 * t666 + 0.292e3 / 0.2025e4 * t79 * t1883 - 0.73e2 / 0.97200e5 * t1883 * t95 - 0.73e2 / 0.194400e6 * t1526 * t543 + 0.73e2 / 0.600e3 * t1271 * t647 - 0.73e2 / 0.1200e4 * t1531 * t673 * t543 + 0.73e2 / 0.300e3 * t328 * t1859 - t550 * t673 / 0.180e3) * t125 + t9 * t58 * t13 * t17 * t271 * t676 * t353 * t104 * t68 / 0.16e2);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[0] = t10 * t1915;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[3] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[4] = 0.0e0;

  t1939 = t576 * t695;
  t1963 = -0.3e1 / 0.8e1 * t703 * t1387 + 0.3e1 / 0.64e2 * t587 * t1627 + 0.81e2 / 0.80e2 * t1109 * t712 * t596 + 0.15e2 / 0.32e2 * t1794 / t169 / t201 * t83 * t85;
  t1995 = my_piecewise3(t138, 0, 0.3e1 / 0.2e1 * t684 * t1585 * t1580 * t628 - 0.3e1 / 0.4e1 * t684 * t685 * t403 * ((t153 * t573 * t691 * t164 + t153 * (-t567 * t159 * t406 / 0.8e1 - t567 * t159 / 0.4e1) * t164 - t1601 * t1357 / 0.16e2 + t1353 * t1604 / 0.16e2 - 0.3e1 / 0.512e3 * t1067 * t220 * t1076 * t1609 + t416 * t1939 / 0.8e1) * t43 * t173 / 0.24e2 + t700 * t584 / 0.24e2 + 0.292e3 / 0.2025e4 * t601 * t715 + 0.292e3 / 0.2025e4 * t197 * t1963 - 0.73e2 / 0.97200e5 * t1963 * t209 - 0.73e2 / 0.194400e6 * t1645 * t610 + 0.73e2 / 0.600e3 * t1411 * t696 - 0.73e2 / 0.1200e4 * t1650 * t722 * t610 + 0.73e2 / 0.300e3 * t461 * t1939 - t617 * t722 / 0.180e3) * t232 + t9 * t177 * t13 * t141 * t404 * t725 * t486 * t104 * t68 / 0.16e2);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2sigmatau[5] = t10 * t1995;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapl2[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[0] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[1] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[2] = 0.0e0;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_NEEDS_LAPLACIAN) && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2lapltau[3] = 0.0e0;

  t1996 = t676 * t676;
  t2002 = t642 * t642;
  t2005 = t18 * t646;
  t2020 = t806 * t814 / t809 / t34;
  t2023 = t33 * t810;
  t2030 = t666 * t666;
  t2034 = t663 * t663;
  t2043 = -0.3e1 / 0.4e1 * t654 * t1508 + 0.81e2 / 0.80e2 * t847 * t2034 - 0.15e2 / 0.4e1 * t1714 / t50 / t284 * t83 * t85;
  t2064 = my_piecewise3(t3, 0, 0.3e1 / 0.2e1 * t635 * t636 * t778 * t1996 * t908 - 0.3e1 / 0.4e1 * t635 * t636 * t270 * ((t29 * t2002 * t40 + t29 * (t23 * t2005 * t273 / 0.4e1 + t23 * t2005 / 0.4e1 + t27 * t35) * t40 + t1482 * t1485 / 0.8e1 + 0.3e1 / 0.512e3 * t805 * t2020 - 0.3e1 / 0.16e2 * t283 * t2023) * t43 * t54 / 0.24e2 + 0.292e3 / 0.2025e4 * t2030 + 0.292e3 / 0.2025e4 * t79 * t2043 - 0.73e2 / 0.97200e5 * t2043 * t95 + 0.73e2 / 0.300e3 * t1526 * t647 + 0.1971e4 / 0.100e3 * t876 * t2020 - 0.73e2 / 0.200e3 * t328 * t2023 + t105 * t32 * t810 / 0.120e3) * t125);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[0] = t10 * t2064;

  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[1] = 0.0e0;

  t2065 = t725 * t725;
  t2071 = t691 * t691;
  t2074 = t142 * t695;
  t2089 = t1068 * t1076 / t1071 / t158;
  t2092 = t157 * t1072;
  t2099 = t715 * t715;
  t2103 = t712 * t712;
  t2112 = -0.3e1 / 0.4e1 * t703 * t1627 + 0.81e2 / 0.80e2 * t1109 * t2103 - 0.15e2 / 0.4e1 * t1794 / t169 / t417 * t83 * t85;
  t2133 = my_piecewise3(t138, 0, 0.3e1 / 0.2e1 * t684 * t685 * t1040 * t2065 * t1170 - 0.3e1 / 0.4e1 * t684 * t685 * t403 * ((t153 * t2071 * t164 + t153 * (t147 * t2074 * t406 / 0.4e1 + t147 * t2074 / 0.4e1 + t151 * t159) * t164 + t1601 * t1604 / 0.8e1 + 0.3e1 / 0.512e3 * t1067 * t2089 - 0.3e1 / 0.16e2 * t416 * t2092) * t43 * t173 / 0.24e2 + 0.292e3 / 0.2025e4 * t2099 + 0.292e3 / 0.2025e4 * t197 * t2112 - 0.73e2 / 0.97200e5 * t2112 * t209 + 0.73e2 / 0.300e3 * t1645 * t696 + 0.1971e4 / 0.100e3 * t1138 * t2089 - 0.73e2 / 0.200e3 * t461 * t2092 + t216 * t156 * t1072 / 0.120e3) * t232);
  if(v2rho2 != NULL && (p->info->flags & XC_FLAGS_HAVE_FXC))
    v2tau2[2] = t10 * t2133;

#ifndef XC_DONT_COMPILE_KXC

  if(order < 3) return;


#endif

#endif

#endif


}

